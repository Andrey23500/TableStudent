"use strict";var FK=Object.defineProperty,NK=Object.defineProperties,LK=Object.getOwnPropertyDescriptors,MH=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,VK=Object.prototype.propertyIsEnumerable,SH=(rt,_e,F)=>_e in rt?FK(rt,_e,{enumerable:!0,configurable:!0,writable:!0,value:F}):rt[_e]=F,xH=(rt,_e)=>{for(var F in _e||(_e={}))BK.call(_e,F)&&SH(rt,F,_e[F]);if(MH)for(var F of MH(_e))VK.call(_e,F)&&SH(rt,F,_e[F]);return rt},AH=(rt,_e)=>NK(rt,LK(_e));(self.webpackChunktable_student=self.webpackChunktable_student||[]).push([[179],{2011:(rt,_e,F)=>{F.d(_e,{xv:()=>fe,Dh:()=>ce,GT:()=>De,cc:()=>Ve,on:()=>ke,pX:()=>oe});var l=F(5e3),j=F(9260);rt=F.hmd(rt);const N=["ngOnDestroy"],oe=(te,Ce,He,Ge={})=>new Proxy(te,{get:(Me,me)=>He.runOutsideAngular(()=>{var de;if(te[me])return(null===(de=null==Ge?void 0:Ge.spy)||void 0===de?void 0:de.get)&&Ge.spy.get(me,te[me]),te[me];if(N.indexOf(me)>-1)return()=>{};const Ne=Ce.toPromise().then(X=>{const ie=X&&X[me];return"function"==typeof ie?ie.bind(X):ie&&ie.then?ie.then(pe=>He.run(()=>pe)):He.run(()=>ie)});return new Proxy(()=>{},{get:(X,ie)=>Ne[ie],apply:(X,ie,pe)=>Ne.then(je=>{var nt;const ot=je&&je(...pe);return(null===(nt=null==Ge?void 0:Ge.spy)||void 0===nt?void 0:nt.apply)&&Ge.spy.apply(me,pe,ot),ot})})})}),De=(te,Ce)=>{Ce.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Ge=>{Object.defineProperty(te.prototype,Ge,Object.getOwnPropertyDescriptor(He.prototype||He,Ge))})})};class we{constructor(Ce){return Ce}}const ce=new l.OlP("angularfire2.app.options"),fe=new l.OlP("angularfire2.app.name");function ke(te,Ce,He){const Me="object"==typeof He&&He||{};Me.name=Me.name||"string"==typeof He&&He||"[DEFAULT]";const de=j.Z.apps.filter(Ne=>Ne&&Ne.name===Me.name)[0]||Ce.runOutsideAngular(()=>j.Z.initializeApp(te,Me));try{JSON.stringify(te)!==JSON.stringify(de.options)&&G("error",`${de.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new we(de)}const G=(te,...Ce)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[te](...Ce)};function Ve(te,Ce,He,Ge,Me){const[,me,de]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===te)||[];if(me)return function Se(te,Ce){try{return te.toString()===Ce.toString()}catch(He){return te===Ce}}(Me,de)||(Oe("error",`${Ce} was already initialized on the ${He} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:Me,was:de})),me;{const Ne=Ge();return globalThis.\u0275AngularfireInstanceCache.push([te,Ne,Me]),Ne}}const Be=!!rt.hot,Oe=(te,...Ce)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[te](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2722:(rt,_e,F)=>{F.d(_e,{$:()=>sa,A:()=>$,B:()=>Se,G:()=>hn,H:()=>ln,J:()=>vs,L:()=>H,M:()=>ed,N:()=>nl,P:()=>dp,Q:()=>hc,R:()=>Ks,T:()=>h_,U:()=>tl,V:()=>fc,W:()=>nd,X:()=>$f,Y:()=>_c,Z:()=>bs,_:()=>ra,a:()=>jn,a0:()=>Yf,a1:()=>Zf,a2:()=>m_,a3:()=>Gt,a4:()=>An,a5:()=>al,a6:()=>ld,a7:()=>cd,a8:()=>Qf,a9:()=>vc,aA:()=>V,aB:()=>ya,aC:()=>_d,aD:()=>S_,aE:()=>Pe,aI:()=>da,aL:()=>Fn,aa:()=>Xf,ab:()=>ws,ac:()=>Jf,af:()=>bc,ag:()=>fd,ah:()=>ew,ak:()=>rd,al:()=>Pi,an:()=>pd,ao:()=>sw,ap:()=>pe,aq:()=>Je,ar:()=>qe,as:()=>Ge,at:()=>Or,au:()=>bd,av:()=>rn,aw:()=>Me,ax:()=>X,ay:()=>Rc,az:()=>nt,b:()=>Qe,c:()=>lw,d:()=>fp,e:()=>T_,f:()=>mp,g:()=>Js,h:()=>qt,i:()=>Is,j:()=>gp,k:()=>Md,l:()=>yl,m:()=>xd,o:()=>fe,r:()=>E_,s:()=>$n,u:()=>bl});var l=F(5861),j=F(2090),N=F(9681),oe=F(1877),De=F(655),we=F(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new oe.Yd("@firebase/auth");function He(b,...g){Ce.logLevel<=oe.in.ERROR&&Ce.error(`Auth (${N.SDK_VERSION}): ${b}`,...g)}function Ge(b,...g){throw Ne(b,...g)}function Me(b,...g){return Ne(b,...g)}function me(b,g,_){const C=Object.assign(Object.assign({},Be()),{[g]:_});return new j.LL("auth","Firebase",C).create(g,{appName:b.name})}function de(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ge(b,"argument-error"),me(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Oe.create(b,...g)}function X(b,g,..._){if(!b)throw Ne(g,..._)}function ie(b){const g="INTERNAL ASSERTION FAILED: "+b;throw He(g),new Error(g)}function pe(b,g){b||ie(g)}const je=new Map;function nt(b){pe(b instanceof Function,"Expected a class definition");let g=je.get(b);return g?(pe(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,je.set(b,g),g)}function q(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function se(){return"http:"===ue()||"https:"===ue()}function ue(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ge{constructor(g,_){this.shortDelay=g,this.longDelay=_,pe(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ee(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(se()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function at(b,g){pe(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Ot{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ke=new ge(3e4,6e4);function ft(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function wt(b,g,_,C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(b,g,_,C,M={}){return yn(b,M,(0,l.Z)(function*(){let R={},K={};C&&("GET"===g?K=C:R={body:JSON.stringify(C)});const be=(0,j.xO)(Object.assign({key:b.config.apiKey},K)).slice(1),We=yield b._getAdditionalHeaders();return We["Content-Type"]="application/json",b.languageCode&&(We["X-Firebase-Locale"]=b.languageCode),Ot.fetch()(ci(b,b.config.apiHost,_,be),Object.assign({method:g,headers:We,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function yn(b,g,_){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},Un),g);try{const M=new vr(b),R=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw ji(b,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const be=R.ok?K.errorMessage:K.error.message,[We,ut]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw ji(b,"credential-already-in-use",K);if("EMAIL_EXISTS"===We)throw ji(b,"email-already-in-use",K);if("USER_DISABLED"===We)throw ji(b,"user-disabled",K);const Vt=C[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw me(b,Vt,ut);Ge(b,Vt)}}catch(M){if(M instanceof j.ZR)throw M;Ge(b,"network-request-failed")}})).apply(this,arguments)}function tn(b,g,_,C){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(b,g,_,C,M={}){const R=yield wt(b,g,_,C,M);return"mfaPendingCredential"in R&&Ge(b,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function ci(b,g,_,C){const M=`${g}${_}?${C}`;return b.config.emulator?at(b.config,M):`${b.config.apiScheme}://${M}`}class vr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ji(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Me(b,g,C);return M.customData._tokenResponse=_,M}function vt(){return(vt=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function nr(b,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function un(b,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Mr(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function wi(){return(wi=(0,l.Z)(function*(b,g=!1){const _=(0,j.m9)(b),C=yield _.getIdToken(g),M=$t(C);X(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const R="object"==typeof M.firebase?M.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:M,token:C,authTime:Mr(ps(M.auth_time)),issuedAtTime:Mr(ps(M.iat)),expirationTime:Mr(ps(M.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function ps(b){return 1e3*Number(b)}function $t(b){const[g,_,C]=b.split(".");if(void 0===g||void 0===_||void 0===C)return He("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(He("Failed to decode base64 JWT payload"),null)}catch(M){return He("Caught error parsing JWT payload as JSON",null==M?void 0:M.toString()),null}}function Xe(b,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof j.ZR&&br(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function br({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Wt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class ms{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(b){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),M=yield Xe(b,un(_,{idToken:C}));X(null==M?void 0:M.users.length,_,"internal-error");const R=M.users[0];b._notifyReloadListener(R);const K=(null===(g=R.providerUserInfo)||void 0===g?void 0:g.length)?ui(R.providerUserInfo):[],be=Yt(b.providerData,K),Vt=!!b.isAnonymous&&!(b.email&&R.passwordHash||(null==be?void 0:be.length)),pn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:be,metadata:new ms(R.createdAt,R.lastLoginAt),isAnonymous:Vt};Object.assign(b,pn)})).apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(b){const g=(0,j.m9)(b);yield Hn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Yt(b,g){return[...b.filter(C=>!g.some(M=>M.providerId===C.providerId)),...g]}function ui(b){return b.map(g=>{var{providerId:_}=g,C=(0,De._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function he(){return(he=(0,l.Z)(function*(b,g){const _=yield yn(b,{},(0,l.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:R}=b.config,K=ci(b,M,"/v1/token",`key=${R}`),be=yield b._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Ot.fetch()(K,{method:"POST",headers:be,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){X(g.idToken,"internal-error"),X(void 0!==g.idToken,"internal-error"),X(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function ht(b){const g=$t(b);return X(g,"internal-error"),X(void 0!==g.exp,"internal-error"),X(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,l.Z)(function*(){return X(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:R,expiresIn:K}=yield function ze(b,g){return he.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(M,R,Number(K))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:M,expirationTime:R}=_,K=new Ue;return C&&(X("string"==typeof C,"internal-error",{appName:g}),K.refreshToken=C),M&&(X("string"==typeof M,"internal-error",{appName:g}),K.accessToken=M),R&&(X("number"==typeof R,"internal-error",{appName:g}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return ie("not implemented")}}function Ct(b,g){X("string"==typeof b||void 0===b,"internal-error",{appName:g})}class Mt{constructor(g){var{uid:_,auth:C,stsTokenManager:M}=g,R=(0,De._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new ms(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const C=yield Xe(_,_.stsTokenManager.getToken(_.auth,g));return X(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function xn(b){return wi.apply(this,arguments)}(this,g)}reload(){return function _t(b){return rr.apply(this,arguments)}(this)}_assign(g){this!==g&&(X(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Mt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,l.Z)(function*(){let M=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Hn(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Xe(g,function $s(b,g){return vt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,M,R,K,be,We,ut,Vt;const pn=null!==(C=_.displayName)&&void 0!==C?C:void 0,Ni=null!==(M=_.email)&&void 0!==M?M:void 0,no=null!==(R=_.phoneNumber)&&void 0!==R?R:void 0,io=null!==(K=_.photoURL)&&void 0!==K?K:void 0,Lc=null!==(be=_.tenantId)&&void 0!==be?be:void 0,Od=null!==(We=_._redirectEventId)&&void 0!==We?We:void 0,Bc=null!==(ut=_.createdAt)&&void 0!==ut?ut:void 0,Ia=null!==(Vt=_.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Vc,emailVerified:Uc,isAnonymous:Hc,providerData:Zt,stsTokenManager:Pd}=_;X(Vc&&Pd,g,"internal-error");const Cp=Ue.fromJSON(this.name,Pd);X("string"==typeof Vc,g,"internal-error"),Ct(pn,g.name),Ct(Ni,g.name),X("boolean"==typeof Uc,g,"internal-error"),X("boolean"==typeof Hc,g,"internal-error"),Ct(no,g.name),Ct(io,g.name),Ct(Lc,g.name),Ct(Od,g.name),Ct(Bc,g.name),Ct(Ia,g.name);const ro=new Mt({uid:Vc,auth:g,email:Ni,emailVerified:Uc,displayName:pn,isAnonymous:Hc,photoURL:io,phoneNumber:no,tenantId:Lc,stsTokenManager:Cp,createdAt:Bc,lastLoginAt:Ia});return Zt&&Array.isArray(Zt)&&(ro.providerData=Zt.map(Ml=>Object.assign({},Ml))),Od&&(ro._redirectEventId=Od),ro}static _fromIdTokenResponse(g,_,C=!1){return(0,l.Z)(function*(){const M=new Ue;M.updateFromServerResponse(_);const R=new Mt({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:C});return yield Hn(R),R})()}}const H=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,l.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function V(b,g,_){return`firebase:${b}:${g}:${_}`}class W{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:M,name:R}=this.auth;this.fullUserKey=V(this.userKey,M.apiKey,R),this.fullPersistenceKey=V("persistence",M.apiKey,R),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Mt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new W(nt(H),g,C);const M=(yield Promise.all(_.map(function(){var ut=(0,l.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let R=M[0]||nt(H);const K=V(C,g.config.apiKey,g.name);let be=null;for(const ut of _)try{const Vt=yield ut._get(K);if(Vt){const pn=Mt._fromJSON(g,Vt);ut!==R&&(be=pn),R=ut;break}}catch(Vt){}const We=M.filter(ut=>ut._shouldAllowMigration);return R._shouldAllowMigration&&We.length?(R=We[0],be&&(yield R._set(K,be.toJSON())),yield Promise.all(_.map(function(){var ut=(0,l.Z)(function*(Vt){if(Vt!==R)try{yield Vt._remove(K)}catch(pn){}});return function(Vt){return ut.apply(this,arguments)}}())),new W(R,g,C)):new W(R,g,C)})()}}function B(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(xe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(x(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(mt(g))return"Blackberry";if(xt(g))return"Webos";if(L(g))return"Safari";if((g.includes("chrome/")||J(g))&&!g.includes("edge/"))return"Chrome";if(qe(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function x(b=(0,j.z$)()){return/firefox\//i.test(b)}function L(b=(0,j.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function J(b=(0,j.z$)()){return/crios\//i.test(b)}function xe(b=(0,j.z$)()){return/iemobile/i.test(b)}function qe(b=(0,j.z$)()){return/android/i.test(b)}function mt(b=(0,j.z$)()){return/blackberry/i.test(b)}function xt(b=(0,j.z$)()){return/webos/i.test(b)}function Je(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function rn(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Ci(b=(0,j.z$)()){return Je(b)||qe(b)||xt(b)||mt(b)||/windows phone/i.test(b)||xe(b)}function di(b,g=[]){let _;switch(b){case"Browser":_=B((0,j.z$)());break;case"Worker":_=`${B((0,j.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${C}`}class Xu{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=R=>new Promise((K,be)=>{try{K(g(R))}catch(We){be(We)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===g)return;const C=[];try{for(const M of _.queue)yield M(g),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const R of C)try{R()}catch(K){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==M?void 0:M.message})}})()}}class wr{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bt(this),this.idTokenSubscription=new Bt(this),this.beforeStateQueue=new Xu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=nt(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,R;if(!C._deleted&&(C.persistenceManager=yield W.create(C,g),!C._deleted)){if(null===(M=C._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(K){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(R=C.currentUser)||void 0===R?void 0:R.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let R=M,K=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const be=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,We=null==R?void 0:R._redirectEventId,ut=yield _.tryRedirectSignIn(g);(!be||be===We)&&(null==ut?void 0:ut.user)&&(R=ut.user,K=!0)}if(!R)return _.directlySetCurrentUser(null);if(!R._redirectEventId){if(K)try{yield _.beforeStateQueue.runMiddleware(R)}catch(be){R=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(be))}return R?_.reloadAndSetCurrentUserOrClear(R):_.directlySetCurrentUser(null)}return X(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===R._redirectEventId?_.directlySetCurrentUser(R):_.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(M){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Hn(g)}catch(C){if("auth/network-request-failed"!==(null==C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Te(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const C=g?(0,j.m9)(g):null;return C&&X(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return g&&X(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(nt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,l.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&nt(g)||_._popupRedirectResolver;X(C,_,"argument-error"),_.redirectPersistenceManager=yield W.create(_,[nt(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,M){if(this._deleted)return()=>{};const R="function"==typeof _?_:_.next.bind(_),K=this._isInitialized?Promise.resolve():this._initializationPromise;return X(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof _?g.addObserver(_,C,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Pe(b){return(0,j.m9)(b)}class Bt{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(b,g,_){const C=Pe(b);X(C._canInitEmulator,C,"emulator-config-failed"),X(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),R=$i(g),{host:K,port:be}=function bo(b){const g=$i(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const R=M[1];return{host:R,port:Zn(C.substr(R.length+1))}}{const[R,K]=C.split(":");return{host:R,port:Zn(K)}}}(g);C.config.emulator={url:`${R}//${K}${null===be?"":`:${be}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:K,port:be,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function gs(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function $i(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Zn(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ln{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ie("not implemented")}_getIdTokenResponse(g){return ie("not implemented")}_linkToIdToken(g,_){return ie("not implemented")}_getReauthenticationResolver(g){return ie("not implemented")}}function wo(b,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:resetPassword",ft(b,g))})).apply(this,arguments)}function Nt(b,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _s(b,g){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:update",ft(b,g))})).apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithPassword",ft(b,g))})).apply(this,arguments)}function ys(b,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:sendOobCode",ft(b,g))})).apply(this,arguments)}function hi(b,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(b,g){return ys(b,g)})).apply(this,arguments)}function Pf(b,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(b,g){return ys(b,g)})).apply(this,arguments)}function Gi(b,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(b,g){return ys(b,g)})).apply(this,arguments)}function Ju(b,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(b,g){return ys(b,g)})).apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithEmailLink",ft(b,g))})).apply(this,arguments)}function Nf(){return(Nf=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithEmailLink",ft(b,g))})).apply(this,arguments)}class dc extends ln{constructor(g,_,C,M=null){super("password",C),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new dc(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new dc(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function ta(b,g){return ri.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function el(b,g){return sr.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ge(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Nt(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ff(b,g){return Nf.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Kn(b,g){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithIdp",ft(b,g))})).apply(this,arguments)}class vs extends ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new vs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ge("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M}=_,R=(0,De._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const K=new vs(C,M);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(g){return Kn(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Kn(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Kn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,j.xO)(_)}return g}}function Y0(b,g){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:sendVerificationCode",ft(b,g))})).apply(this,arguments)}function Vf(){return(Vf=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithPhoneNumber",ft(b,g))})).apply(this,arguments)}function Uf(){return(Uf=(0,l.Z)(function*(b,g){const _=yield tn(b,"POST","/v1/accounts:signInWithPhoneNumber",ft(b,g));if(_.temporaryProof)throw ji(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Q0={USER_NOT_FOUND:"user-not-found"};function Hf(){return(Hf=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithPhoneNumber",ft(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Q0)})).apply(this,arguments)}class na extends ln{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new na({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new na({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Z0(b,g){return Vf.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function K0(b,g){return Uf.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function d_(b,g){return Hf.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:R}=g;return C||_||M||R?new na({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:R}):null}}class Eo{constructor(g){var _,C,M,R,K,be;const We=(0,j.zd)((0,j.pd)(g)),ut=null!==(_=We.apiKey)&&void 0!==_?_:null,Vt=null!==(C=We.oobCode)&&void 0!==C?C:null,pn=function X0(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=We.mode)&&void 0!==M?M:null);X(ut&&Vt&&pn,"argument-error"),this.apiKey=ut,this.operation=pn,this.code=Vt,this.continueUrl=null!==(R=We.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=We.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(be=We.tenantId)&&void 0!==be?be:null}static parseLink(g){const _=function jf(b){const g=(0,j.zd)((0,j.pd)(b)).link,_=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||g||b}(g);try{return new Eo(_)}catch(C){return null}}}let ed=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return dc._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Eo.parseLink(C);return X(M,"argument-error"),dc._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class qs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Cr extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class tl extends Cr{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return X("providerId"in _&&"signInMethod"in _,"argument-error"),vs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return X(g.idToken||g.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return tl.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return tl.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:R,nonce:K,providerId:be}=g;if(!C&&!M&&!_&&!R||!be)return null;try{return new tl(be)._credential({idToken:_,accessToken:C,nonce:K,pendingToken:R})}catch(We){return null}}}let nl=(()=>{class b extends Cr{constructor(){super("facebook.com")}static credential(_){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),hc=(()=>{class b extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch(R){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),h_=(()=>{class b extends Cr{constructor(){super("github.com")}static credential(_){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Fn extends ln{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Kn(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Kn(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Kn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M,pendingToken:R}=_;return C&&M&&R&&C===M?new Fn(C,R):null}static _create(g,_){return new Fn(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fc extends qs{constructor(g){X(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Fn.fromJSON(g);return X(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Fn._create(C,_)}catch(M){return null}}}let nd=(()=>{class b extends Cr{constructor(){super("twitter.com")}static credential(_,C){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch(R){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function zf(b,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signUp",ft(b,g))})).apply(this,arguments)}class ki{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,M=!1){return(0,l.Z)(function*(){const R=yield Mt._fromIdTokenResponse(g,C,M),K=f_(C);return new ki({user:R,providerId:K,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const M=f_(C);return new ki({user:g,providerId:M,_tokenResponse:C,operationType:_})})()}}function f_(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function $f(b){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,l.Z)(function*(b){var g;const _=Pe(b);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new ki({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield zf(_,{returnSecureToken:!0}),M=yield ki._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class pc extends j.ZR{constructor(g,_,C,M){var R;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:g.name,tenantId:null!==(R=g.tenantId)&&void 0!==R?R:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,M){return new pc(g,_,C,M)}}function mc(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?pc._fromErrorAndOperation(b,R,g,C):R})}function id(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function rd(b,g){return p_.apply(this,arguments)}function p_(){return(p_=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b);yield ia(!0,_,g);const{providerUserInfo:C}=yield nr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=id(C||[]);return _.providerData=_.providerData.filter(R=>M.has(R.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function vn(b,g){return gc.apply(this,arguments)}function gc(){return(gc=(0,l.Z)(function*(b,g,_=!1){const C=yield Xe(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return ki._forOperation(b,"link",C)})).apply(this,arguments)}function ia(b,g,_){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(b,g,_){yield Hn(g);const M=!1===b?"provider-already-linked":"no-such-provider";X(id(g.providerData).has(_)===b,g.auth,M)})).apply(this,arguments)}function qf(b,g){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(b,g,_=!1){const{auth:C}=b,M="reauthenticate";try{const R=yield Xe(b,mc(C,M,g,b),_);X(R.idToken,C,"internal-error");const K=$t(R.idToken);X(K,C,"internal-error");const{sub:be}=K;return X(b.uid===be,C,"user-mismatch"),ki._forOperation(b,M,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ge(C,"user-mismatch"),R}})).apply(this,arguments)}function rl(b,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(b,g,_=!1){const C="signIn",M=yield mc(b,C,g),R=yield ki._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(R.user)),R})).apply(this,arguments)}function _c(b,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(b,g){return rl(Pe(b),g)})).apply(this,arguments)}function bs(b,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b);return yield ia(!1,_,g.providerId),vn(_,g)})).apply(this,arguments)}function ra(b,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(b,g){return qf((0,j.m9)(b),g)})).apply(this,arguments)}function Wf(b,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(b,g){return tn(b,"POST","/v1/accounts:signInWithCustomToken",ft(b,g))})).apply(this,arguments)}function sa(b,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(b,g){const _=Pe(b),C=yield Wf(_,{token:g,returnSecureToken:!0}),M=yield ki._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class bt{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?yc._fromServerResponse(g,_):Ge(g,"internal-error")}}class yc extends bt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new yc(_)}}function ol(b,g,_){var C;X((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),X(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(X(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(X(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Yf(b,g,_){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),M={requestType:"PASSWORD_RESET",email:g};_&&ol(C,M,_),yield Pf(C,M)})).apply(this,arguments)}function Zf(b,g,_){return od.apply(this,arguments)}function od(){return(od=(0,l.Z)(function*(b,g,_){yield wo((0,j.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function m_(b,g){return ve.apply(this,arguments)}function ve(){return(ve=(0,l.Z)(function*(b,g){yield _s((0,j.m9)(b),{oobCode:g})})).apply(this,arguments)}function Gt(b,g){return ad.apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b),C=yield wo(_,{oobCode:g}),M=C.requestType;switch(X(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(C.mfaInfo,_,"internal-error");default:X(C.email,_,"internal-error")}let R=null;return C.mfaInfo&&(R=bt._fromServerResponse(Pe(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:R},operation:M}})).apply(this,arguments)}function An(b,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(b,g){const{data:_}=yield Gt((0,j.m9)(b),g);return _.email})).apply(this,arguments)}function al(b,g,_){return or.apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(b,g,_){const C=Pe(b),M=yield zf(C,{returnSecureToken:!0,email:g,password:_}),R=yield ki._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}function ld(b,g,_){return _c((0,j.m9)(b),ed.credential(g,_))}function cd(b,g,_){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),M={requestType:"EMAIL_SIGNIN",email:g};X(_.handleCodeInApp,C,"argument-error"),_&&ol(C,M,_),yield Gi(C,M)})).apply(this,arguments)}function Qf(b,g){const _=Eo.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function vc(b,g,_){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),M=ed.credentialWithLink(g,_||q());return X(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),_c(C,M)})).apply(this,arguments)}function Di(b,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:createAuthUri",ft(b,g))})).apply(this,arguments)}function Xf(b,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(b,g){const C={identifier:g,continueUri:se()?q():"http://localhost"},{signinMethods:M}=yield Di((0,j.m9)(b),C);return M||[]})).apply(this,arguments)}function ws(b,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(b,g){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&ol(_.auth,M,g);const{email:R}=yield hi(_.auth,M);R!==b.email&&(yield b.reload())})).apply(this,arguments)}function Jf(b,g,_){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&ol(C.auth,R,_);const{email:K}=yield Ju(C.auth,R);K!==b.email&&(yield b.reload())})).apply(this,arguments)}function g_(b,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(b,g){return wt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bc(b,g){return hd.apply(this,arguments)}function hd(){return(hd=(0,l.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,j.m9)(b),R={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},K=yield Xe(C,g_(C.auth,R));C.displayName=K.displayName||null,C.photoURL=K.photoUrl||null;const be=C.providerData.find(({providerId:We})=>"password"===We);be&&(be.displayName=C.displayName,be.photoURL=C.photoURL),yield C._updateTokensIfNecessary(K)})).apply(this,arguments)}function fd(b,g){return ep((0,j.m9)(b),g,null)}function ew(b,g){return ep((0,j.m9)(b),null,g)}function ep(b,g,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(b,g,_){const{auth:C}=b,R={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(R.email=g),_&&(R.password=_);const K=yield Xe(b,Nt(C,R));yield b._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Io{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class np extends Io{constructor(g,_,C,M){super(g,_,C),this.username=M}}class __ extends Io{constructor(g,_){super(g,"facebook.com",_)}}class cl extends np{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Zs extends Io{constructor(g,_){super(g,"google.com",_)}}class y_ extends np{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Pi(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function tp(b){var g,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},R=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const K=null===(_=null===(g=$t(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(K)return new Io(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!C)return null;switch(C){case"facebook.com":return new __(R,M);case"github.com":return new cl(R,M);case"google.com":return new Zs(R,M);case"twitter.com":return new y_(R,M,b.screenName||null);case"custom":case"anonymous":return new Io(R,null);default:return new Io(R,C,M)}}(_)}class Ds{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new Ds("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ds("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ds._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.idToken)return Ds._fromIdtoken(g.multiFactorSession.idToken)}return null}}class dl{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=Pe(g),M=_.customData._serverResponse,R=(M.mfaInfo||[]).map(be=>bt._fromServerResponse(C,be));X(M.mfaPendingCredential,C,"internal-error");const K=Ds._fromMfaPendingCredential(M.mfaPendingCredential);return new dl(K,R,function(){var be=(0,l.Z)(function*(We){const ut=yield We._process(C,K);delete M.mfaInfo,delete M.mfaPendingCredential;const Vt=Object.assign(Object.assign({},M),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(_.operationType){case"signIn":const pn=yield ki._fromIdTokenResponse(C,_.operationType,Vt);return yield C._updateCurrentUser(pn.user),pn;case"reauthenticate":return X(_.user,C,"internal-error"),ki._forOperation(_.user,_.operationType,Vt);default:Ge(C,"internal-error")}});return function(We){return be.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function pd(b,g){var _;const C=(0,j.m9)(b),M=g;return X(g.customData.operationType,C,"argument-error"),X(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),dl._fromError(C,M)}function b_(b,g){return wt(b,"POST","/v2/accounts/mfaEnrollment:start",ft(b,g))}class ua{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>bt._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new ua(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Ds._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,l.Z)(function*(){const M=g,R=yield C.getSession(),K=yield Xe(C.user,M._process(C.user.auth,R,_));return yield C.user._updateTokensIfNecessary(K),C.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const C="string"==typeof g?g:g.uid,M=yield _.user.getIdToken();try{const R=yield Xe(_.user,function To(b,g){return wt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(b,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:K})=>K!==C),yield _.user._updateTokensIfNecessary(R),yield _.user.reload()}catch(R){throw R}})()}}const ip=new WeakMap;function sw(b){const g=(0,j.m9)(b);return ip.has(g)||ip.set(g,ua._fromUser(g)),ip.get(g)}const Qr="__sak";class wc{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Qr,"1"),this.storage.removeItem(Qr),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qe=(()=>{class b extends wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rp(){const b=(0,j.z$)();return L(b)||Je(b)}()&&function xr(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Ci(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),R=this.localCache[C];M!==R&&_(C,R,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((be,We,ut)=>{this.notifyListeners(be,ut)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(M);if(_.newValue!==be)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const R=()=>{const be=this.storage.getItem(M);!C&&this.localCache[M]===be||this.notifyListeners(M,be)},K=this.storage.getItem(M);!function Ut(){return(0,j.w1)()&&10===document.documentMode}()||K===_.newValue||_.newValue===_.oldValue?R():setTimeout(R,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const R of Array.from(M))R(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,R=this;return(0,l.Z)(function*(){yield M().call(R,_,C),R.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,l.Z)(function*(){const R=yield C().call(M,_);return M.localCache[_]=JSON.stringify(R),R})()}_remove(_){var C=()=>super._remove,M=this;return(0,l.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),jn=(()=>{class b extends wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let sp=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(R=>R.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const M=_,{eventId:R,eventType:K,data:be}=M.data,We=C.handlersMap[K];if(!(null==We?void 0:We.size))return;M.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const ut=Array.from(We).map(function(){var pn=(0,l.Z)(function*(Ni){return Ni(M.origin,be)});return function(Ni){return pn.apply(this,arguments)}}()),Vt=yield function zn(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(ut);M.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:Vt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function da(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class ha{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var M=this;return(0,l.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,be;return new Promise((We,ut)=>{const Vt=da("",20);R.port1.start();const pn=setTimeout(()=>{ut(new Error("unsupported_event"))},C);be={messageChannel:R,onMessage(Ni){const no=Ni;if(no.data.eventId===Vt)switch(no.data.status){case"ack":clearTimeout(pn),K=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),We(no.data.response);break;default:clearTimeout(pn),clearTimeout(K),ut(new Error("invalid_response"))}}},M.handlers.add(be),R.port1.addEventListener("message",be.onMessage),M.target.postMessage({eventType:g,eventId:Vt,data:_},[R.port2])}).finally(()=>{be&&M.removeMessageHandler(be)})})()}}function Qn(){return window}function hl(){return void 0!==Qn().WorkerGlobalScope&&"function"==typeof Qn().importScripts}function yt(){return(yt=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Dc="firebaseLocalStorageDb",fn="firebaseLocalStorage",Ec="fbase_key";class Xr{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function So(b,g){return b.transaction([fn],g?"readwrite":"readonly").objectStore(fn)}function Fi(){const b=indexedDB.open(Dc,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(fn,{keyPath:Ec})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(fn)?g(C):(C.close(),yield function fl(){const b=indexedDB.deleteDatabase(Dc);return new Xr(b).toPromise()}(),g(yield Fi()))}))})}function xo(b,g,_){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(b,g,_){const C=So(b,!0).put({[Ec]:g,value:_});return new Xr(C).toPromise()})).apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(b,g){const _=So(b,!1).get(g),C=yield new Xr(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function cp(b,g){const _=So(b,!0).delete(g);return new Xr(_).toPromise()}const Is=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Fi()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const R=yield C._openDb();return yield _(R)}catch(R){if(M++>3)throw R;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return hl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=sp._getInstance(function ap(){return hl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(M,R){return{keyProcessed:(yield _._poll()).includes(R.key)}});return function(M,R){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(M,R){return["keyChanged"]});return function(M,R){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function Es(){return yt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ha(_.activeServiceWorker);const R=yield _.sender._send("ping",{},800);!R||(null===(C=R[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=R[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function op(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Fi();return yield xo(_,Qr,"1"),yield cp(_,Qr),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(R=>xo(R,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=yield C._withRetries(R=>function pl(b,g){return Ao.apply(this,arguments)}(R,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(M=>cp(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(K=>{const be=So(K,!1).getAll();return new Xr(be).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],R=new Set;for(const{fbase_key:K,value:be}of C)R.add(K),JSON.stringify(_.localCache[K])!==JSON.stringify(be)&&(_.notifyListeners(K,be),M.push(K));for(const K of Object.keys(_.localCache))_.localCache[K]&&!R.has(K)&&(_.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const R of Array.from(M))R(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Xn(b,g){return wt(b,"POST","/v2/accounts/mfaSignIn:start",ft(b,g))}function Tc(){return(Tc=(0,l.Z)(function*(b){return(yield wt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function si(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=M=>{const R=Me("internal-error");R.customData=M,_(R)},C.type="text/javascript",C.charset="UTF-8",function fi(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function ei(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Mn=1e12;class Rr{constructor(g){this.auth=g,this.counter=Mn,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Rn(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Mn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Mn))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(g||Mn))||void 0===C||C.execute(),""})()}}class Rn{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;X(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ml(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=ei("rcb"),On=new ge(3e4,6e4);class C_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(g=Qn().grecaptcha)||void 0===g?void 0:g.render)}load(g,_=""){return X(function aw(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Qn().grecaptcha):new Promise((C,M)=>{const R=Qn().setTimeout(()=>{M(Me(g,"network-request-failed"))},On.get());Qn()[gl]=()=>{Qn().clearTimeout(R),delete Qn()[gl];const be=Qn().grecaptcha;if(!be)return void M(Me(g,"internal-error"));const We=be.render;be.render=(ut,Vt)=>{const pn=We(ut,Vt);return this.counter++,pn},this.hostLanguage=_,C(be)},si(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:gl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(R),M(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!!(null===(_=Qn().grecaptcha)||void 0===_?void 0:_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ma{load(g){return(0,l.Z)(function*(){return new Rr(g)})()}clearedOneInstance(){}}const oi="recaptcha",D_={theme:"light",type:"image"};class Ks{constructor(g,_=Object.assign({},D_),C){this.parameters=_,this.type=oi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(C),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;X(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ma:new C_,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(R=>{const K=be=>{!be||(g.tokenChangeListeners.delete(K),R(be))};g.tokenChangeListeners.add(K),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=Qn()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){X(se()&&!hl(),g.auth,"internal-error"),yield function Ro(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ko(b){return Tc.apply(this,arguments)}(g.auth);X(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ga{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=na._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function $n(b,g,_){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(b,g,_){const C=Pe(b),M=yield ar(C,g,(0,j.m9)(_));return new ga(M,R=>_c(C,R))})).apply(this,arguments)}function yl(b,g,_){return up.apply(this,arguments)}function up(){return(up=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);yield ia(!1,C,"phone");const M=yield ar(C.auth,g,(0,j.m9)(_));return new ga(M,R=>bs(C,R))})).apply(this,arguments)}function E_(b,g,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b),M=yield ar(C.auth,g,(0,j.m9)(_));return new ga(M,R=>ra(C,R))})).apply(this,arguments)}function ar(b,g,_){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(b,g,_){var C;const M=yield _.verify();try{let R;if(X("string"==typeof M,b,"argument-error"),X(_.type===oi,b,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const K=R.session;if("phoneNumber"in R)return X("enroll"===K.type,b,"internal-error"),(yield b_(b,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{X("signin"===K.type,b,"internal-error");const be=(null===(C=R.multiFactorHint)||void 0===C?void 0:C.uid)||R.multiFactorUid;return X(be,b,"missing-multi-factor-info"),(yield Xn(b,{mfaPendingCredential:K.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Y0(b,{phoneNumber:R.phoneNumber,recaptchaToken:M});return K}}finally{_._reset()}})).apply(this,arguments)}function bl(b,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(b,g){yield vn((0,j.m9)(b),g)})).apply(this,arguments)}let dp=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Pe(_)}verifyPhoneNumber(_,C){return ar(this.auth,_,(0,j.m9)(C))}static credential(_,C){return na._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?na._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Po(b,g){return g?nt(g):(X(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class gd extends ln{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Kn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Kn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Kn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function I_(b){return rl(b.auth,new gd(b),b.bypassAuthState)}function jt(b){const{auth:g,user:_}=b;return X(_,g,"internal-error"),qf(_,new gd(b),b.bypassAuthState)}function hp(b){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(b){const{auth:g,user:_}=b;return X(_,g,"internal-error"),vn(_,new gd(b),b.bypassAuthState)})).apply(this,arguments)}class wl{constructor(g,_,C,M,R=!1){this.auth=g,this.resolver=C,this.user=M,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(C,M){g.pendingPromise={resolve:C,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:R,tenantId:K,error:be,type:We}=g;if(be)return void _.reject(be);const ut={auth:_.auth,requestUri:C,sessionId:M,tenantId:K||void 0,postBody:R||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(We)(ut))}catch(Vt){_.reject(Vt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return I_;case"linkViaPopup":case"linkViaRedirect":return hp;case"reauthViaPopup":case"reauthViaRedirect":return jt;default:Ge(this.auth,"internal-error")}}resolve(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new ge(2e3,1e4);function lw(b,g,_){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(b,g,_){const C=Pe(b);de(b,g,qs);const M=Po(C,_);return new xc(C,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function T_(b,g,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);de(C.auth,g,qs);const M=Po(C.auth,_);return new xc(C.auth,"reauthViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}function fp(b,g,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);de(C.auth,g,qs);const M=Po(C.auth,_);return new xc(C.auth,"linkViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}let xc=(()=>{class b extends wl{constructor(_,C,M,R,K){super(_,C,R,K),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return X(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const C=da();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=(null===(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Qs.get())};_()}}return b.currentPopupAction=null,b})();const Sn=new Map;class lr extends wl{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=Sn.get(_.auth._key());if(!C){try{const R=(yield function cw(b,g){return Fo.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(R)}catch(M){C=()=>Promise.reject(M)}Sn.set(_.auth._key(),C)}return _.bypassAuthState||Sn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const M=yield C.auth._redirectUserForId(g.eventId);if(M)return C.user=M,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Fo(){return(Fo=(0,l.Z)(function*(b,g){const _=Ac(g),C=pp(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function _a(b,g){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(b,g){return pp(b)._set(Ac(g),"true")})).apply(this,arguments)}function S_(){Sn.clear()}function _d(b,g){Sn.set(b._key(),g)}function pp(b){return nt(b._redirectPersistence)}function Ac(b){return V("pendingRedirect",b.config.apiKey,b.name)}function mp(b,g,_){return function Xs(b,g,_){return ts.apply(this,arguments)}(b,g,_)}function ts(){return(ts=(0,l.Z)(function*(b,g,_){const C=Pe(b);de(b,g,qs),yield C._initializationPromise;const M=Po(C,_);return yield _a(M,C),M._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function qt(b,g,_){return function Pn(b,g,_){return kc.apply(this,arguments)}(b,g,_)}function kc(){return(kc=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);de(C.auth,g,qs),yield C.auth._initializationPromise;const M=Po(C.auth,_);yield _a(M,C.auth);const R=yield Lo(C);return M._openRedirect(C.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function Js(b,g,_){return function yd(b,g,_){return eo.apply(this,arguments)}(b,g,_)}function eo(){return(eo=(0,l.Z)(function*(b,g,_){const C=(0,j.m9)(b);de(C.auth,g,qs),yield C.auth._initializationPromise;const M=Po(C.auth,_);yield ia(!1,C,g.providerId),yield _a(M,C.auth);const R=yield Lo(C);return M._openRedirect(C.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function gp(b,g){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(b,g){return yield Pe(b)._initializationPromise,ya(b,g,!1)})).apply(this,arguments)}function ya(b,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(b,g,_=!1){const C=Pe(b),M=Po(C,g),K=yield new lr(C,M,_).execute();return K&&!_&&(delete K.user._redirectEventId,yield C._persistUserIfCurrent(K.user),yield C._setRedirectUser(null,g)),K})).apply(this,arguments)}function Lo(b){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(b){const g=da(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Rc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function El(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dl(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!Dl(g)){const M=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(g))}saveEventToCache(g){this.cachedEventUids.add(va(g)),this.lastProcessedEventTime=Date.now()}}function va(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Dl({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function bd(b){return wd.apply(this,arguments)}function wd(){return(wd=(0,l.Z)(function*(b,g={}){return wt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const x_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ts=/^https?/;function Cd(){return(Cd=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield bd(b);for(const _ of g)try{if(uw(_))return}catch(C){}Ge(b,"unauthorized-domain")})).apply(this,arguments)}function uw(b){const g=q(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const K=new URL(b);return""===K.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&K.hostname===C}if(!Ts.test(_))return!1;if(x_.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const _p=new ge(3e4,6e4);function yp(){const b=Qn().___jsl;if(null==b?void 0:b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ba=null;function Dd(b){return ba=ba||function A_(b){return new Promise((g,_)=>{var C,M,R;function K(){yp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{yp(),_(Me(b,"network-request-failed"))},timeout:_p.get()})}if(null===(M=null===(C=Qn().gapi)||void 0===C?void 0:C.iframes)||void 0===M?void 0:M.Iframe)g(gapi.iframes.getContext());else{if(!(null===(R=Qn().gapi)||void 0===R?void 0:R.load)){const be=ei("iframefcb");return Qn()[be]=()=>{gapi.load?K():_(Me(b,"network-request-failed"))},si(`https://apis.google.com/js/api.js?onload=${be}`).catch(We=>_(We))}K()}}).catch(g=>{throw ba=null,g})}(b),ba}const Ms=new ge(5e3,15e3),Vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wa(b){const g=b.config;X(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?at(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:b.name,v:N.SDK_VERSION},M=k_.get(b.config.apiHost);M&&(C.eid=M);const R=b._getFrameworks();return R.length&&(C.fw=R.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Ca(){return Ca=(0,l.Z)(function*(b){const g=yield Dd(b),_=Qn().gapi;return X(_,b,"internal-error"),g.open({where:document.body,url:wa(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vo,dontclear:!0},C=>new Promise(function(){var M=(0,l.Z)(function*(R,K){yield C.restyle({setHideOnLeave:!1});const be=Me(b,"network-request-failed"),We=Qn().setTimeout(()=>{K(be)},Ms.get());function ut(){Qn().clearTimeout(We),R(C)}C.ping(ut).then(ut,()=>{K(be)})});return function(R,K){return M.apply(this,arguments)}}()))}),Ca.apply(this,arguments)}const Da={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Or(b,g,_,C,M,R){X(b.config.authDomain,b,"auth-domain-config-required"),X(b.config.apiKey,b,"invalid-api-key");const K={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:N.SDK_VERSION,eventId:M};if(g instanceof qs){g.setDefaultLanguage(b.languageCode),K.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[We,ut]of Object.entries(R||{}))K[We]=ut}if(g instanceof Cr){const We=g.getScopes().filter(ut=>""!==ut);We.length>0&&(K.scopes=We.join(","))}b.tenantId&&(K.tid=b.tenantId);const be=K;for(const We of Object.keys(be))void 0===be[We]&&delete be[We];return`${function As({config:b}){return b.emulator?at(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(be).slice(1)}`}const to="webStorageSupport",Md=class Td{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=ya,this._overrideRedirectResult=_d}_openPopup(g,_,C,M){var R=this;return(0,l.Z)(function*(){var K;pe(null===(K=R.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const be=Or(g,_,C,q(),M);return function O_(b,g,_,C=500,M=600){const R=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-C)/2,0).toString();let be="";const We=Object.assign(Object.assign({},Da),{width:C.toString(),height:M.toString(),top:R,left:K}),ut=(0,j.z$)().toLowerCase();_&&(be=J(ut)?"_blank":_),x(ut)&&(g=g||"http://localhost",We.scrollbars="yes");const Vt=Object.entries(We).reduce((Ni,[no,io])=>`${Ni}${no}=${io},`,"");if(function Yn(b=(0,j.z$)()){var g;return Je(b)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(ut)&&"_self"!==be)return function Tl(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",be),new Fc(null);const pn=window.open(g||"",be,Vt);X(pn,b,"popup-blocked");try{pn.focus()}catch(Ni){}return new Fc(pn)}(g,be,da())})()}_openRedirect(g,_,C,M){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(g),function Mo(b){Qn().location.href=b}(Or(g,_,C,q(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:R}=this.eventManagers[_];return M?Promise.resolve(M):(pe(R,"If manager is not set, promise should be"),R)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const C=yield function R_(b){return Ca.apply(this,arguments)}(g),M=new Rc(g);return C.register("authEvent",R=>(X(null==R?void 0:R.authEvent,g,"invalid-auth-event"),{status:M.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=C,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(to,{type:to},M=>{var R;const K=null===(R=null==M?void 0:M[0])||void 0===R?void 0:R[to];void 0!==K&&_(!!K),Ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Il(b){return Cd.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ci()||L()||Je()}};class Sd extends class vp{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Sd(g)}_finalizeEnroll(g,_,C){return function rw(b,g){return wt(b,"POST","/v2/accounts/mfaEnrollment:finalize",ft(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Jn(b,g){return wt(b,"POST","/v2/accounts/mfaSignIn:finalize",ft(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xd=(()=>{class b{constructor(){}static assertion(_){return Sd._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Ad="@firebase/auth";class N_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{g((null==C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function Nc(b){(0,N._registerComponent)(new we.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:R,authDomain:K}=C.options;return((be,We)=>{X(R&&!R.includes(":"),"invalid-api-key",{appName:be.name}),X(!(null==K?void 0:K.includes(":")),"argument-error",{appName:be.name});const ut={apiKey:R,authDomain:K,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:di(b)},Vt=new wr(be,We,ut);return function Ft(b,g){const _=(null==g?void 0:g.persistence)||[],C=(Array.isArray(_)?_:[_]).map(nt);(null==g?void 0:g.errorMap)&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,null==g?void 0:g.popupRedirectResolver)}(Vt,_),Vt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new we.wA("auth-internal",g=>{const _=Pe(g.getProvider("auth").getImmediate());return new N_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Ad,"0.21.3",function wp(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(Ad,"0.21.3","esm2017")}("Browser")},2090:(rt,_e,F)=>{F.d(_e,{BH:()=>me,LL:()=>Un,ZR:()=>Ot,zI:()=>ge,US:()=>we,tV:()=>ke,L:()=>fe,$s:()=>Ue,r3:()=>vr,Sg:()=>de,ne:()=>wi,vZ:()=>nr,ZB:()=>$,pd:()=>ir,aH:()=>Ge,P0:()=>He,Pz:()=>Me,m9:()=>nn,z$:()=>Ne,jU:()=>pe,ru:()=>je,xb:()=>$s,w1:()=>Ft,hl:()=>Ee,uI:()=>X,UG:()=>ie,b$:()=>nt,G6:()=>ue,xO:()=>zi,zd:()=>Mr,eu:()=>Te});const oe=function(H){const V=[];let W=0;for(let B=0;B<H.length;B++){let x=H.charCodeAt(B);x<128?V[W++]=x:x<2048?(V[W++]=x>>6|192,V[W++]=63&x|128):55296==(64512&x)&&B+1<H.length&&56320==(64512&H.charCodeAt(B+1))?(x=65536+((1023&x)<<10)+(1023&H.charCodeAt(++B)),V[W++]=x>>18|240,V[W++]=x>>12&63|128,V[W++]=x>>6&63|128,V[W++]=63&x|128):(V[W++]=x>>12|224,V[W++]=x>>6&63|128,V[W++]=63&x|128)}return V},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let x=0;x<H.length;x+=3){const L=H[x],J=x+1<H.length,xe=J?H[x+1]:0,qe=x+2<H.length,mt=qe?H[x+2]:0;let rn=(15&xe)<<2|mt>>6,Yn=63&mt;qe||(Yn=64,J||(rn=64)),B.push(W[L>>2],W[(3&L)<<4|xe>>4],W[rn],W[Yn])}return B.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(oe(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let W=0,B=0;for(;W<H.length;){const x=H[W++];if(x<128)V[B++]=String.fromCharCode(x);else if(x>191&&x<224){const L=H[W++];V[B++]=String.fromCharCode((31&x)<<6|63&L)}else if(x>239&&x<365){const qe=((7&x)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;V[B++]=String.fromCharCode(55296+(qe>>10)),V[B++]=String.fromCharCode(56320+(1023&qe))}else{const L=H[W++],J=H[W++];V[B++]=String.fromCharCode((15&x)<<12|(63&L)<<6|63&J)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const W=V?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let x=0;x<H.length;){const L=W[H.charAt(x++)],xe=x<H.length?W[H.charAt(x)]:0;++x;const mt=x<H.length?W[H.charAt(x)]:64;++x;const Je=x<H.length?W[H.charAt(x)]:64;if(++x,null==L||null==xe||null==mt||null==Je)throw Error();B.push(L<<2|xe>>4),64!==mt&&(B.push(xe<<4&240|mt>>2),64!==Je&&B.push(mt<<6&192|Je))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},fe=function(H){return function(H){const V=oe(H);return we.encodeByteArray(V,!0)}(H).replace(/\./g,"")},ke=function(H){try{return we.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function $(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const W in V)!V.hasOwnProperty(W)||!ee(W)||(H[W]=$(H[W],V[W]));return H}function ee(H){return"__proto__"!==H}const te=()=>{try{return function Ve(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if("undefined"==typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(W){return}const V=H&&ke(H[1]);return V&&JSON.parse(V)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},He=H=>{const V=(H=>{var V,W;return null===(W=null===(V=te())||void 0===V?void 0:V.emulatorHosts)||void 0===W?void 0:W[H]})(H);if(!V)return;const W=V.lastIndexOf(":");if(W<=0||W+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const B=parseInt(V.substring(W+1),10);return"["===V[0]?[V.substring(1,W-1),B]:[V.substring(0,W),B]},Ge=()=>{var H;return null===(H=te())||void 0===H?void 0:H.config},Me=H=>{var V;return null===(V=te())||void 0===V?void 0:V[`_${H}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,W)=>{this.resolve=V,this.reject=W})}wrapCallback(V){return(W,B)=>{W?this.reject(W):this.resolve(B),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(W):V(W,B))}}}function de(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=V||"demo-project",x=H.iat||0,L=H.sub||H.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const J=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:x,exp:x+3600,auth_time:x,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},H);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(J)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ie(){var H;const V=null===(H=te())||void 0===H?void 0:H.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function pe(){return"object"==typeof self&&self.self===self}function je(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ft(){const H=Ne();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ue(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch(H){return!1}}function Te(){return new Promise((H,V)=>{try{let W=!0;const B="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(B);x.onsuccess=()=>{x.result.close(),W||self.indexedDB.deleteDatabase(B),H(!0)},x.onupgradeneeded=()=>{W=!1},x.onerror=()=>{var L;V((null===(L=x.error)||void 0===L?void 0:L.message)||"")}}catch(W){V(W)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ot extends Error{constructor(V,W,B){super(W),this.code=V,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}}class Un{constructor(V,W,B){this.service=V,this.serviceName=W,this.errors=B}create(V,...W){const B=W[0]||{},x=`${this.service}/${V}`,L=this.errors[V],J=L?function Ke(H,V){return H.replace(ft,(W,B)=>{const x=V[B];return null!=x?String(x):`<${B}?>`})}(L,B):"Error";return new Ot(x,`${this.serviceName}: ${J} (${x}).`,B)}}const ft=/\{\$([^}]+)}/g;function vr(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function $s(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function nr(H,V){if(H===V)return!0;const W=Object.keys(H),B=Object.keys(V);for(const x of W){if(!B.includes(x))return!1;const L=H[x],J=V[x];if(Cn(L)&&Cn(J)){if(!nr(L,J))return!1}else if(L!==J)return!1}for(const x of B)if(!W.includes(x))return!1;return!0}function Cn(H){return null!==H&&"object"==typeof H}function zi(H){const V=[];for(const[W,B]of Object.entries(H))Array.isArray(B)?B.forEach(x=>{V.push(encodeURIComponent(W)+"="+encodeURIComponent(x))}):V.push(encodeURIComponent(W)+"="+encodeURIComponent(B));return V.length?"&"+V.join("&"):""}function Mr(H){const V={};return H.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[x,L]=B.split("=");V[decodeURIComponent(x)]=decodeURIComponent(L)}}),V}function ir(H){const V=H.indexOf("?");if(!V)return"";const W=H.indexOf("#",V);return H.substring(V,W>0?W:void 0)}function wi(H,V){const W=new ps(H,V);return W.subscribe.bind(W)}class ps{constructor(V,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{V(this)}).catch(B=>{this.error(B)})}next(V){this.forEachObserver(W=>{W.next(V)})}error(V){this.forEachObserver(W=>{W.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,W,B){let x;if(void 0===V&&void 0===W&&void 0===B)throw new Error("Missing Observer.");x=function ht(H,V){if("object"!=typeof H||null===H)return!1;for(const W of V)if(W in H&&"function"==typeof H[W])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:W,complete:B},void 0===x.next&&(x.next=Xe),void 0===x.error&&(x.error=Xe),void 0===x.complete&&(x.complete=Xe);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch(J){}}),this.observers.push(x),L}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,V)}sendOne(V,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{W(this.observers[V])}catch(B){"undefined"!=typeof console&&console.error&&console.error(B)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xe(){}function Ue(H,V=1e3,W=2){const B=V*Math.pow(W,H),x=Math.round(.5*B*(Math.random()-.5)*2);return Math.min(144e5,B+x)}function nn(H){return H&&H._delegate?H._delegate:H}},3269:(rt,_e,F)=>{var l=F(5e3);let j=null;function N(){return j}const ce=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ke(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const G=new l.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(){return new $((0,l.LFG)(ce))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Oe(n){return n&&"?"!==n[0]?"?"+n:n}let te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(n){const t=(0,l.LFG)(ce).location;return new Ge((0,l.LFG)(fe),t&&t.origin||"")}()},providedIn:"root"}),n})();const He=new l.OlP("appBaseHref");let Ge=(()=>{class n extends te{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Oe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+Oe(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+Oe(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe),l.LFG(He,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends te{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+Oe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+Oe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe),l.LFG(He,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),me=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Be(X(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Oe(i))}normalize(e){return n.stripTrailingSlash(function Ne(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,X(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Oe,n.joinWithSlash=Se,n.stripTrailingSlash=Be,n.\u0275fac=function(e){return new(e||n)(l.LFG(te),l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function de(){return new me((0,l.LFG)(te),(0,l.LFG)(fe))}()},providedIn:"root"}),n})();function X(n){return n.replace(/\/index.html$/,"")}var nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),ot=(()=>((ot=ot||{})[ot.Narrow=0]="Narrow",ot[ot.Abbreviated=1]="Abbreviated",ot[ot.Wide=2]="Wide",ot[ot.Short=3]="Short",ot))(),Ft=(()=>((Ft=Ft||{})[Ft.Short=0]="Short",Ft[Ft.Medium=1]="Medium",Ft[Ft.Long=2]="Long",Ft[Ft.Full=3]="Full",Ft))(),q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q))();function Ke(n,t){return Cn((0,l.cg1)(n)[l.wAp.DateFormat],t)}function ft(n,t){return Cn((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function wt(n,t){return Cn((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function Pt(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(void 0===i){if(t===q.CurrencyDecimal)return e[l.wAp.NumberSymbols][q.Decimal];if(t===q.CurrencyGroup)return e[l.wAp.NumberSymbols][q.Group]}return i}function ji(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function un(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const xn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wi={},ps=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.ShortGMT=1]="ShortGMT",$t[$t.Long=2]="Long",$t[$t.Extended=3]="Extended",$t))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),Xe=(()=>((Xe=Xe||{})[Xe.DayPeriods=0]="DayPeriods",Xe[Xe.Days=1]="Days",Xe[Xe.Months=2]="Months",Xe[Xe.Eras=3]="Eras",Xe))();function Sr(n,t,e,i){let r=function J(n){if(qe(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(h=>+h);return br(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(xn))return function xe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,h,m,v),t}(i)}const t=new Date(n);if(!qe(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wt(e,t)||t;let h,u=[];for(;t;){if(h=ps.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;t=D}}let m=r.getTimezoneOffset();i&&(m=B(i,m),r=function L(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function x(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(B(t,r)-r))}(r,i,!0));let v="";return u.forEach(D=>{const T=function W(n){if(V[n])return V[n];let t;switch(n){case"G":case"GG":case"GGG":t=Yt(Xe.Eras,ot.Abbreviated);break;case"GGGG":t=Yt(Xe.Eras,ot.Wide);break;case"GGGGG":t=Yt(Xe.Eras,ot.Narrow);break;case"y":t=_t(ht.FullYear,1,0,!1,!0);break;case"yy":t=_t(ht.FullYear,2,0,!0,!0);break;case"yyy":t=_t(ht.FullYear,3,0,!1,!0);break;case"yyyy":t=_t(ht.FullYear,4,0,!1,!0);break;case"Y":t=H(1);break;case"YY":t=H(2,!0);break;case"YYY":t=H(3);break;case"YYYY":t=H(4);break;case"M":case"L":t=_t(ht.Month,1,1);break;case"MM":case"LL":t=_t(ht.Month,2,1);break;case"MMM":t=Yt(Xe.Months,ot.Abbreviated);break;case"MMMM":t=Yt(Xe.Months,ot.Wide);break;case"MMMMM":t=Yt(Xe.Months,ot.Narrow);break;case"LLL":t=Yt(Xe.Months,ot.Abbreviated,nt.Standalone);break;case"LLLL":t=Yt(Xe.Months,ot.Wide,nt.Standalone);break;case"LLLLL":t=Yt(Xe.Months,ot.Narrow,nt.Standalone);break;case"w":t=nn(1);break;case"ww":t=nn(2);break;case"W":t=nn(1,!0);break;case"d":t=_t(ht.Date,1);break;case"dd":t=_t(ht.Date,2);break;case"c":case"cc":t=_t(ht.Day,1);break;case"ccc":t=Yt(Xe.Days,ot.Abbreviated,nt.Standalone);break;case"cccc":t=Yt(Xe.Days,ot.Wide,nt.Standalone);break;case"ccccc":t=Yt(Xe.Days,ot.Narrow,nt.Standalone);break;case"cccccc":t=Yt(Xe.Days,ot.Short,nt.Standalone);break;case"E":case"EE":case"EEE":t=Yt(Xe.Days,ot.Abbreviated);break;case"EEEE":t=Yt(Xe.Days,ot.Wide);break;case"EEEEE":t=Yt(Xe.Days,ot.Narrow);break;case"EEEEEE":t=Yt(Xe.Days,ot.Short);break;case"a":case"aa":case"aaa":t=Yt(Xe.DayPeriods,ot.Abbreviated);break;case"aaaa":t=Yt(Xe.DayPeriods,ot.Wide);break;case"aaaaa":t=Yt(Xe.DayPeriods,ot.Narrow);break;case"b":case"bb":case"bbb":t=Yt(Xe.DayPeriods,ot.Abbreviated,nt.Standalone,!0);break;case"bbbb":t=Yt(Xe.DayPeriods,ot.Wide,nt.Standalone,!0);break;case"bbbbb":t=Yt(Xe.DayPeriods,ot.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Yt(Xe.DayPeriods,ot.Abbreviated,nt.Format,!0);break;case"BBBB":t=Yt(Xe.DayPeriods,ot.Wide,nt.Format,!0);break;case"BBBBB":t=Yt(Xe.DayPeriods,ot.Narrow,nt.Format,!0);break;case"h":t=_t(ht.Hours,1,-12);break;case"hh":t=_t(ht.Hours,2,-12);break;case"H":t=_t(ht.Hours,1);break;case"HH":t=_t(ht.Hours,2);break;case"m":t=_t(ht.Minutes,1);break;case"mm":t=_t(ht.Minutes,2);break;case"s":t=_t(ht.Seconds,1);break;case"ss":t=_t(ht.Seconds,2);break;case"S":t=_t(ht.FractionalSeconds,1);break;case"SS":t=_t(ht.FractionalSeconds,2);break;case"SSS":t=_t(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ze($t.Short);break;case"ZZZZZ":t=ze($t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ze($t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ze($t.Long);break;default:return null}return V[n]=t,t}(D);v+=T?T(r,e,m):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function br(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wt(n,t){const e=function ue(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(wi[e]=wi[e]||{},wi[e][t])return wi[e][t];let i="";switch(t){case"shortDate":i=Ke(n,Ft.Short);break;case"mediumDate":i=Ke(n,Ft.Medium);break;case"longDate":i=Ke(n,Ft.Long);break;case"fullDate":i=Ke(n,Ft.Full);break;case"shortTime":i=ft(n,Ft.Short);break;case"mediumTime":i=ft(n,Ft.Medium);break;case"longTime":i=ft(n,Ft.Long);break;case"fullTime":i=ft(n,Ft.Full);break;case"short":const r=Wt(n,"shortTime"),s=Wt(n,"shortDate");i=ms(wt(n,Ft.Short),[r,s]);break;case"medium":const u=Wt(n,"mediumTime"),h=Wt(n,"mediumDate");i=ms(wt(n,Ft.Medium),[u,h]);break;case"long":const m=Wt(n,"longTime"),v=Wt(n,"longDate");i=ms(wt(n,Ft.Long),[m,v]);break;case"full":const D=Wt(n,"fullTime"),T=Wt(n,"fullDate");i=ms(wt(n,Ft.Full),[D,T])}return i&&(wi[e][t]=i),i}function ms(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Hn(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.substr(u.length-t)),s+u}function _t(n,t,e=0,i=!1,r=!1){return function(s,u){let h=function rr(n,t){switch(n){case ht.FullYear:return t.getFullYear();case ht.Month:return t.getMonth();case ht.Date:return t.getDate();case ht.Hours:return t.getHours();case ht.Minutes:return t.getMinutes();case ht.Seconds:return t.getSeconds();case ht.FractionalSeconds:return t.getMilliseconds();case ht.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===ht.Hours)0===h&&-12===e&&(h=12);else if(n===ht.FractionalSeconds)return function dn(n,t){return Hn(n,3).substr(0,t)}(h,t);const m=Pt(u,q.MinusSign);return Hn(h,t,m,i,r)}}function Yt(n,t,e=nt.Format,i=!1){return function(r,s){return function ui(n,t,e,i,r,s){switch(e){case Xe.Months:return function ge(n,t,e){const i=(0,l.cg1)(n),s=Cn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return Cn(s,e)}(t,r,i)[n.getMonth()];case Xe.Days:return function Te(n,t,e){const i=(0,l.cg1)(n),s=Cn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return Cn(s,e)}(t,r,i)[n.getDay()];case Xe.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const v=function $s(n){const t=(0,l.cg1)(n);return ji(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?un(i):[un(i[0]),un(i[1])])}(t),D=function vt(n,t,e){const i=(0,l.cg1)(n);ji(i);const s=Cn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return Cn(s,e)||[]}(t,r,i),T=v.findIndex(k=>{if(Array.isArray(k)){const[P,U]=k,Q=u>=P.hours&&h>=P.minutes,ae=u<U.hours||u===U.hours&&h<U.minutes;if(P.hours<U.hours){if(Q&&ae)return!0}else if(Q||ae)return!0}else if(k.hours===u&&k.minutes===h)return!0;return!1});if(-1!==T)return D[T]}return function Ee(n,t,e){const i=(0,l.cg1)(n),s=Cn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return Cn(s,e)}(t,r,i)[u<12?0:1];case Xe.Eras:return function at(n,t){return Cn((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function ze(n){return function(t,e,i){const r=-1*i,s=Pt(e,q.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case $t.Short:return(r>=0?"+":"")+Hn(u,2,s)+Hn(Math.abs(r%60),2,s);case $t.ShortGMT:return"GMT"+(r>=0?"+":"")+Hn(u,1,s);case $t.Long:return"GMT"+(r>=0?"+":"")+Hn(u,2,s)+":"+Hn(Math.abs(r%60),2,s);case $t.Extended:return 0===i?"Z":(r>=0?"+":"")+Hn(u,2,s)+":"+Hn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Mt(n){return br(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function nn(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=Mt(e),u=function Ct(n){const t=br(n,0,1).getDay();return br(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),h=s.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Hn(r,n,Pt(i,q.MinusSign))}}function H(n,t=!1){return function(e,i){return Hn(Mt(e).getFullYear(),n,Pt(i,q.MinusSign),t)}}const V={};function B(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function qe(n){return n instanceof Date&&!isNaN(n.valueOf())}function Co(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let _s=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ta{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ta(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),ys(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ys(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ys(n,t){n.context.$implicit=t.item}let hi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Pf("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Pf("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function Pf(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Xa{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Gi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ai=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Xa(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Gi,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ff=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();const Q0=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let d_=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var u;if(null==e||""===e||e!=e)return null;try{return Sr(e,i,s||this.locale,null!==(u=null!=r?r:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(h){throw function Kn(n,t){return new l.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(Q0,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0}),n})(),Fn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const td="browser";function ki(n){return"server"===n}let pc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new mc((0,l.LFG)(ce),window)}),n})();class mc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function rd(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=id(this.window.history)||id(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function id(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vn{}class ia extends class gc extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function De(n){j||(j=n)}(new ia)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function qf(){return mn=mn||document.querySelector("base"),mn?mn.getAttribute("href"):null}();return null==e?null:function rl(n){il=il||document.createElement("a"),il.setAttribute("href",n);const t=il.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Co(document.cookie,t)}}let il,mn=null;const Ri=new l.OlP("TRANSITION_ID"),sl=[{provide:l.ip1,useFactory:function _c(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ri,ce,l.zs3],multi:!0}];class bs{static init(){(0,l.VLi)(new bs)}addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(m){u=u||m,s--,0==s&&i(u)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Oi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=new l.OlP("EventManagerPlugins");let Ws=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ra),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Wf{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ar=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),sa=(()=>{class n extends Ar{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(oa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(oa))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function oa(n){N().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yc=/%COMP%/g;function ve(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ve(n,r,e):(r=r.replace(yc,n),e.push(r))}return e}function Gt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let An=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new aa(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ld(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new cd(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ve(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ws),l.LFG(sa),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class aa{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(bt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=bt[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=bt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gt(i)):this.eventManager.addEventListener(t,e,Gt(i))}}class ld extends aa{constructor(t,e,i,r){super(t),this.component=i;const s=ve(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function od(n){return"_ngcontent-%COMP%".replace(yc,n)}(r+"-"+i.id),this.hostAttr=function m_(n){return"_nghost-%COMP%".replace(yc,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class cd extends aa{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ve(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kf=(()=>{class n extends Wf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qf=["alt","control","meta","shift"],la={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Di={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xf=(()=>{class n extends Wf{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(Qf.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),u+=m+".")}),u+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Ys(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Di.hasOwnProperty(t)&&(t=Di[t]))}return la[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Qf.forEach(s=>{s!=r&&kr[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const g_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:td},{provide:l.g9A,useValue:function ws(){ia.makeCurrent(),bs.init()},multi:!0},{provide:ce,useFactory:function Jf(){return(0,l.RDi)(document),document},deps:[]}]),ll=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ud(){return new l.qLn},deps:[]},{provide:ra,useClass:Kf,multi:!0,deps:[ce,l.R0b,l.Lbi]},{provide:ra,useClass:Xf,multi:!0,deps:[ce]},{provide:An,useClass:An,deps:[Ws,sa,l.AFp]},{provide:l.FYo,useExisting:An},{provide:Ar,useExisting:sa},{provide:sa,useClass:sa,deps:[ce]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ws,useClass:Ws,deps:[ra,l.R0b]},{provide:vn,useClass:Oi,deps:[]}];let bc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Ri,useExisting:l.AFp},sl]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:ll,imports:[Fn,l.hGG]}),n})();"undefined"!=typeof window&&window;let Qr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(rp),i},providedIn:"root"}),n})(),rp=(()=>{class n extends Qr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function wc(n){return new rp(n.get(ce))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var kn=F(8996),Cc=F(184);function Qe(...n){const t=(0,Cc.yG)(n);return(0,kn.D)(n,t)}var St=F(7579);class jn extends St.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var zn=F(8306);const{isArray:sp}=Array,{getPrototypeOf:da,prototype:ha,keys:Qn}=Object;function Mo(n){if(1===n.length){const t=n[0];if(sp(t))return{args:t,keys:null};if(function hl(n){return n&&"object"==typeof n&&da(n)===ha}(t)){const e=Qn(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Es=F(4671),yt=F(4004);const{isArray:op}=Array;function Dc(n){return(0,yt.U)(t=>function ap(n,t){return op(t)?n(...t):n(t)}(n,t))}function lp(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var fn=F(5403),Ec=F(9672);function Xr(...n){const t=(0,Cc.yG)(n),e=(0,Cc.jO)(n),{args:i,keys:r}=Mo(n);if(0===i.length)return(0,kn.D)([],t);const s=new zn.y(function So(n,t,e=Es.y){return i=>{fl(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let m=0;m<r;m++)fl(t,()=>{const v=(0,kn.D)(n[m],t);let D=!1;v.subscribe((0,fn.x)(i,T=>{s[m]=T,D||(D=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>lp(r,u):Es.y));return e?s.pipe(Dc(e)):s}function fl(n,t,e){n?(0,Ec.f)(e,n,t):t()}var Fi=F(576);function xo(n,t){const e=(0,Fi.m)(n)?n:()=>n,i=r=>r.error(e());return new zn.y(t?r=>t.schedule(i,0,r):i)}const pl=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ao=F(8189);function md(...n){return function cp(){return(0,Ao.J)(1)}()((0,kn.D)(n,(0,Cc.yG)(n)))}var Jr=F(8421);function fa(n){return new zn.y(t=>{(0,Jr.Xf)(n()).subscribe(t)})}var Is=F(515),Xn=F(727),Jn=F(4482);function ko(){return(0,Jn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,fn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Tc extends zn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Jn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Xn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,fn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Xn.w0.EMPTY)}return t}refCount(){return ko()(this)}}function fi(n,t){return(0,Jn.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,fn.x)(i,m=>{null==r||r.unsubscribe();let v=0;const D=s++;(0,Jr.Xf)(n(m,D)).subscribe(r=(0,fn.x)(i,T=>i.next(t?t(m,T,D,v++):T),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function si(n){return n<=0?()=>Is.E:(0,Jn.e)((t,e)=>{let i=0;t.subscribe((0,fn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ei(...n){const t=(0,Cc.yG)(n);return(0,Jn.e)((e,i)=>{(t?md(n,e,t):md(n,e)).subscribe(i)})}function pa(n,t,e,i,r){return(s,u)=>{let h=e,m=t,v=0;s.subscribe((0,fn.x)(u,D=>{const T=v++;m=h?n(m,D,T):(h=!0,D),i&&u.next(m)},r&&(()=>{h&&u.next(m),u.complete()})))}}function es(n,t){return(0,Jn.e)(pa(n,t,arguments.length>=2,!0))}function Mn(n,t){return(0,Jn.e)((e,i)=>{let r=0;e.subscribe((0,fn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Rr(n){return(0,Jn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,fn.x)(e,void 0,void 0,u=>{s=(0,Jr.Xf)(n(u,Rr(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var Rn=F(5577);function ml(n,t){return(0,Fi.m)(t)?(0,Rn.z)(n,t,1):(0,Rn.z)(n,1)}function gl(n){return n<=0?()=>Is.E:(0,Jn.e)((t,e)=>{let i=[];t.subscribe((0,fn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function On(n=w_){return(0,Jn.e)((t,e)=>{let i=!1;t.subscribe((0,fn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function w_(){return new pl}function C_(n){return(0,Jn.e)((t,e)=>{let i=!1;t.subscribe((0,fn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ma(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Mn((r,s)=>n(r,s,i)):Es.y,si(1),e?C_(t):On(()=>new pl))}function oi(n,t,e){const i=(0,Fi.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,Jn.e)((r,s)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe((0,fn.x)(s,m=>{var v;null===(v=i.next)||void 0===v||v.call(i,m),s.next(m)},()=>{var m;h=!1,null===(m=i.complete)||void 0===m||m.call(i),s.complete()},m=>{var v;h=!1,null===(v=i.error)||void 0===v||v.call(i,m),s.error(m)},()=>{var m,v;h&&(null===(m=i.unsubscribe)||void 0===m||m.call(i)),null===(v=i.finalize)||void 0===v||v.call(i)}))}):Es.y}function D_(n){return(0,Jn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Ks{constructor(t,e){this.id=t,this.url=e}}class Ro extends Ks{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ga extends Ks{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $n extends Ks{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _l extends Ks{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yl extends Ks{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class up extends Ks{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E_ extends Ks{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wi extends Ks{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends Ks{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bl{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dp{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I_{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class hp{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gn(n){return new hp(n)}const wl="ngNavigationCancelingError";function Qs(n){const t=Error("NavigationCancelingError: "+n);return t[wl]=!0,t}function Mc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Dr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!fp(n[r],t[r]))return!1;return!0}function fp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Sc(n){return Array.prototype.concat.apply([],n)}function xc(n){return n.length>0?n[n.length-1]:null}function Sn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function lr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,kn.D)(Promise.resolve(n)):Qe(n)}const Fo={exact:function _d(n,t,e){if(!Js(n.segments,t.segments)||!Xs(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!_d(n.children[i],t.children[i],e))return!1;return!0},subset:Ac},_a={exact:function S_(n,t){return Dr(n,t)},subset:function pp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fp(n[e],t[e]))},ignored:()=>!0};function No(n,t,e){return Fo[e.paths](n.root,t.root,e.matrixParams)&&_a[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ac(n,t,e){return mp(n,t,t.segments,e)}function mp(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Js(r,e)||t.hasChildren()||!Xs(r,e,i))}if(n.segments.length===e.length){if(!Js(n.segments,e)||!Xs(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ac(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Js(n.segments,r)&&Xs(n.segments,r,i)&&n.children[jt])&&mp(n.children[jt],t,s,i)}}function Xs(n,t,e){return t.every((i,r)=>_a[e](n[r].parameters,i.parameters))}class ts{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return vd.serialize(this)}}class qt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ya(this)}}class Pn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gn(this.parameters)),this._parameterMap}toString(){return El(this)}}function Js(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class eo{}class gp{parse(t){const e=new yp(t);return new ts(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ns(t.root,!0)}`,i=function wd(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Bo(e)}=${Bo(r)}`).join("&"):`${Bo(e)}=${Bo(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Cl(n){return encodeURI(n)}(t.fragment)}`:""}`}}const vd=new gp;function ya(n){return n.segments.map(t=>El(t)).join("/")}function ns(n,t){if(!n.hasChildren())return ya(n);if(t){const e=n.children[jt]?ns(n.children[jt],!1):"",i=[];return Sn(n.children,(r,s)=>{s!==jt&&i.push(`${s}:${ns(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function yd(n,t){let e=[];return Sn(n.children,(i,r)=>{r===jt&&(e=e.concat(t(i,r)))}),Sn(n.children,(i,r)=>{r!==jt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===jt?[ns(n.children[jt],!1)]:[`${r}:${ns(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${ya(n)}/${e[0]}`:`${ya(n)}/(${e.join("//")})`}}function Lo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bo(n){return Lo(n).replace(/%3B/gi,";")}function Rc(n){return Lo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function va(n){return decodeURIComponent(n)}function Dl(n){return va(n.replace(/\+/g,"%20"))}function El(n){return`${Rc(n.path)}${function bd(n){return Object.keys(n).map(t=>`;${Rc(t)}=${Rc(n[t])}`).join("")}(n.parameters)}`}const x_=/^[^\/()?;=#]+/;function Ts(n){const t=n.match(x_);return t?t[0]:""}const Il=/^[^=?&#]+/,uw=/^[^&#]+/;class yp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jt]=new qt(t,e)),i}parseSegment(){const t=Ts(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Pn(va(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ts(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ts(this.remaining);r&&(i=r,this.capture(i))}t[va(e)]=va(i)}parseQueryParam(t){const e=function Cd(n){const t=n.match(Il);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function _p(n){const t=n.match(uw);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Dl(e),s=Dl(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ts(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=jt);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[jt]:new qt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class A_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ba(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ba(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Dd(t,this._root).map(e=>e.value)}}function ba(n,t){if(n===t.value)return t;for(const e of t.children){const i=ba(n,e);if(i)return i}return null}function Dd(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Dd(n,e);if(i.length)return i.unshift(t),i}return[]}class Ms{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ss(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Oc extends A_{constructor(t,e){super(t),this.snapshot=e,Pc(this,t)}toString(){return this.snapshot.toString()}}function Vo(n,t){const e=function k_(n,t){const u=new Da([],{},{},"",{},jt,t,null,n.root,-1,{});return new Ed("",new Ms(u,[]))}(n,t),i=new jn([new Pn("",{})]),r=new jn({}),s=new jn({}),u=new jn({}),h=new jn(""),m=new wa(i,r,u,h,s,jt,t,e.root);return m.snapshot=e.root,new Oc(new Ms(m,[]),e)}class wa{constructor(t,e,i,r,s,u,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(t=>Gn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(t=>Gn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function R_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Ca(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Da{constructor(t,e,i,r,s,u,h,m,v,D,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=D,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ed extends A_{constructor(t,e){super(e),this.url=t,Pc(this,e)}toString(){return Id(this._root)}}function Pc(n,t){t.value._routerState=n,t.children.forEach(e=>Pc(n,e))}function Id(n){const t=n.children.length>0?` { ${n.children.map(Id).join(", ")} } `:"";return`${n.value}${t}`}function xs(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Dr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Dr(t.params,e.params)||n.params.next(e.params),function T_(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Dr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Dr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fc(n,t){const e=Dr(n.params,t.params)&&function kc(n,t){return Js(n,t)&&n.every((e,i)=>Dr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fc(n.parent,t.parent))}function Tl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function P_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Tl(n,i,r);return Tl(n,i)})}(n,t,e);return new Ms(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Tl(n,h)),u}}const i=function F_(n){return new wa(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Tl(n,s));return new Ms(i,r)}}function As(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function to(n){return"object"==typeof n&&null!=n&&n.outlets}function Td(n,t,e,i,r){let s={};if(i&&Sn(i,(h,m)=>{s[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===t)return new ts(e,s,r);const u=Md(n,t,e);return new ts(u,s,r)}function Md(n,t,e){const i={};return Sn(n.children,(r,s)=>{i[s]=r===t?e:Md(r,t,e)}),new qt(n.segments,i)}class vp{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&As(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(to);if(r&&r!==xc(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function wp(n,t,e){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return Nc(n,t,e);const i=function dw(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(to(h))break;const m=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!is(m,v,u))return s;i+=2}else{if(!is(m,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new qt(n.segments.slice(0,i.pathIndex),{});return s.children[jt]=new qt(n.segments.slice(i.pathIndex),n.children),Nc(s,0,r)}return i.match&&0===r.length?new qt(n.segments,{}):i.match&&!n.hasChildren()?kd(n,t,e):i.match?Nc(n,0,r):kd(n,t,e)}function Nc(n,t,e){if(0===e.length)return new qt(n.segments,{});{const i=function N_(n){return to(n[0])?n[0].outlets:{[jt]:n}}(e),r={};return Sn(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=wp(n.children[u],t,s))}),Sn(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new qt(n.segments,r)}}function kd(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(to(s)){const m=Ea(s.outlets);return new qt(i,m)}if(0===r&&As(e[0])){i.push(new Pn(n.segments[t].path,Rd(e[0]))),r++;continue}const u=to(s)?s.outlets[jt]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&As(h)?(i.push(new Pn(u,Rd(h))),r+=2):(i.push(new Pn(u,{})),r++)}return new qt(i,{})}function Ea(n){const t={};return Sn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=kd(new qt([],{}),0,e))}),t}function Rd(n){const t={};return Sn(n,(e,i)=>t[i]=`${e}`),t}function is(n,t,e){return n==e.path&&Dr(t,e.parameters)}class g{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),xs(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ss(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Sn(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ss(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ss(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ss(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new gd(s.value.snapshot))}),t.children.length&&this.forwardEvent(new dp(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(xs(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),xs(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function _(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),m=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=m,u.outlet&&u.outlet.activateWith(r,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class C{constructor(t,e){this.routes=t,this.module=e}}function M(n){return"function"==typeof n}function K(n){return n instanceof ts}const pn=Symbol("INITIAL_VALUE");function Ni(){return fi(n=>Xr(n.map(t=>t.pipe(si(1),ei(pn)))).pipe(es((t,e)=>{let i=!1;return e.reduce((r,s,u)=>r!==pn?r:(s===pn&&(i=!0),i||!1!==s&&u!==e.length-1&&!K(s)?r:s),t)},pn),Mn(t=>t!==pn),(0,yt.U)(t=>K(t)?t:!0===t),si(1)))}class no{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new io,this.attachRef=null}}class io{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new no,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Lc=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,m=new Od(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(io),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Od{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===wa?this.route:t===io?this.childContexts:this.parent.get(t,e)}}let Bc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[Lc],encapsulation:2}),n})();function Ia(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Vc(i,Uc(t,i))}}function Vc(n,t){n.children&&Ia(n.children,t)}function Uc(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Hc(n){const t=n.children&&n.children.map(Hc),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=Bc),e}function Zt(n){return n.outlet||jt}function Pd(n,t){const e=n.filter(i=>Zt(i)===t);return e.push(...n.filter(i=>Zt(i)!==t)),e}const Cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ro(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Cp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Mc)(e,n,t);if(!s)return Object.assign({},Cp);const u={};Sn(s.posParams,(m,v)=>{u[v]=m.path});const h=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Ml(n,t,e,i,r="corrected"){if(e.length>0&&function TT(n,t,e){return e.some(i=>Dp(n,t,i)&&Zt(i)!==jt)}(n,e,i)){const u=new qt(t,function IT(n,t,e,i){const r={};r[jt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Zt(s)!==jt){const u=new qt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Zt(s)]=u}return r}(n,t,i,new qt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function MT(n,t,e){return e.some(i=>Dp(n,t,i))}(n,e,i)){const u=new qt(n.segments,function ET(n,t,e,i,r,s){const u={};for(const h of i)if(Dp(n,e,h)&&!r[Zt(h)]){const m=new qt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[Zt(h)]=m}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new qt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Dp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ST(n,t,e,i){return!!(Zt(n)===i||i!==jt&&Dp(t,e,n))&&("**"===n.path||ro(t,n,e).matched)}function xT(n,t,e){return 0===t.length&&!n.children[e]}class Ta{constructor(t){this.segmentGroup=t||null}}class Yi{constructor(t){this.urlTree=t}}function Sl(n){return xo(new Ta(n))}function L_(n){return xo(new Yi(n))}class B_{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Ml(this.urlTree.root,[],[],this.config).segmentGroup,e=new qt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,jt).pipe((0,yt.U)(s=>this.createUrlTree(V_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rr(s=>{if(s instanceof Yi)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ta?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,jt).pipe((0,yt.U)(r=>this.createUrlTree(V_(r),t.queryParams,t.fragment))).pipe(Rr(r=>{throw r instanceof Ta?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new qt([],{[jt]:t}):t;return new ts(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,yt.U)(s=>new qt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,kn.D)(r).pipe(ml(s=>{const u=i.children[s],h=Pd(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,yt.U)(m=>({segment:m,outlet:s})))}),es((s,u)=>(s[u.outlet]=u.segment,s),{}),function aw(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Mn((r,s)=>n(r,s,i)):Es.y,gl(1),e?C_(t):On(()=>new pl))}())}expandSegment(t,e,i,r,s,u){return(0,kn.D)(i).pipe(ml(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(Rr(v=>{if(v instanceof Ta)return Qe(null);throw v}))),ma(h=>!!h),Rr((h,m)=>{if(h instanceof pl||"EmptyError"===h.name)return xT(e,r,s)?Qe(new qt([],{})):Sl(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return ST(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):Sl(e):Sl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?L_(s):this.lineralizeSegments(i,s).pipe((0,Rn.z)(u=>{const h=new qt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:D}=ro(e,r,s);if(!h)return Sl(e);const T=this.applyRedirectCommands(m,r.redirectTo,D);return r.redirectTo.startsWith("/")?L_(T):this.lineralizeSegments(r,T).pipe((0,Rn.z)(k=>this.expandSegment(t,e,i,k.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Qe(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,yt.U)(T=>(i._loadedConfig=T,new qt(r,{})))):Qe(new qt(r,{}));const{matched:u,consumedSegments:h,remainingSegments:m}=ro(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,Rn.z)(D=>{const T=D.module,k=D.routes,{segmentGroup:P,slicedSegments:U}=Ml(e,h,m,k),Q=new qt(P.segments,P.children);if(0===U.length&&Q.hasChildren())return this.expandChildren(T,k,Q).pipe((0,yt.U)(it=>new qt(h,it)));if(0===k.length&&0===U.length)return Qe(new qt(h,{}));const ae=Zt(i)===s;return this.expandSegment(T,Q,k,U,ae?jt:s,!0).pipe((0,yt.U)(Ye=>new qt(h.concat(Ye.segments),Ye.children)))})):Sl(e)}getChildConfig(t,e,i){return e.children?Qe(new C(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Qe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Rn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,yt.U)(s=>(e._loadedConfig=s,s))):function Zi(n){return xo(Qs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Qe(new C([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Qe(r.map(u=>{const h=t.get(u);let m;if(function be(n){return n&&M(n.canLoad)}(h))m=h.canLoad(e,i);else{if(!M(h))throw new Error("Invalid CanLoad guard");m=h(e,i)}return lr(m)})).pipe(Ni(),oi(u=>{if(!K(u))return;const h=Qs(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,yt.U)(u=>!0===u)):Qe(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Qe(i);if(r.numberOfChildren>1||!r.children[jt])return xo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ts(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Sn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Sn(e.children,(h,m)=>{u[m]=this.createSegmentGroup(t,h,i,r)}),new qt(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function V_(n){const t={};for(const i of Object.keys(n.children)){const s=V_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function AT(n){if(1===n.numberOfChildren&&n.children[jt]){const t=n.children[jt];return new qt(n.segments.concat(t.segments),t.children)}return n}(new qt(n.segments,t))}class pw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nd{constructor(t,e){this.component=t,this.route=e}}function kT(n,t,e){const i=n._root;return xl(i,t?t._root:null,e,[i.value])}function Ep(n,t,e){const i=function RT(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function xl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ss(t);return n.children.forEach(u=>{(function OT(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const m=function PT(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Js(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Js(n.url,t.url)||!Dr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fc(n,t)||!Dr(n.queryParams,t.queryParams);default:return!Fc(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new pw(i)):(s.data=u.data,s._resolvedData=u._resolvedData),xl(n,t,s.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Nd(h.outlet.component,u))}else u&&Al(t,h,r),r.canActivateChecks.push(new pw(i)),xl(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Sn(s,(u,h)=>Al(u,e.getContext(h),r)),r}function Al(n,t,e){const i=Ss(n),r=n.value;Sn(i,(s,u)=>{Al(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Nd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class gw{}function _w(n){return new zn.y(t=>t.error(n))}class zT{constructor(t,e,i,r,s,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const t=Ml(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,jt);if(null===e)return null;const i=new Da([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ms(i,e),s=new Ed(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=R_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const u=e.children[s],h=Pd(t,s),m=this.processSegmentGroup(h,u,s);if(null===m)return null;i.push(...m)}const r=yw(i);return function $T(n){n.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const u=this.processSegmentAgainstRoute(s,e,i,r);if(null!==u)return u}return xT(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!ST(t,e,i,r))return null;let s,u=[],h=[];if("**"===t.path){const P=i.length>0?xc(i).parameters:{};s=new Da(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,WT(t),Zt(t),t.component,t,kl(e),ks(e)+i.length,YT(t))}else{const P=ro(e,t,i);if(!P.matched)return null;u=P.consumedSegments,h=P.remainingSegments,s=new Da(u,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,WT(t),Zt(t),t.component,t,kl(e),ks(e)+u.length,YT(t))}const m=function GT(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:D}=Ml(e,u,h,m.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===D.length&&v.hasChildren()){const P=this.processChildren(m,v);return null===P?null:[new Ms(s,P)]}if(0===m.length&&0===D.length)return[new Ms(s,[])];const T=Zt(t)===r,k=this.processSegment(m,v,D,T?jt:r);return null===k?null:[new Ms(s,k)]}}function qT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function yw(n){const t=[],e=new Set;for(const i of n){if(!qT(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=yw(i.children);t.push(new Ms(i.value,r))}return t.filter(i=>!e.has(i))}function kl(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ks(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function WT(n){return n.data||{}}function YT(n){return n.resolve||{}}function Tp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Mp(n){return fi(t=>{const e=n(t);return e?(0,kn.D)(e).pipe((0,yt.U)(()=>t)):Qe(t)})}class ww extends class bw{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Bd=new l.OlP("ROUTES");class Sp{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,yt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=s.create(t);return new C(Sc(u.injector.get(Bd,void 0,l.XFs.Self|l.XFs.Optional)).map(Hc),u)}),Rr(s=>{throw e._loader$=void 0,s}));return e._loader$=new Tc(r,()=>new St.x).pipe(ko()),e._loader$}loadModuleFactory(t){return lr(t()).pipe((0,Rn.z)(e=>e instanceof l.YKP?Qe(e):(0,kn.D)(this.compiler.compileModuleAsync(e))))}}class d1{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function jc(n){throw n}function H_(n,t,e){return t.parse("/")}function j_(n,t){return Qe(null)}const KT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pr=(()=>{class n{constructor(e,i,r,s,u,h,m){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.x,this.errorHandler=jc,this.malformedUriErrorHandler=H_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:j_,afterPreactivation:j_},this.urlHandlingStrategy=new d1,this.routeReuseStrategy=new ww,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const T=u.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function cw(){return new ts(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sp(u,h,k=>this.triggerEvent(new vl(k)),k=>this.triggerEvent(new bl(k))),this.routerState=Vo(this.currentUrlTree,this.rootComponentType),this.transitions=new jn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Mn(r=>0!==r.id),(0,yt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),fi(r=>{let s=!1,u=!1;return Qe(r).pipe(oi(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fi(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Dw(h.source)&&(this.browserUrlTree=h.extractedUrl),Qe(h).pipe(fi(T=>{const k=this.transitions.getValue();return i.next(new Ro(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),k!==this.transitions.getValue()?Is.E:Promise.resolve(T)}),function fw(n,t,e,i){return fi(r=>function Fd(n,t,e,i,r){return new B_(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,yt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),oi(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function vw(n,t,e,i,r){return(0,Rn.z)(s=>function jT(n,t,e,i,r="emptyOnly",s="legacy"){try{const u=new zT(n,t,e,i,r,s).recognize();return null===u?_w(new gw):Qe(u)}catch(u){return _w(u)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,yt.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),oi(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(P,T)}this.browserUrlTree=T.urlAfterRedirects}const k=new yl(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(k)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:P,source:U,restoredState:Q,extras:ae}=h,Fe=new Ro(k,this.serializeUrl(P),U,Q);i.next(Fe);const Ye=Vo(P,this.rootComponentType).snapshot;return Qe(Object.assign(Object.assign({},h),{targetSnapshot:Ye,urlAfterRedirects:P,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Is.E}),Mp(h=>{const{targetSnapshot:m,id:v,extractedUrl:D,rawUrl:T,extras:{skipLocationChange:k,replaceUrl:P}}=h;return this.hooks.beforePreactivation(m,{navigationId:v,appliedUrlTree:D,rawUrlTree:T,skipLocationChange:!!k,replaceUrl:!!P})}),oi(h=>{const m=new up(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,yt.U)(h=>Object.assign(Object.assign({},h),{guards:kT(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function FT(n,t){return(0,Rn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?Qe(Object.assign(Object.assign({},e),{guardsResult:!0})):function NT(n,t,e,i){return(0,kn.D)(n).pipe((0,Rn.z)(r=>function HT(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Qe(s.map(h=>{const m=Ep(h,t,r);let v;if(function Vt(n){return n&&M(n.canDeactivate)}(m))v=lr(m.canDeactivate(n,t,e,i));else{if(!M(m))throw new Error("Invalid CanDeactivate guard");v=lr(m(n,t,e,i))}return v.pipe(ma())})).pipe(Ni()):Qe(!0)}(r.component,r.route,e,t,i)),ma(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Rn.z)(h=>h&&function R(n){return"boolean"==typeof n}(h)?function Ip(n,t,e,i){return(0,kn.D)(t).pipe(ml(r=>md(function BT(n,t){return null!==n&&t&&t(new Oo(n)),Qe(!0)}(r.route.parent,i),function LT(n,t){return null!==n&&t&&t(new Po(n)),Qe(!0)}(r.route,i),function UT(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function mw(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>fa(()=>Qe(u.guards.map(m=>{const v=Ep(m,u.node,e);let D;if(function ut(n){return n&&M(n.canActivateChild)}(v))D=lr(v.canActivateChild(i,n));else{if(!M(v))throw new Error("Invalid CanActivateChild guard");D=lr(v(i,n))}return D.pipe(ma())})).pipe(Ni())));return Qe(s).pipe(Ni())}(n,r.path,e),function VT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Qe(!0);const r=i.map(s=>fa(()=>{const u=Ep(s,t,e);let h;if(function We(n){return n&&M(n.canActivate)}(u))h=lr(u.canActivate(t,n));else{if(!M(u))throw new Error("Invalid CanActivate guard");h=lr(u(t,n))}return h.pipe(ma())}));return Qe(r).pipe(Ni())}(n,r.route,e))),ma(r=>!0!==r,!0))}(i,s,n,t):Qe(h)),(0,yt.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),oi(h=>{if(K(h.guardsResult)){const v=Qs(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const m=new E_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),Mn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Mp(h=>{if(h.guards.canActivateChecks.length)return Qe(h).pipe(oi(m=>{const v=new Wi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),fi(m=>{let v=!1;return Qe(m).pipe(function u1(n,t){return(0,Rn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Qe(e);let s=0;return(0,kn.D)(r).pipe(ml(u=>function so(n,t,e,i){return function U_(n,t,e,i){const r=Tp(n);if(0===r.length)return Qe({});const s={};return(0,kn.D)(r).pipe((0,Rn.z)(u=>function ZT(n,t,e,i){const r=Ep(n,t,i);return lr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe(oi(h=>{s[u]=h}))),gl(1),(0,Rn.z)(()=>Tp(s).length===r.length?Qe(s):Is.E))}(n._resolve,n,t,i).pipe((0,yt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),R_(n,e).resolve),null)))}(u.route,i,n,t)),oi(()=>s++),gl(1),(0,Rn.z)(u=>s===r.length?Qe(e):Is.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),oi({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),oi(m=>{const v=new ar(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),Mp(h=>{const{targetSnapshot:m,id:v,extractedUrl:D,rawUrl:T,extras:{skipLocationChange:k,replaceUrl:P}}=h;return this.hooks.afterPreactivation(m,{navigationId:v,appliedUrlTree:D,rawUrlTree:T,skipLocationChange:!!k,replaceUrl:!!P})}),(0,yt.U)(h=>{const m=function O_(n,t,e){const i=Tl(n,t._root,e?e._root:void 0);return new Oc(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:m})}),oi(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,yt.U)(i=>(new g(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),oi({next(){s=!0},complete(){s=!0}}),D_(()=>{var h;s||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Rr(h=>{if(u=!0,function lw(n){return n&&n[wl]}(h)){const m=K(h.url);m||(this.navigated=!0,this.restoreHistory(r,!0));const v=new $n(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(v),m?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dw(r.source)};this.scheduleNavigation(D,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new _l(r.id,this.serializeUrl(r.extractedUrl),h);i.next(m);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return Is.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const m=Object.assign({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ia(e),this.config=e.map(Hc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,v=r||this.routerState.root,D=m?this.currentUrlTree.fragment:u;let T=null;switch(h){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function Or(n,t,e,i,r){if(0===e.length)return Td(t.root,t.root,t.root,i,r);const s=function Sd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vp(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Sn(s.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new vp(e,t,i)}(e);if(s.toRoot())return Td(t.root,t.root,new qt([],{}),i,r);const u=function Ad(n,t,e){if(n.isAbsolute)return new xd(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new xd(s,s===t.root,0)}const i=As(n.commands[0])?0:1;return function bp(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new xd(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),h=u.processChildren?Nc(u.segmentGroup,u.index,s.commands):wp(u.segmentGroup,u.index,s.commands);return Td(t.root,u.segmentGroup,h,i,r)}(v,this.currentUrlTree,e,T,null!=D?D:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=K(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function QT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},KT):!1===i?Object.assign({},z_):i,K(e))return No(this.currentUrlTree,e,r);const s=this.parseUrl(e);return No(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ga(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){var h,m;if(this.disposed)return Promise.resolve(!1);let v,D,T;u?(v=u.resolve,D=u.reject,T=u.promise):T=new Promise((U,Q)=>{v=U,D=Q});const k=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):P=0,this.setTransition({id:k,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:v,reject:D,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new $n(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Dw(n){return"imperative"!==n}let xp=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.commands=null,this.onChanges=new St.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:zc(this.skipLocationChange),replaceUrl:zc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Pr),l.Y36(wa),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function zc(n){return""===n||!!n}class q_{}class Iw{preload(t,e){return Qe(null)}}let Tw=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Sp(r,i,m=>e.triggerEvent(new vl(m)),m=>e.triggerEvent(new bl(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(e=>e instanceof ga),ml(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,kn.D)(r).pipe((0,Ao.J)(),(0,yt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Qe(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Rn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Pr),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(q_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ap=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ro?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ga&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof I_&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new I_(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fr=new l.OlP("ROUTER_CONFIGURATION"),Y_=new l.OlP("ROUTER_FORROOT_GUARD"),Mw=[me,{provide:eo,useClass:gp},{provide:Pr,useFactory:function K_(n,t,e,i,r,s,u={},h,m){const v=new Pr(null,n,t,e,i,r,Sc(s));return h&&(v.urlHandlingStrategy=h),m&&(v.routeReuseStrategy=m),function Aw(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(D=>{var T,k;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(k=console.groupEnd)||void 0===k||k.call(console)}),v},deps:[eo,io,me,l.zs3,l.Sil,Bd,Fr,[class Cw{},new l.FiY],[class Ld{},new l.FiY]]},io,{provide:wa,useFactory:function kp(n){return n.routerState.root},deps:[Pr]},Tw,Iw,class W_{preload(t,e){return e().pipe(Rr(()=>Qe(null)))}},{provide:Fr,useValue:{enableTracing:!1}}];function JT(){return new l.PXZ("Router",Pr)}let Rl=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Mw,Z_(e),{provide:Y_,useFactory:xw,deps:[[Pr,new l.FiY,new l.tp0]]},{provide:Fr,useValue:i||{}},{provide:te,useFactory:Sw,deps:[fe,[new l.tBr(He),new l.FiY],Fr]},{provide:Ap,useFactory:eM,deps:[Pr,pc,Fr]},{provide:q_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Iw},{provide:l.PXZ,multi:!0,useFactory:JT},[$c,{provide:l.ip1,multi:!0,useFactory:kw,deps:[$c]},{provide:X_,useFactory:Q_,deps:[$c]},{provide:l.tb,multi:!0,useExisting:X_}]]}}static forChild(e){return{ngModule:n,providers:[Z_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Y_,8),l.LFG(Pr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function eM(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ap(n,t,e)}function Sw(n,t,e={}){return e.useHash?new Me(n,t):new Ge(n,t)}function xw(n){return"guarded"}function Z_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Bd,multi:!0,useValue:n}]}let $c=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new St.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Pr),u=this.injector.get(Fr);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Qe(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Fr),r=this.injector.get(Tw),s=this.injector.get(Ap),u=this.injector.get(Pr),h=this.injector.get(l.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),s.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function kw(n){return n.appInitializer.bind(n)}function Q_(n){return n.bootstrapListener.bind(n)}const X_=new l.OlP("Router Initializer"),tM=[];let Rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Rl.forRoot(tM)],Rl]}),n})(),nM=(()=>{class n{constructor(){this.title="table-student"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[Lc],encapsulation:2}),n})();var Kt=F(9681);(0,Kt.registerVersion)("firebase","9.17.1","app");var Y=F(5861),pt=F(2090),rs=F(4859),Rs=F(1877),Ol=F(8766);const Pw="@firebase/installations",Fw="w:0.6.3",ny="FIS_v2",Uo=new pt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lw(n){return n instanceof pt.ZR&&n.code.includes("request-failed")}function iy({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function kt(n){return{token:n.token,requestStatus:2,expiresIn:aM(n.expiresIn),creationTime:Date.now()}}function Op(n,t){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,Y.Z)(function*(n,t){const i=(yield t.json()).error;return Uo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function ry({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Vd(n,{refreshToken:t}){const e=ry(n);return e.append("Authorization",function sy(n){return`${ny} ${n}`}(t)),e}function Nr(n){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,Y.Z)(function*(n){const t=yield n();return t.status>=500&&t.status<600?n():t})).apply(this,arguments)}function aM(n){return Number(n.replace("s","000"))}function Ho(n,t){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,Y.Z)(function*({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=iy(n),r=ry(n),s=t.getImmediate({optional:!0});if(s){const v=yield s.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const h={method:"POST",headers:r,body:JSON.stringify({fid:e,authVersion:ny,appId:n.appId,sdkVersion:Fw})},m=yield Nr(()=>fetch(i,h));if(m.ok){const v=yield m.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:kt(v.authToken)}}throw yield Op("Create Installation",m)})).apply(this,arguments)}function oy(n){return new Promise(t=>{setTimeout(t,n)})}const h1=/^[cdef][\w-]{21}$/;function f1(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=function Lp(n){return function ay(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return h1.test(e)?e:""}catch(n){return""}}function jo(n){return`${n.appName}!${n.appId}`}const Ma=new Map;function Bp(n,t){const e=jo(n);Bw(e,t),function lM(n,t){const e=function Vw(){return!Pl&&"BroadcastChannel"in self&&(Pl=new BroadcastChannel("[Firebase] FID Change"),Pl.onmessage=n=>{Bw(n.data.key,n.data.fid)}),Pl}();e&&e.postMessage({key:n,fid:t}),function cy(){0===Ma.size&&Pl&&(Pl.close(),Pl=null)}()}(e,t)}function Bw(n,t){const e=Ma.get(n);if(e)for(const i of e)i(t)}let Pl=null;const Gc="firebase-installations-store";let Vp=null;function Up(){return Vp||(Vp=(0,Ol.X3)("firebase-installations-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Gc)}})),Vp}function Hp(n,t){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,Y.Z)(function*(n,t){const e=jo(n),r=(yield Up()).transaction(Gc,"readwrite"),s=r.objectStore(Gc),u=yield s.get(e);return yield s.put(t,e),yield r.done,(!u||u.fid!==t.fid)&&Bp(n,t.fid),t})).apply(this,arguments)}function Uw(n){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,Y.Z)(function*(n){const t=jo(n),i=(yield Up()).transaction(Gc,"readwrite");yield i.objectStore(Gc).delete(t),yield i.done})).apply(this,arguments)}function jp(n,t){return jw.apply(this,arguments)}function jw(){return(jw=(0,Y.Z)(function*(n,t){const e=jo(n),r=(yield Up()).transaction(Gc,"readwrite"),s=r.objectStore(Gc),u=yield s.get(e),h=t(u);return void 0===h?yield s.delete(e):yield s.put(h,e),yield r.done,h&&(!u||u.fid!==h.fid)&&Bp(n,h.fid),h})).apply(this,arguments)}function zw(n){return $w.apply(this,arguments)}function $w(){return($w=(0,Y.Z)(function*(n){let t;const e=yield jp(n.appConfig,i=>{const r=g1(i),s=_1(n,r);return t=s.registrationPromise,s.installationEntry});return""===e.fid?{installationEntry:yield t}:{installationEntry:e,registrationPromise:t}})).apply(this,arguments)}function g1(n){return uy(n||{fid:f1(),registrationStatus:0})}function _1(n,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Uo.create("app-offline"))};const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function y1(n,t){return Gw.apply(this,arguments)}(n,e);return{installationEntry:e,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Sa(n)}:{installationEntry:t}}function Gw(){return(Gw=(0,Y.Z)(function*(n,t){try{const e=yield Ho(n,t);return Hp(n.appConfig,e)}catch(e){throw Lw(e)&&409===e.customData.serverCode?yield Uw(n.appConfig):yield Hp(n.appConfig,{fid:t.fid,registrationStatus:0}),e}})).apply(this,arguments)}function Sa(n){return jd.apply(this,arguments)}function jd(){return(jd=(0,Y.Z)(function*(n){let t=yield qw(n.appConfig);for(;1===t.registrationStatus;)yield oy(100),t=yield qw(n.appConfig);if(0===t.registrationStatus){const{installationEntry:e,registrationPromise:i}=yield zw(n);return i||e}return t})).apply(this,arguments)}function qw(n){return jp(n,t=>{if(!t)throw Uo.create("installation-not-found");return uy(t)})}function uy(n){return function dy(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Ww(n,t){return zd.apply(this,arguments)}function zd(){return(zd=(0,Y.Z)(function*({appConfig:n,heartbeatServiceProvider:t},e){const i=uM(n,e),r=Vd(n,e),s=t.getImmediate({optional:!0});if(s){const v=yield s.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Fw,appId:n.appId}})},m=yield Nr(()=>fetch(i,h));if(m.ok)return kt(yield m.json());throw yield Op("Generate Auth Token",m)})).apply(this,arguments)}function uM(n,{fid:t}){return`${iy(n)}/${t}/authTokens:generate`}function oo(n){return zp.apply(this,arguments)}function zp(){return(zp=(0,Y.Z)(function*(n,t=!1){let e;const i=yield jp(n.appConfig,s=>{if(!Kw(s))throw Uo.create("not-registered");const u=s.authToken;if(!t&&Gd(u))return s;if(1===u.requestStatus)return e=dM(n,t),s;{if(!navigator.onLine)throw Uo.create("app-offline");const h=fy(s);return e=Zw(n,h),h}});return e?yield e:i.authToken})).apply(this,arguments)}function dM(n,t){return $d.apply(this,arguments)}function $d(){return($d=(0,Y.Z)(function*(n,t){let e=yield Yw(n.appConfig);for(;1===e.authToken.requestStatus;)yield oy(100),e=yield Yw(n.appConfig);const i=e.authToken;return 0===i.requestStatus?oo(n,t):i})).apply(this,arguments)}function Yw(n){return jp(n,t=>{if(!Kw(t))throw Uo.create("not-registered");return function Wc(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Zw(n,t){return hy.apply(this,arguments)}function hy(){return(hy=(0,Y.Z)(function*(n,t){try{const e=yield Ww(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return yield Hp(n.appConfig,i),e}catch(e){if(!Lw(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode){const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Hp(n.appConfig,i)}else yield Uw(n.appConfig);throw e}})).apply(this,arguments)}function Kw(n){return void 0!==n&&2===n.registrationStatus}function Gd(n){return 2===n.requestStatus&&!function qc(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+36e5}(n)}function fy(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function xa(){return(xa=(0,Y.Z)(function*(n){const t=n,{installationEntry:e,registrationPromise:i}=yield zw(t);return i?i.catch(console.error):oo(t).catch(console.error),e.fid})).apply(this,arguments)}function $p(){return($p=(0,Y.Z)(function*(n,t=!1){const e=n;return yield Qw(e),(yield oo(e,t)).token})).apply(this,arguments)}function Qw(n){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,Y.Z)(function*(n){const{registrationPromise:t}=yield zw(n);t&&(yield t)})).apply(this,arguments)}function my(n){return Uo.create("missing-app-config-values",{valueName:n})}const gy="installations",mM=n=>{const t=n.getProvider("app").getImmediate(),e=function Xw(n){if(!n||!n.options)throw my("App Configuration");if(!n.name)throw my("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw my(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(t);return{app:t,appConfig:e,heartbeatServiceProvider:(0,Kt._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},Lr=n=>{const t=n.getProvider("app").getImmediate(),e=(0,Kt._getProvider)(t,gy).getImmediate();return{getId:()=>function qd(n){return xa.apply(this,arguments)}(e),getToken:r=>function hM(n){return $p.apply(this,arguments)}(e,r)}};(function gM(){(0,Kt._registerComponent)(new rs.wA(gy,mM,"PUBLIC")),(0,Kt._registerComponent)(new rs.wA("installations-internal",Lr,"PRIVATE"))})(),(0,Kt.registerVersion)(Pw,"0.6.3"),(0,Kt.registerVersion)(Pw,"0.6.3","esm2017");const _y="@firebase/remote-config",Er=new pt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wM{constructor(t,e,i,r){this.client=t,this.storage=e,this.storageCache=i,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-e,r=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,Y.Z)(function*(){const[i,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,i))return r;t.eTag=r&&r.eTag;const s=yield e.client.fetch(t),u=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&u.push(e.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(u),s})()}}function CM(n=navigator){return n.languages&&n.languages[0]||n.language}class DM{constructor(t,e,i,r,s,u){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=u}fetch(t){var e=this;return(0,Y.Z)(function*(){const[i,r]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},m={sdk_version:e.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:e.appId,language_code:CM()},v={method:"POST",headers:h,body:JSON.stringify(m)},D=fetch(u,v),T=new Promise((Fe,Ye)=>{t.signal.addEventListener(()=>{const it=new Error("The operation was aborted.");it.name="AbortError",Ye(it)})});let k;try{yield Promise.race([D,T]),k=yield D}catch(Fe){let Ye="fetch-client-network";throw"AbortError"===(null==Fe?void 0:Fe.name)&&(Ye="fetch-timeout"),Er.create(Ye,{originalErrorMessage:null==Fe?void 0:Fe.message})}let P=k.status;const U=k.headers.get("ETag")||void 0;let Q,ae;if(200===k.status){let Fe;try{Fe=yield k.json()}catch(Ye){throw Er.create("fetch-client-parse",{originalErrorMessage:null==Ye?void 0:Ye.message})}Q=Fe.entries,ae=Fe.state}if("INSTANCE_STATE_UNSPECIFIED"===ae?P=500:"NO_CHANGE"===ae?P=304:("NO_TEMPLATE"===ae||"EMPTY_CONFIG"===ae)&&(Q={}),304!==P&&200!==P)throw Er.create("fetch-status",{httpStatus:P});return{status:P,eTag:U,config:Q}})()}}class IM{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,Y.Z)(function*(){const i=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,i)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:i}){var r=this;return(0,Y.Z)(function*(){yield function wy(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Er.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,e);try{const s=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function EM(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s))throw s;const u={throttleEndTimeMillis:Date.now()+(0,pt.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(t,u)}})()}}class TM{constructor(t,e,i,r,s){this.app=t,this._client=e,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yc(n,t){const e=n.target.error||void 0;return Er.create(t,{originalErrorMessage:e&&(null==e?void 0:e.message)})}const $o="app_namespace_store";class Dy{constructor(t,e,i,r=function SM(){return new Promise((n,t)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=i=>{t(Yc(i,"storage-open"))},e.onsuccess=i=>{n(i.target.result)},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($o,{keyPath:"compositeKey"})}}catch(e){t(Er.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}})}()){this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,Y.Z)(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([$o],"readonly").objectStore($o),m=e.createCompositeKey(t);try{const v=h.get(m);v.onerror=D=>{s(Yc(D,"storage-get"))},v.onsuccess=D=>{const T=D.target.result;r(T?T.value:void 0)}}catch(v){s(Er.create("storage-get",{originalErrorMessage:null==v?void 0:v.message}))}})})()}set(t,e){var i=this;return(0,Y.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,u)=>{const m=r.transaction([$o],"readwrite").objectStore($o),v=i.createCompositeKey(t);try{const D=m.put({compositeKey:v,value:e});D.onerror=T=>{u(Yc(T,"storage-set"))},D.onsuccess=()=>{s()}}catch(D){u(Er.create("storage-set",{originalErrorMessage:null==D?void 0:D.message}))}})})()}delete(t){var e=this;return(0,Y.Z)(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([$o],"readwrite").objectStore($o),m=e.createCompositeKey(t);try{const v=h.delete(m);v.onerror=D=>{s(Yc(D,"storage-delete"))},v.onsuccess=()=>{r()}}catch(v){s(Er.create("storage-delete",{originalErrorMessage:null==v?void 0:v.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class I1{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,Y.Z)(function*(){const e=t.storage.getLastFetchStatus(),i=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),s=yield e;s&&(t.lastFetchStatus=s);const u=yield i;u&&(t.lastSuccessfulFetchTimestampMillis=u);const h=yield r;h&&(t.activeConfig=h)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function oC(){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,Y.Z)(function*(){if(!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch(n){return!1}})).apply(this,arguments)}!function xM(){(0,Kt._registerComponent)(new rs.wA("remote-config",function n(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Er.create("registration-window");if(!(0,pt.hl)())throw Er.create("indexed-db-unavailable");const{projectId:s,apiKey:u,appId:h}=i.options;if(!s)throw Er.create("registration-project-id");if(!u)throw Er.create("registration-api-key");if(!h)throw Er.create("registration-app-id");const m=new Dy(h,i.name,e=e||"firebase"),v=new I1(m),D=new Rs.Yd(_y);D.logLevel=Rs.in.ERROR;const T=new DM(r,Kt.SDK_VERSION,e,s,u,h),k=new IM(T,m),P=new wM(k,m,v,D),U=new TM(i,P,v,m,D);return function bM(n){const t=(0,pt.m9)(n);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(U),U},"PUBLIC").setMultipleInstances(!0)),(0,Kt.registerVersion)(_y,"0.4.3"),(0,Kt.registerVersion)(_y,"0.4.3","esm2017")}();const aC="/firebase-messaging-sw.js",Go="/firebase-cloud-messaging-push-scope",Yd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lC="google.c.a.c_id",T1="google.c.a.c_l",Ey="google.c.a.ts",cC="google.c.a.e";var ao=(()=>{return(n=ao||(ao={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ao;var n})();function qo(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iy(n){const e=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const em="fcm_token_details_db",Ty="fcm_token_object_Store";function RM(n){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,Y.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(em))return null;let t=null;return(yield(0,Ol.X3)(em,5,{upgrade:(i=(0,Y.Z)(function*(r,s,u,h){var m;if(s<2||!r.objectStoreNames.contains(Ty))return;const v=h.objectStore(Ty),D=yield v.index("fcmSenderId").get(n);if(yield v.clear(),D)if(2===s){const T=D;if(!T.auth||!T.p256dh||!T.endpoint)return;t={token:T.fcmToken,createTime:null!==(m=T.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:T.auth,p256dh:T.p256dh,endpoint:T.endpoint,swScope:T.swScope,vapidKey:"string"==typeof T.vapidKey?T.vapidKey:qo(T.vapidKey)}}}else if(3===s){const T=D;t={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:qo(T.auth),p256dh:qo(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:qo(T.vapidKey)}}}else if(4===s){const T=D;t={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:qo(T.auth),p256dh:qo(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:qo(T.vapidKey)}}}}),function(s,u,h,m){return i.apply(this,arguments)})})).close(),yield(0,Ol.Lj)(em),yield(0,Ol.Lj)("fcm_vapid_details_db"),yield(0,Ol.Lj)("undefined"),OM(t)?t:null;var i}),Zd.apply(this,arguments)}function OM(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const os="firebase-messaging-store";let tm=null;function My(){return tm||(tm=(0,Ol.X3)("firebase-messaging-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(os)}})),tm}function fC(n){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,Y.Z)(function*(n){const t=Br(n),i=yield(yield My()).transaction(os).objectStore(os).get(t);if(i)return i;{const r=yield RM(n.appConfig.senderId);if(r)return yield Sy(n,r),r}})).apply(this,arguments)}function Sy(n,t){return xy.apply(this,arguments)}function xy(){return(xy=(0,Y.Z)(function*(n,t){const e=Br(n),r=(yield My()).transaction(os,"readwrite");return yield r.objectStore(os).put(t,e),yield r.done,t})).apply(this,arguments)}function FM(n){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,Y.Z)(function*(n){const t=Br(n),i=(yield My()).transaction(os,"readwrite");yield i.objectStore(os).delete(t),yield i.done})).apply(this,arguments)}function Br({appConfig:n}){return n.appId}const Ei=new pt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pC(n,t){return nm.apply(this,arguments)}function nm(){return(nm=(0,Y.Z)(function*(n,t){const e=yield im(n),i=Fy(t),r={method:"POST",headers:e,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(Py(n.appConfig),r)).json()}catch(u){throw Ei.create("token-subscribe-failed",{errorInfo:null==u?void 0:u.toString()})}if(s.error)throw Ei.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ei.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function mC(n,t){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,Y.Z)(function*(n,t){const e=yield im(n),i=Fy(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${Py(n.appConfig)}/${t.token}`,r)).json()}catch(u){throw Ei.create("token-update-failed",{errorInfo:null==u?void 0:u.toString()})}if(s.error)throw Ei.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ei.create("token-update-no-token");return s.token})).apply(this,arguments)}function gC(n,t){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,Y.Z)(function*(n,t){const i={method:"DELETE",headers:yield im(n)};try{const s=yield(yield fetch(`${Py(n.appConfig)}/${t}`,i)).json();if(s.error)throw Ei.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Ei.create("token-unsubscribe-failed",{errorInfo:null==r?void 0:r.toString()})}})).apply(this,arguments)}function Py({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function im(n){return _C.apply(this,arguments)}function _C(){return(_C=(0,Y.Z)(function*({appConfig:n,installations:t}){const e=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})})).apply(this,arguments)}function Fy({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const r={web:{endpoint:e,auth:t,p256dh:n}};return i!==Yd&&(r.web.applicationPubKey=i),r}const NM=6048e5;function LM(n){return yC.apply(this,arguments)}function yC(){return(yC=(0,Y.Z)(function*(n){const t=yield Os(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:qo(t.getKey("auth")),p256dh:qo(t.getKey("p256dh"))},i=yield fC(n.firebaseDependencies);if(i){if(M1(i.subscriptionOptions,e))return Date.now()>=i.createTime+NM?VM(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{yield gC(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Ny(n.firebaseDependencies,e)}return Ny(n.firebaseDependencies,e)})).apply(this,arguments)}function BM(n){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,Y.Z)(function*(n){const t=yield fC(n.firebaseDependencies);t&&(yield gC(n.firebaseDependencies,t.token),yield FM(n.firebaseDependencies));const e=yield n.swRegistration.pushManager.getSubscription();return!e||e.unsubscribe()})).apply(this,arguments)}function VM(n,t){return rm.apply(this,arguments)}function rm(){return(rm=(0,Y.Z)(function*(n,t){try{const e=yield mC(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield Sy(n.firebaseDependencies,i),e}catch(e){throw yield BM(n),e}})).apply(this,arguments)}function Ny(n,t){return vC.apply(this,arguments)}function vC(){return(vC=(0,Y.Z)(function*(n,t){const i={token:yield pC(n,t),createTime:Date.now(),subscriptionOptions:t};return yield Sy(n,i),i.token})).apply(this,arguments)}function Os(n,t){return bC.apply(this,arguments)}function bC(){return(bC=(0,Y.Z)(function*(n,t){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Iy(t)})})).apply(this,arguments)}function M1(n,t){return t.vapidKey===n.vapidKey&&t.endpoint===n.endpoint&&t.auth===n.auth&&t.p256dh===n.p256dh}function Ly(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function wC(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const r=t.notification.image;r&&(n.notification.image=r);const s=t.notification.icon;s&&(n.notification.icon=s)}(t,n),function CC(n,t){!t.data||(n.data=t.data)}(t,n),function UM(n,t){var e,i,r,s,u;if(!t.fcmOptions&&!(null===(e=t.notification)||void 0===e?void 0:e.click_action))return;n.fcmOptions={};const h=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;h&&(n.fcmOptions.link=h);const m=null===(u=t.fcmOptions)||void 0===u?void 0:u.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(t,n),t}function S1(n){return"object"==typeof n&&!!n&&lC in n}function By(n,t){const e=[];for(let i=0;i<n.length;i++)e.push(n.charAt(i)),i<t.length&&e.push(t.charAt(i));return e.join("")}function Uy(n){return Ei.create("missing-app-config-values",{valueName:n})}By("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),By("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hy{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Vy(n){if(!n||!n.options)throw Uy("App Configuration Object");if(!n.name)throw Uy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw Uy(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}function DC(n){return jy.apply(this,arguments)}function jy(){return(jy=(0,Y.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(aC,{scope:Go}),n.swRegistration.update().catch(()=>{})}catch(t){throw Ei.create("failed-service-worker-registration",{browserErrorMessage:null==t?void 0:t.message})}})).apply(this,arguments)}function HM(n,t){return zy.apply(this,arguments)}function zy(){return(zy=(0,Y.Z)(function*(n,t){if(!t&&!n.swRegistration&&(yield DC(n)),t||!n.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Ei.create("invalid-sw-registration");n.swRegistration=t}})).apply(this,arguments)}function jM(n,t){return $y.apply(this,arguments)}function $y(){return($y=(0,Y.Z)(function*(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=Yd)})).apply(this,arguments)}function ka(){return(ka=(0,Y.Z)(function*(n,t){if(!navigator)throw Ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ei.create("permission-blocked");return yield jM(n,null==t?void 0:t.vapidKey),yield HM(n,null==t?void 0:t.serviceWorkerRegistration),LM(n)})).apply(this,arguments)}function zM(n,t,e){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,Y.Z)(function*(n,t,e){const i=$M(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[lC],message_name:e[T1],message_time:e[Ey],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $M(n){switch(n){case ao.NOTIFICATION_CLICKED:return"notification_open";case ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xd(){return(Xd=(0,Y.Z)(function*(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===ao.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Ly(e)):n.onMessageHandler.next(Ly(e)));const i=e.data;S1(i)&&"1"===i[cC]&&(yield zM(n,e.messageType,i))})).apply(this,arguments)}const Ps="@firebase/messaging",Ki=n=>{const t=new Hy(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function GM(n,t){return Xd.apply(this,arguments)}(t,e)),t},Nl=n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>function Qd(n,t){return ka.apply(this,arguments)}(t,i)}};function Vr(){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,Y.Z)(function*(){try{yield(0,pt.eu)()}catch(n){return!1}return"undefined"!=typeof window&&(0,pt.hl)()&&(0,pt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sm(){(0,Kt._registerComponent)(new rs.wA("messaging",Ki,"PUBLIC")),(0,Kt._registerComponent)(new rs.wA("messaging-internal",Nl,"PRIVATE")),(0,Kt.registerVersion)(Ps,"0.12.3"),(0,Kt.registerVersion)(Ps,"0.12.3","esm2017")}();const Wo="analytics",EC="firebase_id",MC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gy="https://www.googletagmanager.com/gtag/js",Ii=new Rs.Yd("@firebase/analytics");function qy(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function SC(n,t){const e=document.createElement("script");e.src=`${Gy}?l=${n}&id=${t}`,e.async=!0,document.head.appendChild(e)}function qM(n,t,e,i,r,s){return om.apply(this,arguments)}function om(){return(om=(0,Y.Z)(function*(n,t,e,i,r,s){const u=i[r];try{if(u)yield t[u];else{const m=(yield qy(e)).find(v=>v.measurementId===r);m&&(yield t[m.appId])}}catch(h){Ii.error(h)}n("config",r,s)})).apply(this,arguments)}function WM(n,t,e,i,r){return am.apply(this,arguments)}function am(){return(am=(0,Y.Z)(function*(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const h=yield qy(e);for(const m of u){const v=h.find(T=>T.measurementId===m),D=v&&t[v.appId];if(!D){s=[];break}s.push(D)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),n("event",i,r||{})}catch(s){Ii.error(s)}})).apply(this,arguments)}function ZM(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Gy)&&e.src.includes(n))return e;return null}const Ur=new pt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),XM=new class QM{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function JM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Wy(n){return rh.apply(this,arguments)}function rh(){return(rh=(0,Y.Z)(function*(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:JM(i)},s=MC.replace("{app-id}",e),u=yield fetch(s,r);if(200!==u.status&&304!==u.status){let h="";try{const m=yield u.json();(null===(t=m.error)||void 0===t?void 0:t.message)&&(h=m.error.message)}catch(m){}throw Ur.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()})).apply(this,arguments)}function eS(n){return OC.apply(this,arguments)}function OC(){return(OC=(0,Y.Z)(function*(n,t=XM,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Ur.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Ur.create("no-api-key")}const u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new x1;return setTimeout((0,Y.Z)(function*(){h.abort()}),void 0!==e?e:6e4),tS({appId:i,apiKey:r,measurementId:s},u,h,t)})).apply(this,arguments)}function tS(n,t,e){return PC.apply(this,arguments)}function PC(){return(PC=(0,Y.Z)(function*(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=XM){var s;const{appId:u,measurementId:h}=n;try{yield nS(i,t)}catch(m){if(h)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${null==m?void 0:m.message}]`),{appId:u,measurementId:h};throw m}try{const m=yield Wy(n);return r.deleteThrottleMetadata(u),m}catch(m){const v=m;if(!FC(v)){if(r.deleteThrottleMetadata(u),h)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${null==v?void 0:v.message}]`),{appId:u,measurementId:h};throw m}const D=503===Number(null===(s=null==v?void 0:v.customData)||void 0===s?void 0:s.httpStatus)?(0,pt.$s)(e,r.intervalMillis,30):(0,pt.$s)(e,r.intervalMillis),T={throttleEndTimeMillis:Date.now()+D,backoffCount:e+1};return r.setThrottleMetadata(u,T),Ii.debug(`Calling attemptFetch again in ${D} millis`),tS(n,T,i,r)}})).apply(this,arguments)}function nS(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Ur.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function FC(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}class x1{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let Yy,Xy;function Zy(){return(Zy=(0,Y.Z)(function*(n,t,e,i,r){if(r&&r.global)n("event",e,i);else{const s=yield t;n("event",e,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function BC(n){Xy=n}function VC(n){Yy=n}function UC(){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,Y.Z)(function*(){if(!(0,pt.hl)())return Ii.warn(Ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pt.eu)()}catch(n){return Ii.warn(Ur.create("indexeddb-unavailable",{errorInfo:null==n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function cm(){return(cm=(0,Y.Z)(function*(n,t,e,i,r,s,u){var h;const m=eS(n);m.then(P=>{e[P.measurementId]=P.appId,n.options.measurementId&&P.measurementId!==n.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>Ii.error(P)),t.push(m);const v=UC().then(P=>{if(P)return i.getId()}),[D,T]=yield Promise.all([m,v]);ZM(s)||SC(s,D.measurementId),Xy&&(r("consent","default",Xy),BC(void 0)),r("js",new Date);const k=null!==(h=null==u?void 0:u.config)&&void 0!==h?h:{};return k.origin="firebase",k.update=!0,null!=T&&(k[EC]=T),r("config",D.measurementId,k),Yy&&(r("set",Yy),VC(void 0)),D.measurementId})).apply(this,arguments)}class ev{constructor(t){this.app=t}_delete(){return delete Pa[this.app.options.appId],Promise.resolve()}}let Pa={},um=[];const jC={};let nv,Fs,tv="dataLayer",sh=!1;function hm(n,t,e){!function dm(){const n=[];if((0,pt.ru)()&&n.push("This is a browser extension environment."),(0,pt.zI)()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=Ur.create("invalid-analytics-context",{errorInfo:t});Ii.warn(e.message)}}();const i=n.options.appId;if(!i)throw Ur.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Ur.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pa[i])throw Ur.create("already-exists",{id:i});if(!sh){!function xC(n){let t=[];Array.isArray(window[n])?t=window[n]:window[n]=t}(tv);const{wrappedGtag:s,gtagCore:u}=function YM(n,t,e,i,r){let s=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function AC(n,t,e,i){function s(){return(s=(0,Y.Z)(function*(u,h,m){try{"event"===u?yield WM(n,t,e,h,m):"config"===u?yield qM(n,t,e,i,h,m):"consent"===u?n("consent","update",m):n("set",h)}catch(v){Ii.error(v)}})).apply(this,arguments)}return function r(u,h,m){return s.apply(this,arguments)}}(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}(Pa,um,jC,tv,"gtag");Fs=s,nv=u,sh=!0}return Pa[i]=function HC(n,t,e,i,r,s,u){return cm.apply(this,arguments)}(n,um,jC,t,nv,tv,e),new ev(n)}function sS(){return tu.apply(this,arguments)}function tu(){return(tu=(0,Y.Z)(function*(){if((0,pt.ru)()||!(0,pt.zI)()||!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch(n){return!1}})).apply(this,arguments)}const fm="@firebase/analytics";!function ZC(){(0,Kt._registerComponent)(new rs.wA(Wo,(t,{options:e})=>hm(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,Kt._registerComponent)(new rs.wA("analytics-internal",function n(t){try{const e=t.getProvider(Wo).getImmediate();return{logEvent:(i,r,s)=>function qC(n,t,e,i){n=(0,pt.m9)(n),function Xc(n,t,e,i,r){return Zy.apply(this,arguments)}(Fs,Pa[n.app.options.appId],t,e,i).catch(r=>Ii.error(r))}(e,i,r,s)}}catch(e){throw Ur.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,Kt.registerVersion)(fm,"0.9.3"),(0,Kt.registerVersion)(fm,"0.9.3","esm2017")}();class KC extends Xn.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const nu={setInterval(n,t,...e){const{delegate:i}=nu;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=nu;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};var QC=F(8737);class pm extends KC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return nu.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&nu.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,QC.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const mm={now:()=>(mm.delegate||Date).now(),delegate:void 0};class iu{constructor(t,e=iu.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}iu.now=mm.now;class ru extends iu{constructor(t,e=iu.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const eD=new class JC extends ru{}(class XC extends pm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),su=new ru(pm),tD=su;var ou=F(9468),Ll=F(5363);const gm=new l.GfV("7.5.0"),nD="__angularfire_symbol__analyticsIsSupportedValue",rv="__angularfire_symbol__analyticsIsSupported",sv="__angularfire_symbol__remoteConfigIsSupportedValue",_m="__angularfire_symbol__remoteConfigIsSupported",ov="__angularfire_symbol__messagingIsSupportedValue",ti="__angularfire_symbol__messagingIsSupported";globalThis[rv]||(globalThis[rv]=sS().then(n=>globalThis[nD]=n).catch(()=>globalThis[nD]=!1)),globalThis[ti]||(globalThis[ti]=Vr().then(n=>globalThis[ov]=n).catch(()=>globalThis[ov]=!1)),globalThis[_m]||(globalThis[_m]=oC().then(n=>globalThis[sv]=n).catch(()=>globalThis[sv]=!1));const vm=(n,t)=>{const e=t?[t]:(0,Kt.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i};function Bl(){}class Vl{constructor(t,e=eD){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{t.apply(this,[u])})},e,i)}}class uS{constructor(t){this.zone=t,this.task=null}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)),e.pipe(oi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bm=(()=>{class n{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=e.run(()=>new Vl(Zone.current,su)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function dS(n){return Fa().ngZone.runOutsideAngular(()=>n())}function Na(n){return Fa().ngZone.run(()=>n())}function cr(n){return Fa(),function lo(n){return function(e){return(e=e.lift(new uS(n.ngZone))).pipe((0,ou.R)(n.outsideAngular),(0,Ll.Q)(n.insideAngular))}}(Fa())(n)}const hS=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Na(()=>n.apply(void 0,i))},rD=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||(e=Na(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)))),i[s]=hS(i[s],e));const r=dS(()=>n.apply(this,i));if(!t){if(r instanceof zn.y){const s=Fa();return r.pipe((0,ou.R)(s.outsideAngular),(0,Ll.Q)(s.insideAngular))}return Na(()=>r)}return r instanceof zn.y?r.pipe(cr):r instanceof Promise?Na(()=>new Promise((s,u)=>r.then(h=>Na(()=>s(h)),h=>Na(()=>u(h))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Na(()=>r)};class ur{constructor(t){return t}}class as{constructor(){return(0,Kt.getApps)()}}const wm=new l.OlP("angularfire2._apps"),fS={provide:ur,useFactory:function sD(n){return n&&1===n.length?n[0]:new ur((0,Kt.getApp)())},deps:[[new l.FiY,wm]]},pS={provide:as,deps:[[new l.FiY,wm]]};function mS(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new ur(i)}}let gS=(()=>{class n{constructor(e){(0,Kt.registerVersion)("angularfire",gm.full,"core"),(0,Kt.registerVersion)("angularfire",gm.full,"app"),(0,Kt.registerVersion)("angular",l.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fS,pS]}),n})();function lv(n,...t){return{ngModule:gS,providers:[{provide:wm,useFactory:mS(n),multi:!0,deps:[l.R0b,l.zs3,bm,...t]}]}}const yS=rD(Kt.initializeApp,!0),uv={firebase:{projectId:"studenttable-738ea",appId:"1:794799422365:web:669debfd0bd0f82ada8d74",storageBucket:"studenttable-738ea.appspot.com",apiKey:"AIzaSyBjfgnBCu1V8CuZemdgBFBdp34TOiLErRA",authDomain:"studenttable-738ea.firebaseapp.com",messagingSenderId:"794799422365"},production:!0};F(2722);class ah{constructor(){return vm("auth")}}const Em=new Map,mv={activated:!1,tokenObservers:[]},US={initialized:!1,enabled:!1};function Li(n){return Em.get(n)||Object.assign({},mv)}function La(){return US}class fD{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Y.Z)(function*(){e.stop();try{e.pending=new pt.BH,yield function $S(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new pt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const pi=new pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pD(n){if(!Li(n).activated)throw pi.create("use-before-activation",{appName:n.name})}function Mm(n,t){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,Y.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,s)}catch(T){throw pi.create("fetch-network-error",{originalErrorMessage:null==T?void 0:T.message})}if(200!==u.status)throw pi.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(T){throw pi.create("fetch-parse-error",{originalErrorMessage:null==T?void 0:T.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+v,issuedAtTimeMillis:D}})).apply(this,arguments)}function qS(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const xm="firebase-app-check-store";let vv=null;function bv(){return vv||(vv=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(pi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xm,{keyPath:"compositeKey"})}}catch(e){t(pi.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),vv)}function wv(){return(wv=(0,Y.Z)(function*(n,t){const i=(yield bv()).transaction(xm,"readwrite"),s=i.objectStore(xm).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=m=>{u()},i.onerror=m=>{var v;h(pi.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const dh=new Rs.Yd("@firebase/app-check");function Ev(n,t){return(0,pt.hl)()?function ZS(n,t){return function lu(n,t){return wv.apply(this,arguments)}(function yD(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{dh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Tv(){return La().enabled}function bD(){return km.apply(this,arguments)}function km(){return(km=(0,Y.Z)(function*(){const n=La();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wD={error:"UNKNOWN_ERROR"};function XS(n){return pt.US.encodeString(JSON.stringify(n),!1)}function uu(n){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,Y.Z)(function*(n,t=!1){const e=n.app;pD(e);const i=Li(e);let s,r=i.token;if(r&&!Ba(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Ba(m)?r=m:yield Ev(e,void 0))}if(!t&&r&&Ba(r))return{token:r.token};let h,u=!1;if(Tv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Mm(qS(e,yield bD()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const m=yield i.exchangeTokenPromise;return yield Ev(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Li(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?dh.warn(m.message):dh.error(m),s=m}return r?s?h=Ba(r)?{token:r.token,internalError:s}:ED(s):(h={token:r.token},i.token=r,yield Ev(e,r)):h=ED(s),u&&DD(e,h),h})).apply(this,arguments)}function Om(n,t){const e=Li(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function CD(n){const{app:t}=n,e=Li(t);let i=e.tokenRefresher;i||(i=function JS(n){const{app:t}=n;return new fD((0,Y.Z)(function*(){let i;if(i=Li(t).token?yield uu(n,!0):yield uu(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Li(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function DD(n,t){const e=Li(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Ba(n){return n.expireTimeMillis-Date.now()>0}function ED(n){return{token:XS(wD),error:n}}class ID{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Li(this.app);for(const e of t)Om(this.app,e.next);return Promise.resolve()}}const kD="app-check-internal";!function RD(){(0,Kt._registerComponent)(new rs.wA("app-check",n=>function ex(n,t){return new ID(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(kD).initialize()})),(0,Kt._registerComponent)(new rs.wA(kD,n=>function tx(n){return{getToken:t=>uu(n,t),addTokenListener:t=>function Rm(n,t,e,i){const{app:r}=n,s=Li(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Ba(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),CD(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>CD(n))}(n,"INTERNAL",t),removeTokenListener:t=>Om(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kt.registerVersion)("@firebase/app-check","0.6.3")}();class Ul{constructor(){return vm("app-check")}}"undefined"!=typeof window&&window;var lt,_x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uo={},Ov=Ov||{},Rt=_x||self;function du(){}function Um(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Hm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Pv="closure_uid_"+(1e9*Math.random()>>>0),hu=0;function FD(n,t,e){return n.call.apply(n.bind,arguments)}function fu(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function dr(n,t,e){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FD:fu).apply(null,arguments)}function fh(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Bi(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Hl(){this.s=this.s,this.o=this.o}Hl.prototype.s=!1,Hl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function yx(n){Object.prototype.hasOwnProperty.call(n,Pv)&&n[Pv]||(n[Pv]=++hu)}(this)},Hl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vx=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function jm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function zm(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Um(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Qi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Qi.prototype.h=function(){this.defaultPrevented=!0};var LD=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",du,t),Rt.removeEventListener("test",du,t)}catch(e){}return n}();function $m(n){return/^[\s\xa0]*$/.test(n)}var BD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fv(n,t){return n<t?-1:n>t?1:0}function Gm(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function ho(n){return-1!=Gm().indexOf(n)}function Nv(n){return Nv[" "](n),n}Nv[" "]=du;var ph,n,wx=ho("Opera"),fo=ho("Trident")||ho("MSIE"),Lv=ho("Edge"),qm=Lv||fo,Bv=ho("Gecko")&&!(-1!=Gm().toLowerCase().indexOf("webkit")&&!ho("Edge"))&&!(ho("Trident")||ho("MSIE"))&&!ho("Edge"),VD=-1!=Gm().toLowerCase().indexOf("webkit")&&!ho("Edge");function Vv(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Uv="",Wm=(n=Gm(),Bv?/rv:([^\);]+)(\)|;)/.exec(n):Lv?/Edge\/([\d\.]+)/.exec(n):fo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VD?/WebKit\/(\S+)/.exec(n):wx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Wm&&(Uv=Wm?Wm[1]:""),fo){var Hv=Vv();if(null!=Hv&&Hv>parseFloat(Uv)){ph=String(Hv);break e}}ph=Uv}var Cx={};var Ex=Rt.document&&fo&&(Vv()||parseInt(ph,10))||void 0;function jl(n,t){if(Qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Bv){e:{try{Nv(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:po[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jl.X.h.call(this)}}Bi(jl,Qi);var po={2:"touch",3:"pen",4:"mouse"};jl.prototype.h=function(){jl.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),Ym=0;function gh(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++Ym,this.ba=this.ea=!1}function Zm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function zv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function UD(n){const t={};for(const e in n)t[e]=n[e];return t}const _h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yh(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<_h.length;s++)e=_h[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Km(n){this.src=n,this.g={},this.h=0}function $v(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=vx(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Zm(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Qm(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}Km.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Qm(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new gh(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var Xm="closure_lm_"+(1e6*Math.random()|0),vh={};function Gv(n,t,e,i,r){if(i&&i.once)return Tx(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Gv(n,t[s],e,i,r);return null}return e=Zv(e),n&&n[mh]?n.N(t,e,Hm(i)?!!i.capture:!!i,r):HD(n,t,e,!1,i,r)}function HD(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=Hm(r)?!!r.capture:!!r,h=wh(n);if(h||(n[Xm]=h=new Km(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function Ix(){const t=Wv;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)LD||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(qv(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Tx(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Tx(n,t[s],e,i,r);return null}return e=Zv(e),n&&n[mh]?n.O(t,e,Hm(i)?!!i.capture:!!i,r):HD(n,t,e,!0,i,r)}function Jm(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Jm(n,t[s],e,i,r);else i=Hm(i)?!!i.capture:!!i,e=Zv(e),n&&n[mh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Qm(s=n.g[t],e,i,r))&&(Zm(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=wh(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Qm(t,e,i,r)),(e=-1<n?t[n]:null)&&bh(e))}function bh(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[mh])$v(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(qv(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=wh(t))?($v(e,n),0==e.h&&(e.src=null,t[Xm]=null)):Zm(n)}}}function qv(n){return n in vh?vh[n]:vh[n]="on"+n}function Wv(n,t){if(n.ba)n=!0;else{t=new jl(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&bh(n),n=e.call(i,t)}return n}function wh(n){return(n=n[Xm])instanceof Km?n:null}var Yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zv(n){return"function"==typeof n?n:(n[Yv]||(n[Yv]=function(t){return n.handleEvent(t)}),n[Yv])}function Ti(){Hl.call(this),this.i=new Km(this),this.P=this,this.I=null}function Vi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Qi(t,n);else if(t instanceof Qi)t.target=t.target||n;else{var r=t;yh(t=new Qi(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=Ch(u,i,!0,t)&&r}if(r=Ch(u=t.g=n,i,!0,t)&&r,r=Ch(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Ch(u=t.g=e[s],i,!1,t)&&r}function Ch(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ba&&u.capture==e){var h=u.listener,m=u.ha||u.src;u.ea&&$v(n.i,u),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Bi(Ti,Hl),Ti.prototype[mh]=!0,Ti.prototype.removeEventListener=function(n,t,e,i){Jm(this,n,t,e,i)},Ti.prototype.M=function(){if(Ti.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Zm(e[i]);delete n.g[t],n.h--}}this.I=null},Ti.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ti.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Dh=Rt.JSON.stringify;function jD(){var n=Xv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var eg,Kv=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $D,n=>n.reset());class $D{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Mx(n){Rt.setTimeout(()=>{throw n},0)}function Qv(n,t){eg||function Sx(){var n=Rt.Promise.resolve(void 0);eg=function(){n.then(hr)}}(),tg||(eg(),tg=!0),Xv.add(n,t)}var tg=!1,Xv=new class zD{constructor(){this.h=this.g=null}add(t,e){const i=Kv.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function hr(){for(var n;n=jD();){try{n.h.call(n.g)}catch(e){Mx(e)}var t=Kv;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}tg=!1}function Yo(n,t){Ti.call(this),this.h=n||1,this.g=t||Rt,this.j=dr(this.lb,this),this.l=Date.now()}function Jv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function eb(n,t,e){if("function"==typeof n)e&&(n=dr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Rt.setTimeout(n,t||0)}function xx(n){n.g=eb(()=>{n.g=null,n.i&&(n.i=!1,xx(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Bi(Yo,Ti),(lt=Yo.prototype).ca=!1,lt.R=null,lt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vi(this,"tick"),this.ca&&(Jv(this),this.start()))}},lt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){Yo.X.M.call(this),Jv(this),delete this.g};class Eh extends Hl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xx(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ih(n){Hl.call(this),this.h=n,this.g={}}Bi(Ih,Hl);var ng=[];function GD(n,t,e,i){Array.isArray(e)||(e&&(ng[0]=e.toString()),e=ng);for(var r=0;r<e.length;r++){var s=Gv(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function tb(n){zv(n.g,function(t,e){this.g.hasOwnProperty(e)&&bh(t)},n),n.g={}}function ig(){this.g=!0}function zl(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function rg(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return Dh(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Ih.prototype.M=function(){Ih.X.M.call(this),tb(this)},Ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ig.prototype.Aa=function(){this.g=!1},ig.prototype.info=function(){};var Zo={},kx=null;function Th(){return kx=kx||new Ti}function WD(n){Qi.call(this,Zo.Pa,n)}function mu(n){const t=Th();Vi(t,new WD(t))}function Mh(n,t){Qi.call(this,Zo.STAT_EVENT,n),this.stat=t}function Xi(n){const t=Th();Vi(t,new Mh(t,n))}function YD(n,t){Qi.call(this,Zo.Qa,n),this.size=t}function $l(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},t)}Zo.Pa="serverreachability",Bi(WD,Qi),Zo.STAT_EVENT="statevent",Bi(Mh,Qi),Zo.Qa="timingevent",Bi(YD,Qi);var gu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ib(){}function rb(){}ib.prototype.h=null;var og,_u={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function sb(){Qi.call(this,"d")}function sg(){Qi.call(this,"c")}function ag(){}function Sh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Ih(this),this.O=Ox,this.T=new Yo(n=qm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}Bi(sb,Qi),Bi(sg,Qi),Bi(ag,ib),ag.prototype.g=function(){return new XMLHttpRequest},ag.prototype.i=function(){return{}},og=new ag;var Ox=45e3,lg={},xh={};function cg(n,t,e){n.K=1,n.v=Oh(Ns(t)),n.s=e,n.P=!0,ab(n,null)}function ab(n,t){n.F=Date.now(),yu(n),n.A=Ns(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),tE(e.i,"t",i),n.C=0,e=n.l.H,n.h=new ob,n.g=Ha(n.l,e?t:null,!n.s),0<n.N&&(n.L=new Eh(dr(n.La,n,n.g),n.N)),GD(n.S,n.g,"readystatechange",n.ib),t=n.H?UD(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),mu(),function Ax(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var D=v[0];v=v[1];var T=D.split("_");u=2<=T.length&&"type"==T[1]?u+(D+"=")+v+"&":u+(D+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function KD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function QD(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=pP(n,e),r==xh){4==t&&(n.o=4,Xi(14),i=!1),zl(n.j,n.m,null,"[Incomplete Response]");break}if(r==lg){n.o=4,Xi(15),zl(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}zl(n.j,n.m,r,null),XD(n,r)}KD(n)&&r!=xh&&r!=lg&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Xi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),mE(t),t.K=!0,Xi(11))):(zl(n.j,n.m,e,"[Invalid Chunked Response]"),vu(n),ug(n))}function pP(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?xh:(e=Number(t.substring(e,i)),isNaN(e)?lg:(i+=1)+e>t.length?xh:(t=t.substr(i,e),n.C=i+e,t))}function yu(n){n.V=Date.now()+n.O,Px(n,n.O)}function Px(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$l(dr(n.gb,n),t)}function lb(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function ug(n){0==n.l.G||n.I||gE(n.l,n)}function vu(n){lb(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Jv(n.T),tb(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function XD(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||hb(e.h,n)))if(!n.J&&hb(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=$l(dr(e.cb,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Db(e),vg(e)}pE(e),Xi(18)}if(1>=hg(e.h)&&e.ja){try{e.ja()}catch(v){}e.ja=void 0}}else ql(e,11)}else if((n.J||e.g==n)&&Db(e),!$m(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.T=v[0],v=v[1],2==e.G)if("c"==v[0]){e.I=v[1],e.ka=v[2];const D=v[3];null!=D&&(e.ma=D,e.j.info("VER="+e.ma));const T=v[4];null!=T&&(e.Ca=T,e.j.info("SVER="+e.Ca));const k=v[5];null!=k&&"number"==typeof k&&0<k&&(e.J=i=1.5*k,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const U=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.h;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fb(s,s.h),s.h=null))}if(i.D){const Q=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.za=Q,Dn(i.F,i.D,Q))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=Eb(i,i.H?i.ka:null,i.V),u.J){fg(i.h,u);var h=u,m=i.J;m&&h.setTimeout(m),h.B&&(lb(h),yu(h)),i.g=u}else zx(i);0<e.i.length&&Cb(e)}else"stop"!=v[0]&&"close"!=v[0]||ql(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?ql(e,7):wb(e):"noop"!=v[0]&&e.l&&e.l.wa(v),e.A=0)}mu()}catch(v){}}function Fx(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Um(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function gP(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Um(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function mP(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Um(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(lt=Sh.prototype).setTimeout=function(n){this.O=n},lt.ib=function(n){n=n.target;const t=this.L;t&&3==Bs(n)?t.l():this.La(n)},lt.La=function(n){try{if(n==this.g)e:{const D=Bs(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||qm||this.g&&(this.h.h||this.g.fa()||yg(this.g)))){this.I||4!=D||7==t||mu(),lb(this);var e=this.g.aa();this.Y=e;t:if(KD(this)){var i=yg(this.g);n="";var r=i.length,s=4==Bs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vu(this),ug(this);var u="";break t}this.h.i=new Rt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function nb(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$m(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Xi(12),vu(this),ug(this);break e}zl(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,XD(this,e)}this.P?(QD(this,D,u),qm&&this.i&&3==D&&(GD(this.S,this.T,"tick",this.hb),this.T.start())):(zl(this.j,this.m,u,null),XD(this,u)),4==D&&vu(this),this.i&&!this.I&&(4==D?gE(this.l,this):(this.i=!1,yu(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),vu(this),ug(this)}}}catch(D){}},lt.hb=function(){if(this.g){var n=Bs(this.g),t=this.g.fa();this.C<t.length&&(lb(this),QD(this,n,t),this.i&&4!=n&&yu(this))}},lt.cancel=function(){this.I=!0,vu(this)},lt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function qD(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(mu(),Xi(17)),vu(this),this.o=2,ug(this)):Px(this,this.V-n)};var Ah=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ua){this.h=void 0!==t?t:n.h,kh(this,n.j),this.s=n.s,this.g=n.g,Rh(this,n.m),this.l=n.l,t=n.i;var e=new dg;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Nx(this,e),this.o=n.o}else n&&(e=String(n).match(Ah))?(this.h=!!t,kh(this,e[1]||"",!0),this.s=bu(e[2]||""),this.g=bu(e[3]||"",!0),Rh(this,e[4]),this.l=bu(e[5]||"",!0),Nx(this,e[6]||"",!0),this.o=bu(e[7]||"")):(this.h=!!t,this.i=new dg(null,this.h))}function Ns(n){return new Ua(n)}function kh(n,t,e){n.j=e?bu(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Rh(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Nx(n,t,e){t instanceof dg?(n.i=t,function Vx(n,t){t&&!n.j&&(Gl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(JD(this,i),tE(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=wu(t,Bx)),n.i=new dg(t,n.h))}function Dn(n,t,e){n.i.set(t,e)}function Oh(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bu(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wu(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,yP),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ua.prototype.toString=function(){var n=[],t=this.j;t&&n.push(wu(t,cb,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(wu(t,cb,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(wu(e,"/"==e.charAt(0)?ub:Lx,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",wu(e,vP)),n.join("")};var cb=/[#\/\?@]/g,Lx=/[#\?:]/g,ub=/[#\?]/g,Bx=/[#\?@]/g,vP=/#/g;function dg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Gl(n){n.g||(n.g=new Map,n.h=0,n.i&&function _P(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function JD(n,t){Gl(n),t=Ph(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function eE(n,t){return Gl(n),t=Ph(n,t),n.g.has(t)}function tE(n,t,e){JD(n,t),0<e.length&&(n.i=null,n.g.set(Ph(n,t),jm(e)),n.h+=e.length)}function Ph(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function nE(n){this.l=n||Ls,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=dg.prototype).add=function(n,t){Gl(this),this.i=null,n=Ph(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){Gl(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},lt.oa=function(){Gl(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},lt.W=function(n){Gl(this);let t=[];if("string"==typeof n)eE(this,n)&&(t=t.concat(this.g.get(Ph(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},lt.set=function(n,t){return Gl(this),this.i=null,eE(this,n=Ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var Ls=10;function iE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hg(n){return n.h?1:n.g?n.g.size:0}function hb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function fb(n,t){n.g?n.g.add(t):n.h=t}function fg(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function pb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return jm(n.i)}function pg(){}function Ux(){this.g=new pg}function rE(n,t,e){const i=e||"";try{Fx(n,function(r,s){let u=r;Hm(r)&&(u=Dh(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function mg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Fh(n){this.l=n.ac||null,this.j=n.jb||!1}function Cu(n,t){Ti.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Hr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nE.prototype.cancel=function(){if(this.i=pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pg.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},pg.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},Bi(Fh,ib),Fh.prototype.g=function(){return new Cu(this.l,this.j)},Fh.prototype.i=function(n){return function(){return n}}({}),Bi(Cu,Ti);var Hr=0;function oE(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function gg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nh(n)}function Nh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=Cu.prototype).open=function(n,t){if(this.readyState!=Hr)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Nh(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Rt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gg(this)),this.readyState=Hr},lt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nh(this)),this.g&&(this.readyState=3,Nh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oE(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},lt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?gg(this):Nh(this),3==this.readyState&&oE(this)}},lt.Va=function(n){this.g&&(this.response=this.responseText=n,gg(this))},lt.Ua=function(n){this.g&&(this.response=n,gg(this))},lt.ga=function(){this.g&&gg(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aE=Rt.JSON.parse;function qn(n){Ti.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lE,this.K=this.L=!1}Bi(qn,Ti);var lE="",cE=/^https?$/i,Hx=["POST","PUT"];function mb(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,gb(n),_g(n)}function gb(n){n.D||(n.D=!0,Vi(n,"complete"),Vi(n,"error"))}function uE(n){if(n.h&&void 0!==Ov&&(!n.C[1]||4!=Bs(n)||2!=n.aa()))if(n.v&&4==Bs(n))eb(n.Ha,0,n);else if(Vi(n,"readystatechange"),4==Bs(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(Ah)[1]||null;if(!r&&Rt.self&&Rt.self.location){var s=Rt.self.location.protocol;r=s.substr(0,s.length-1)}i=!cE.test(r?r.toLowerCase():"")}e=i}if(e)Vi(n,"complete"),Vi(n,"success");else{n.m=6;try{var u=2<Bs(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.aa()+"]",gb(n)}}finally{_g(n)}}}function _g(n,t){if(n.g){_b(n);const e=n.g,i=n.C[0]?du:null;n.g=null,n.C=null,t||Vi(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function _b(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Bs(n){return n.g?n.g.readyState:0}function yg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yb(n){let t="";return zv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function vb(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=yb(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Dn(n,t,e))}function Du(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function bb(n){this.Ca=0,this.i=[],this.j=new ig,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Du("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Du("baseRetryDelayMs",5e3,n),this.bb=Du("retryDelaySeedMs",1e4,n),this.$a=Du("forwardChannelMaxRetries",2,n),this.ta=Du("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new nE(n&&n.concurrentRequestLimit),this.Fa=new Ux,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wb(n){if(jx(n),3==n.G){var t=n.U++,e=Ns(n.F);Dn(e,"SID",n.I),Dn(e,"RID",t),Dn(e,"TYPE","terminate"),Lh(n,e),(t=new Sh(n,n.j,t,void 0)).K=2,t.v=Oh(Ns(e)),e=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(e=Rt.navigator.sendBeacon(t.v.toString(),"")),!e&&Rt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Ha(t.l,null),t.g.da(t.v)),t.F=Date.now(),yu(t)}_E(n)}function vg(n){n.g&&(mE(n),n.g.cancel(),n.g=null)}function jx(n){vg(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Db(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Cb(n){iE(n.h)||n.m||(n.m=!0,Qv(n.Ja,n),n.C=0)}function hE(n,t){var e;e=t?t.m:n.U++;const i=Ns(n.F);Dn(i,"SID",n.I),Dn(i,"RID",e),Dn(i,"AID",n.T),Lh(n,i),n.o&&n.s&&vb(i,n.o,n.s),e=new Sh(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=fE(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),fb(n.h,e),cg(e,i,t)}function Lh(n,t){n.ia&&zv(n.ia,function(e,i){Dn(t,i,e)}),n.l&&Fx({},function(e,i){Dn(t,i,e)})}function fE(n,t,e){e=Math.min(n.i.length,e);var i=n.l?dr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let m=0;m<e;m++){let v=r[m].h;const D=r[m].g;if(v-=s,0>v)s=Math.max(0,r[m].h-100),h=!1;else try{rE(D,u,"req"+v+"_")}catch(T){i&&i(D)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function zx(n){n.g||n.u||(n.Z=1,Qv(n.Ia,n),n.A=0)}function pE(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=$l(dr(n.Ia,n),Bh(n,n.A)),n.A++,0))}function mE(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function $x(n){n.g=new Sh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Ns(n.sa);Dn(t,"RID","rpc"),Dn(t,"SID",n.I),Dn(t,"CI",n.L?"0":"1"),Dn(t,"AID",n.T),Dn(t,"TYPE","xmlhttp"),Lh(n,t),n.o&&n.s&&vb(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Oh(Ns(t)),e.s=null,e.P=!0,ab(e,n)}function Db(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function gE(n,t){var e=null;if(n.g==t){Db(n),mE(n),n.g=null;var i=2}else{if(!hb(n.h,t))return;e=t.D,fg(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Vi(i=Th(),new YD(i,e)),Cb(n)}else zx(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function dE(n,t){return!(hg(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=$l(dr(n.Ja,n,t),Bh(n,n.C)),n.C++,0)))}(n,t)||2==i&&pE(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:ql(n,5);break;case 4:ql(n,10);break;case 3:ql(n,6);break;default:ql(n,2)}}function Bh(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function ql(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=dr(n.kb,n);e||(e=new Ua("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||kh(e,"https"),Oh(e)),function sE(n,t){const e=new ig;if(Rt.Image){const i=new Image;i.onload=fh(mg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=fh(mg,e,i,"TestLoadImage: error",!1,t),i.onabort=fh(mg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=fh(mg,e,i,"TestLoadImage: timeout",!1,t),Rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Xi(2);n.G=0,n.l&&n.l.va(t),_E(n),jx(n)}function _E(n){if(n.G=0,n.la=[],n.l){const t=pb(n.h);(0!=t.length||0!=n.i.length)&&(zm(n.la,t),zm(n.la,n.i),n.h.i.length=0,jm(n.i),n.i.length=0),n.l.ua()}}function Eb(n,t,e){var i=e instanceof Ua?Ns(e):new Ua(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Rh(i,i.m);else{var r=Rt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Ua(null,void 0);i&&kh(s,i),t&&(s.g=t),r&&Rh(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&Dn(i,e,t),Dn(i,"VER",n.ma),Lh(n,i),i}function Ha(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new qn(e&&n.Da&&!n.ra?new Fh({jb:!0}):n.ra)).Ka(n.H),t}function Ib(){}function Eu(){if(fo&&!(10<=Number(Ex)))throw Error("Environmental error: no available transport.")}function fr(n,t){Ti.call(this),this.g=new bb(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!$m(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$m(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ja(this)}function yE(n){sb.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function bg(){sg.call(this),this.status=1}function ja(n){this.g=n}(lt=qn.prototype).Ka=function(n){this.L=n},lt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():og.g(),this.C=function ZD(n){return n.h||(n.h=n.i())}(this.u?this.u:og),this.g.onreadystatechange=dr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void mb(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Rt.FormData&&n instanceof Rt.FormData,!(0<=vx(Hx,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_b(this),0<this.B&&((this.K=function bP(n){return fo&&function Dx(){return function bx(n){var t=Cx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=BD(String(ph)).split("."),e=BD("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Fv(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Fv(0==r[2].length,0==s[2].length)||Fv(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.qa,this)):this.A=eb(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){mb(this,s)}},lt.qa=function(){void 0!==Ov&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vi(this,"complete"),Vi(this,"abort"),_g(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_g(this,!0)),qn.X.M.call(this)},lt.Ha=function(){this.s||(this.F||this.v||this.l?uE(this):this.fb())},lt.fb=function(){uE(this)},lt.aa=function(){try{return 2<Bs(this)?this.g.status:-1}catch(n){return-1}},lt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),aE(t)}},lt.Ea=function(){return this.m},lt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=bb.prototype).ma=8,lt.G=1,lt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Sh(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=UD(s),yh(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=fE(this,r,t),Dn(e=Ns(this.F),"RID",n),Dn(e,"CVER",22),this.D&&Dn(e,"X-HTTP-Session-Id",this.D),Lh(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(yb(s)))+"&"+t:this.o&&vb(e,this.o,s)),fb(this.h,r),this.Ya&&Dn(e,"TYPE","init"),this.O?(Dn(e,"$req",t),Dn(e,"SID","null"),r.Z=!0,cg(r,e,null)):cg(r,e,t),this.G=2}}else 3==this.G&&(n?hE(this,n):0==this.i.length||iE(this.h)||hE(this))},lt.Ia=function(){if(this.u=null,$x(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=$l(dr(this.eb,this),n)}},lt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Xi(10),vg(this),$x(this))},lt.cb=function(){null!=this.v&&(this.v=null,vg(this),pE(this),Xi(19))},lt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Xi(2)):(this.j.info("Failed to ping google.com"),Xi(1))},(lt=Ib.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Ra=function(){},Eu.prototype.g=function(n,t){return new fr(n,t)},Bi(fr,Ti),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Xi(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Eb(n,null,n.V),Cb(n)},fr.prototype.close=function(){wb(this.g)},fr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Dh(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Cb(t)},fr.prototype.M=function(){this.g.l=null,delete this.j,wb(this.g),delete this.g,fr.X.M.call(this)},Bi(yE,sb),Bi(bg,sg),Bi(ja,Ib),ja.prototype.xa=function(){Vi(this.g,"a")},ja.prototype.wa=function(n){Vi(this.g,new yE(n))},ja.prototype.va=function(n){Vi(this.g,new bg)},ja.prototype.ua=function(){Vi(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,fr.prototype.send=fr.prototype.u,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,Rx.COMPLETE="complete",rb.EventType=_u,_u.OPEN="a",_u.CLOSE="b",_u.ERROR="c",_u.MESSAGE="d",Ti.prototype.listen=Ti.prototype.N,qn.prototype.listenOnce=qn.prototype.O,qn.prototype.getLastError=qn.prototype.Oa,qn.prototype.getLastErrorCode=qn.prototype.Ea,qn.prototype.getStatus=qn.prototype.aa,qn.prototype.getResponseJson=qn.prototype.Sa,qn.prototype.getResponseText=qn.prototype.fa,qn.prototype.send=qn.prototype.da,qn.prototype.setWithCredentials=qn.prototype.Ka;var wg=uo.createWebChannelTransport=function(){return new Eu},wP=uo.getStatEventTarget=function(){return Th()},vE=uo.ErrorCode=gu,CP=uo.EventType=Rx,DP=uo.Event=Zo,Tb=uo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Gx=uo.FetchXmlHttpFactory=Fh,Cg=uo.WebChannel=rb,qx=uo.XhrIo=qn;const bE="@firebase/firestore";class mi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Wl="9.17.1";const Ko=new Rs.Yd("@firebase/firestore");function Mb(){return Ko.logLevel}function Ae(n,...t){if(Ko.logLevel<=Rs.in.DEBUG){const e=t.map(Dg);Ko.debug(`Firestore (${Wl}): ${n}`,...e)}}function Nn(n,...t){if(Ko.logLevel<=Rs.in.ERROR){const e=t.map(Dg);Ko.error(`Firestore (${Wl}): ${n}`,...e)}}function Iu(n,...t){if(Ko.logLevel<=Rs.in.WARN){const e=t.map(Dg);Ko.warn(`Firestore (${Wl}): ${n}`,...e)}}function Dg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Ze(n="Unexpected state"){const t=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+n;throw Nn(t),new Error(t)}function ct(n,t){n||Ze()}function $e(n,t){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends pt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class wE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class EP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(mi.UNAUTHENTICATED))}shutdown(){}}class IP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class TP{constructor(t){this.t=t,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gi,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,Y.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},m=v=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct("string"==typeof i.accessToken),new wE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ct(null===t||"string"==typeof t),new mi(t)}}class MP{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class SP{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new MP(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xP{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ct("string"==typeof e.token),this.A=e.token,new CE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function AP(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Zx{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=AP(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function o(n,t){return n<t?-1:n>t?1:0}function a(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function c(n){return n+"\0"}class d{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return d.fromMillis(Date.now())}static fromDate(t){return d.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new d(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?o(this.nanoseconds,t.nanoseconds):o(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class f{constructor(t){this.timestamp=t}static fromTimestamp(t){return new f(t)}static min(){return new f(new d(0,0))}static max(){return new f(new d(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class p{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ze(),void 0===i?i=t.length-e:i>t.length-e&&Ze(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===p.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof p?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class y extends p{construct(t,e,i){return new y(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ie(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new y(e)}static emptyPath(){return new y([])}}const w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class E extends p{construct(t,e,i){return new E(t,e,i)}static isValidIdentifier(t){return w.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),E.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new E(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ie(re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ie(re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ie(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Ie(re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new E(e)}static emptyPath(){return new E([])}}class I{constructor(t){this.path=t}static fromPath(t){return new I(y.fromString(t))}static fromName(t){return new I(y.fromString(t).popFirst(5))}static empty(){return new I(y.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===y.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return y.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new I(new y(t.slice()))}}class S{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function O(n){return n.fields.find(t=>2===t.kind)}function z(n){return n.fields.filter(t=>2!==t.kind)}S.UNKNOWN_ID=-1;class le{constructor(t,e){this.fieldPath=t,this.kind=e}}class Le{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Le(0,tt.min())}}function et(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=f.fromTimestamp(1e9===i?new d(e+1,0):new d(e,i));return new tt(r,I.empty(),t)}function ye(n){return new tt(n.readTime,n.key,-1)}class tt{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new tt(f.min(),I.empty(),-1)}static max(){return new tt(f.max(),I.empty(),-1)}}function zt(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=I.comparator(n.documentKey,t.documentKey),0!==e?e:o(n.largestBatchId,t.largestBatchId))}const on="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ir{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tr(n){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,Y.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==on)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}),Vh.apply(this,arguments)}class ne{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ne((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ne?e:ne.resolve(e)}catch(e){return ne.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ne.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ne.reject(e)}static resolve(t){return new ne((e,i)=>{e(t)})}static reject(t){return new ne((e,i)=>{i(t)})}static waitFor(t){return new ne((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},m=>i(m))}),u=!0,s===r&&e()})}static or(t){let e=ne.resolve(!1);for(const i of t)e=e.next(r=>r?ne.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ne((i,r)=>{const s=t.length,u=new Array(s);let h=0;for(let m=0;m<s;m++){const v=m;e(t[v]).next(D=>{u[v]=D,++h,h===s&&i(u)},D=>r(D))}})}static doWhile(t,e){return new ne((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class Tu{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new gi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Yl(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Kx(i.target.error);this.P.reject(new Yl(t,r))}}static open(t,e,i,r){try{return new Tu(e,t.transaction(r,i))}catch(s){throw new Yl(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ae("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new xb(e)}}class jr{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===jr.D((0,pt.z$)())&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ae("SimpleDb","Removing database:",t),Qo(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,pt.hl)())return!1;if(jr.N())return!0;const t=(0,pt.z$)(),e=jr.D(t),i=0<e&&e<10,r=jr.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Y.Z)(function*(){return e.db||(Ae("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Yl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ie(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ie(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Yl(t,h))},s.onupgradeneeded=u=>{Ae("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{Ae("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Y.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.F(t);const m=Tu.open(s.db,t,u?"readonly":"readwrite",i),v=r(m).next(D=>(m.V(),D)).catch(D=>(m.abort(D),ne.reject(D))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,D="FirebaseError"!==v.name&&h<3;if(Ae("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),s.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sb{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return Qo(this.q.delete())}}class Yl extends Ie{constructor(t,e){super(re.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function mo(n){return"IndexedDbTransactionError"===n.name}class xb{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ae("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ae("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Qo(i)}add(t){return Ae("SimpleDb","ADD",this.store.name,t,t),Qo(this.store.add(t))}get(t){return Qo(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ae("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ae("SimpleDb","DELETE",this.store.name,t),Qo(this.store.delete(t))}count(){return Ae("SimpleDb","COUNT",this.store.name),Qo(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ne((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ne((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Ae("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ne((i,r)=>{e.onerror=s=>{const u=Kx(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new ne((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const m=new Sb(h),v=e(h.primaryKey,h.value,m);if(v instanceof ne){const D=v.catch(T=>(m.done(),ne.reject(T)));i.push(D)}m.isDone?r():null===m.G?h.continue():h.continue(m.G)}}).next(()=>ne.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Qo(n){return new ne((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Kx(i.target.error);e(r)}})}let kP=!1;function Kx(n){const t=jr.D((0,pt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kP||(kP=!0,setTimeout(()=>{throw i},0)),i}}return n}class UH{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ae("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Y.Z)(function*(){e.task=null;try{Ae("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){mo(i)?Ae("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tr(i)}yield e.nt(6e4)}))}}class HH{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Y.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return ne.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Ae("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,s)).next(h=>(Ae("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=ye(s);zt(u,i)>0&&(i=u)}),new tt(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Vs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class jH{constructor(t,e,i,r,s,u,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class Mu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Mu&&t.projectId===this.projectId&&t.database===this.database}}function RP(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Uh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function OP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ab(n){return null==n}function kb(n){return 0===n&&1/n==-1/0}function PP(n){return"number"==typeof n&&Number.isInteger(n)&&!kb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ui{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ui(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ui(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return o(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const $H=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Su(n){if(ct(!!n),"string"==typeof n){let t=0;const e=$H.exec(n);if(ct(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ai(n.seconds),nanos:ai(n.nanos)}}function ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hh(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function Qx(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function FP(n){const t=n.mapValue.fields.__previous_value__;return Qx(t)?FP(t):t}function Rb(n){const t=Su(n.mapValue.fields.__local_write_time__.timestampValue);return new d(t.seconds,t.nanos)}const xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DE={nullValue:"NULL_VALUE"};function jh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qx(n)?4:VP(n)?9007199254740991:10:Ze()}function za(n,t){if(n===t)return!0;const e=jh(n);if(e!==jh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Rb(n).isEqual(Rb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Su(i.timestampValue),u=Su(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Hh(n.bytesValue).isEqual(Hh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ai(i.geoPointValue.latitude)===ai(r.geoPointValue.latitude)&&ai(i.geoPointValue.longitude)===ai(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ai(i.integerValue)===ai(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ai(i.doubleValue),u=ai(r.doubleValue);return s===u?kb(s)===kb(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return a(n.arrayValue.values||[],t.arrayValue.values||[],za);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(RP(s)!==RP(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!za(s[h],u[h])))return!1;return!0}(n,t);default:return Ze()}var r}function Ob(n,t){return void 0!==(n.values||[]).find(e=>za(e,t))}function Au(n,t){if(n===t)return 0;const e=jh(n),i=jh(t);if(e!==i)return o(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return o(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=ai(r.integerValue||r.doubleValue),h=ai(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return NP(n.timestampValue,t.timestampValue);case 4:return NP(Rb(n),Rb(t));case 5:return o(n.stringValue,t.stringValue);case 6:return function(r,s){const u=Hh(r),h=Hh(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=o(u[m],h[m]);if(0!==v)return v}return o(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=o(ai(r.latitude),ai(s.latitude));return 0!==u?u:o(ai(r.longitude),ai(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let m=0;m<u.length&&m<h.length;++m){const v=Au(u[m],h[m]);if(v)return v}return o(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===xu.mapValue&&s===xu.mapValue)return 0;if(r===xu.mapValue)return 1;if(s===xu.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),m=s.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let D=0;D<h.length&&D<v.length;++D){const T=o(h[D],v[D]);if(0!==T)return T;const k=Au(u[h[D]],m[v[D]]);if(0!==k)return k}return o(h.length,v.length)}(n.mapValue,t.mapValue);default:throw Ze()}}function NP(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return o(n,t);const e=Su(n),i=Su(t),r=o(e.seconds,i.seconds);return 0!==r?r:o(e.nanos,i.nanos)}function Eg(n){return Xx(n)}function Xx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Su(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hh(n.bytesValue).toBase64():"referenceValue"in n?I.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=Xx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${Xx(i.fields[h])}`;return s+"}"}(n.mapValue):Ze();var t}function zh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Jx(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function LP(n){return!!n&&"nullValue"in n}function BP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EE(n){return!!n&&"mapValue"in n}function Fb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Uh(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Fb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function VP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function GH(n){return"nullValue"in n?DE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zh(Mu.empty(),I.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ze()}function qH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zh(Mu.empty(),I.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xu:Ze()}function UP(n,t){const e=Au(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function HP(n,t){const e=Au(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ku{constructor(t,e){this.position=t,this.inclusive=e}}function jP(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?I.comparator(I.fromName(u.referenceValue),e.key):Au(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function zP(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!za(n.position[e],t.position[e]))return!1;return!0}class $P{}class Qt extends $P{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new WH(t,e,i):"array-contains"===e?new KH(t,i):"in"===e?new KP(t,i):"not-in"===e?new QH(t,i):"array-contains-any"===e?new XH(t,i):new Qt(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new YH(t,i):new ZH(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Au(e,this.value)):null!==e&&jh(this.value)===jh(e)&&this.matchesComparison(Au(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends $P{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new bn(t,e)}matches(t){return Ig(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Ig(n){return"and"===n.op}function eA(n){return"or"===n.op}function tA(n){return GP(n)&&Ig(n)}function GP(n){for(const t of n.filters)if(t instanceof bn)return!1;return!0}function nA(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Eg(n.value);if(tA(n))return n.filters.map(t=>nA(t)).join(",");{const t=n.filters.map(e=>nA(e)).join(",");return`${n.op}(${t})`}}function qP(n,t){return n instanceof Qt?(e=n,(i=t)instanceof Qt&&e.op===i.op&&e.field.isEqual(i.field)&&za(e.value,i.value)):n instanceof bn?function(e,i){return i instanceof bn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,u)=>r&&qP(s,i.filters[u]),!0)}(n,t):void Ze();var e,i}function WP(n,t){const e=n.filters.concat(t);return bn.create(e,n.op)}function YP(n){return n instanceof Qt?`${(t=n).field.canonicalString()} ${t.op} ${Eg(t.value)}`:n instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(YP).join(" ,")+"}"}(n):"Filter";var t}class WH extends Qt{constructor(t,e,i){super(t,e,i),this.key=I.fromName(i.referenceValue)}matches(t){const e=I.comparator(t.key,this.key);return this.matchesComparison(e)}}class YH extends Qt{constructor(t,e){super(t,"in",e),this.keys=ZP(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ZH extends Qt{constructor(t,e){super(t,"not-in",e),this.keys=ZP(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ZP(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>I.fromName(i.referenceValue))}class KH extends Qt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Pb(e)&&Ob(e.arrayValue,this.value)}}class KP extends Qt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ob(this.value.arrayValue,e)}}class QH extends Qt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ob(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ob(this.value.arrayValue,e)}}class XH extends Qt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Pb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ob(this.value.arrayValue,i))}}class Tg{constructor(t,e="asc"){this.field=t,this.dir=e}}function JH(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class li{constructor(t,e){this.comparator=t,this.root=e||pr.EMPTY}insert(t,e){return new li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(t){return new li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new IE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new IE(this.root,t,this.comparator,!1)}getReverseIterator(){return new IE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new IE(this.root,t,this.comparator,!0)}}class IE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:pr.RED,this.left=null!=r?r:pr.EMPTY,this.right=null!=s?s:pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new pr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return pr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const t=this.left.check();if(t!==this.right.check())throw Ze();return t+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1,pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(n,t,e,i,r){return this}insert(n,t,e){return new pr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(t){this.comparator=t,this.data=new li(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new QP(this.data.getIterator())}getIteratorFrom(t){return new QP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof En)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new En(this.comparator);return e.data=t,e}}class QP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mg(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(t){this.fields=t,t.sort(E.comparator)}static empty(){return new ls([])}unionWith(t){let e=new En(E.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ls(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return a(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class mr{constructor(t){this.value=t}static empty(){return new mr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!EE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fb(e)}setAll(t){let e=E.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Fb(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());EE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return za(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];EE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Uh(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new mr(Fb(this.value))}}function XP(n){const t=[];return Uh(n.fields,(e,i)=>{const r=new E([e]);if(EE(i)){const s=XP(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new ls(t)}class Ln{constructor(t,e,i,r,s,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Ln(t,0,f.min(),f.min(),f.min(),mr.empty(),0)}static newFoundDocument(t,e,i,r){return new Ln(t,1,e,f.min(),i,r,0)}static newNoDocument(t,e){return new Ln(t,2,e,f.min(),f.min(),mr.empty(),0)}static newUnknownDocument(t,e){return new Ln(t,3,e,f.min(),f.min(),mr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(f.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=f.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ej{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.ft=null}}function iA(n,t=null,e=[],i=[],r=null,s=null,u=null){return new ej(n,t,e,i,r,s,u)}function $h(n){const t=$e(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>nA(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ab(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Eg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Eg(i)).join(",")),t.ft=e}return t.ft}function Nb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!JH(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!qP(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!zP(n.startAt,t.startAt)&&zP(n.endAt,t.endAt)}function TE(n){return I.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ME(n,t){return n.filters.filter(e=>e instanceof Qt&&e.field.isEqual(t))}function JP(n,t,e){let i=DE,r=!0;for(const s of ME(n,t)){let u=DE,h=!0;switch(s.op){case"<":case"<=":u=GH(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=DE}UP({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];UP({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function eF(n,t,e){let i=xu,r=!0;for(const s of ME(n,t)){let u=xu,h=!0;switch(s.op){case">=":case">":u=qH(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=xu}HP({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];HP({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Zl{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=m,this.dt=null,this._t=null}}function tF(n,t,e,i,r,s,u,h){return new Zl(n,t,e,i,r,s,u,h)}function Sg(n){return new Zl(n)}function nF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function SE(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function sA(n){return null!==n.collectionGroup}function Gh(n){const t=$e(n);if(null===t.dt){t.dt=[];const e=SE(t),i=rA(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Tg(e)),t.dt.push(new Tg(E.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Tg(E.keyField(),s))}}}return t.dt}function zr(n){const t=$e(n);if(!t._t)if("F"===t.limitType)t._t=iA(t.path,t.collectionGroup,Gh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Gh(t))e.push(new Tg(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ku(t.startAt.position,t.startAt.inclusive):null;t._t=iA(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function oA(n,t){t.getFirstInequalityField(),SE(n);const e=n.filters.concat([t]);return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xE(n,t,e){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Lb(n,t){return Nb(zr(n),zr(t))&&n.limitType===t.limitType}function iF(n){return`${$h(zr(n))}|lt:${n.limitType}`}function aA(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>YP(i)).join(", ")}]`),Ab(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Eg(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Eg(i)).join(",")),`Target(${e})`}(zr(n))}; limitType=${n.limitType})`}function Bb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):I.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Gh(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const h=jP(r,s,u);return r.inclusive?h<=0:h<0}(e.startAt,Gh(e),i)||e.endAt&&!function(r,s,u){const h=jP(r,s,u);return r.inclusive?h>=0:h>0}(e.endAt,Gh(e),i)));var e,i}function rF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sF(n){return(t,e)=>{let i=!1;for(const r of Gh(n)){const s=tj(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function tj(n,t,e){const i=n.field.isKeyField()?I.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),m=u.data.field(r);return null!==h&&null!==m?Au(h,m):Ze()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ze()}}function oF(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kb(t)?"-0":t}}function aF(n){return{integerValue:""+n}}function lF(n,t){return PP(t)?aF(t):oF(n,t)}class AE{constructor(){this._=void 0}}function nj(n,t,e){return n instanceof xg?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof qh?uF(n,t):n instanceof Wh?dF(n,t):function(i,r){const s=cF(i,r),u=hF(s)+hF(i.gt);return Jx(s)&&Jx(i.gt)?aF(u):oF(i.yt,u)}(n,t)}function ij(n,t,e){return n instanceof qh?uF(n,t):n instanceof Wh?dF(n,t):e}function cF(n,t){return n instanceof Ag?Jx(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class xg extends AE{}class qh extends AE{constructor(t){super(),this.elements=t}}function uF(n,t){const e=fF(t);for(const i of n.elements)e.some(r=>za(r,i))||e.push(i);return{arrayValue:{values:e}}}class Wh extends AE{constructor(t){super(),this.elements=t}}function dF(n,t){let e=fF(t);for(const i of n.elements)e=e.filter(r=>!za(r,i));return{arrayValue:{values:e}}}class Ag extends AE{constructor(t,e){super(),this.yt=t,this.gt=e}}function hF(n){return ai(n.integerValue||n.doubleValue)}function fF(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Vb{constructor(t,e){this.field=t,this.transform=e}}class sj{constructor(t,e){this.version=t,this.transformResults=e}}class Wn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class RE{}function pF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Rg(n.key,Wn.none()):new kg(n.key,n.data,Wn.none());{const e=n.data,i=mr.empty();let r=new En(E.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Kl(n.key,i,new ls(r.toArray()),Wn.none())}}function oj(n,t,e){n instanceof kg?function(i,r,s){const u=i.value.clone(),h=_F(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Kl?function(i,r,s){if(!kE(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=_F(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(gF(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ub(n,t,e,i){return n instanceof kg?function(r,s,u,h){if(!kE(r.precondition,s))return u;const m=r.value.clone(),v=yF(r.fieldTransforms,h,s);return m.setAll(v),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Kl?function(r,s,u,h){if(!kE(r.precondition,s))return u;const m=yF(r.fieldTransforms,h,s),v=s.data;return v.setAll(gF(r)),v.setAll(m),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,t,e,i):(u=e,kE(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function aj(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=cF(i.transform,r||null);null!=s&&(null===e&&(e=mr.empty()),e.set(i.field,s))}return e||null}function mF(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&a(e,i,(r,s)=>function rj(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof qh&&i instanceof qh||e instanceof Wh&&i instanceof Wh?a(e.elements,i.elements,za):e instanceof Ag&&i instanceof Ag?za(e.gt,i.gt):e instanceof xg&&i instanceof xg);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class kg extends RE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Kl extends RE{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gF(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _F(n,t,e){const i=new Map;ct(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,ij(u,h,e[r]))}return i}function yF(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,nj(s,u,t))}return i}class Rg extends RE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lA extends RE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lj{constructor(t){this.count=t}}var Mi,sn;function vF(n){switch(n){default:return Ze();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function bF(n){if(void 0===n)return Nn("GRPC error has no .code"),re.UNKNOWN;switch(n){case Mi.OK:return re.OK;case Mi.CANCELLED:return re.CANCELLED;case Mi.UNKNOWN:return re.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return re.INTERNAL;case Mi.UNAVAILABLE:return re.UNAVAILABLE;case Mi.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Mi.NOT_FOUND:return re.NOT_FOUND;case Mi.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Mi.ABORTED:return re.ABORTED;case Mi.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Mi.DATA_LOSS:return re.DATA_LOSS;default:return Ze()}}(sn=Mi||(Mi={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class Ru{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Uh(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return OP(this.inner)}size(){return this.innerSize}}const cj=new li(I.comparator);function cs(){return cj}const wF=new li(I.comparator);function Hb(...n){let t=wF;for(const e of n)t=t.insert(e.key,e);return t}function CF(n){let t=wF;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function $a(){return jb()}function DF(){return jb()}function jb(){return new Ru(n=>n.toString(),(n,t)=>n.isEqual(t))}const uj=new li(I.comparator),dj=new En(I.comparator);function Ht(...n){let t=dj;for(const e of n)t=t.add(e);return t}const hj=new En(o);function OE(){return hj}class zb{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,$b.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new zb(f.min(),r,OE(),cs(),Ht())}}class $b{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new $b(i,e,Ht(),Ht(),Ht())}}class PE{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class EF{constructor(t,e){this.targetId=t,this.Et=e}}class IF{constructor(t,e,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class TF{constructor(){this.At=0,this.Rt=SF(),this.bt=Ui.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Ht(),e=Ht(),i=Ht();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ze()}}),new $b(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=SF()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class fj{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=cs(),this.qt=MF(),this.Ut=new En(o)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:Ze()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const s=r.target;if(TE(s))if(0===i){const u=new I(s.path);this.Qt(e,u,Ln.newNoDocument(u,f.min()))}else ct(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((s,u)=>{const h=this.Yt(u);if(h){if(s.current&&TE(h.target)){const m=new I(h.target.path);null!==this.Lt.get(m)||this.te(u,m)||this.Qt(u,m,Ln.newNoDocument(m,t))}s.St&&(e.set(u,s.Ct()),s.xt())}});let i=Ht();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(m=>{const v=this.Yt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.Lt.forEach((s,u)=>u.setReadTime(t));const r=new zb(t,e,this.Ut,this.Lt,i);return this.Lt=cs(),this.qt=MF(),this.Ut=new En(o),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new TF,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new En(o),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Ae("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new TF),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function MF(){return new li(I.comparator)}function SF(){return new li(I.comparator)}const pj={asc:"ASCENDING",desc:"DESCENDING"},mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gj={and:"AND",or:"OR"};class _j{constructor(t,e){this.databaseId=t,this.wt=e}}function Og(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xF(n,t){return n.wt?t.toBase64():t.toUint8Array()}function yj(n,t){return Og(n,t.toTimestamp())}function _i(n){return ct(!!n),f.fromTimestamp(function(t){const e=Su(t);return new d(e.seconds,e.nanos)}(n))}function cA(n,t){return(e=n,new y(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function AF(n){const t=y.fromString(n);return ct(VF(t)),t}function Gb(n,t){return cA(n.databaseId,t.path)}function Ga(n,t){const e=AF(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new I(RF(e))}function uA(n,t){return cA(n.databaseId,t)}function kF(n){const t=AF(n);return 4===t.length?y.emptyPath():RF(t)}function qb(n){return new y(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RF(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OF(n,t,e){return{name:Gb(n,t),fields:e.value.mapValue.fields}}function PF(n,t,e){const i=Ga(n,t.name),r=_i(t.updateTime),s=t.createTime?_i(t.createTime):f.min(),u=new mr({mapValue:{fields:t.fields}}),h=Ln.newFoundDocument(i,r,s,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Wb(n,t){let e;if(t instanceof kg)e={update:OF(n,t.key,t.value)};else if(t instanceof Rg)e={delete:Gb(n,t.key)};else if(t instanceof Kl)e={update:OF(n,t.key,t.data),updateMask:Tj(t.fieldMask)};else{if(!(t instanceof lA))return Ze();e={verify:Gb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof xg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof qh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ag)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw Ze()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:yj(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ze()),e;var r}function dA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Wn.updateTime(_i(r.updateTime)):void 0!==r.exists?Wn.exists(r.exists):Wn.none():Wn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(ct("REQUEST_TIME"===u.setToServerValue),h=new xg):"appendMissingElements"in u?h=new qh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Wh(u.removeAllFromArray.values||[]):"increment"in u?h=new Ag(s,u.increment):Ze();const m=E.fromServerFormat(u.fieldPath);return new Vb(m,h)}(n,r)):[];var r;if(t.update){const r=Ga(n,t.update.name),s=new mr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new ls((t.updateMask.fieldPaths||[]).map(v=>E.fromServerFormat(v)));return new Kl(r,s,u,e,i)}return new kg(r,s,e,i)}if(t.delete){const r=Ga(n,t.delete);return new Rg(r,e)}if(t.verify){const r=Ga(n,t.verify);return new lA(r,e)}return Ze()}function FF(n,t){return{documents:[uA(n,t.path)]}}function hA(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=uA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=uA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return BF(bn.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(v=>{return{field:Pg((D=v).field),direction:Dj(D.dir)};var D})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(v=t.limit,n.wt||Ab(v)?v:{value:v});var v,h,m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function NF(n){let t=kF(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ct(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let s=[];e.where&&(s=function(D){const T=LF(D);return T instanceof bn&&tA(T)?T.getFilters():[T]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Tg(Fg((T=D).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;e.limit&&(h=function(D){let T;return T="object"==typeof D?D.value:D,Ab(T)?null:T}(e.limit));let m=null;var D;e.startAt&&(m=new ku((D=e.startAt).values||[],!!D.before));let v=null;return e.endAt&&(v=function(D){return new ku(D.values||[],!D.before)}(e.endAt)),tF(t,r,u,s,h,"F",m,v)}function LF(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Fg(t.unaryFilter.field);return Qt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Fg(t.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fg(t.unaryFilter.field);return Qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fg(t.unaryFilter.field);return Qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(n):void 0!==n.fieldFilter?Qt.create(Fg((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return bn.create(t.compositeFilter.filters.map(e=>LF(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ze()}}(t.compositeFilter.op))}(n):Ze();var t}function Dj(n){return pj[n]}function Ej(n){return mj[n]}function Ij(n){return gj[n]}function Pg(n){return{fieldPath:n.canonicalString()}}function Fg(n){return E.fromServerFormat(n.fieldPath)}function BF(n){return n instanceof Qt?function(t){if("=="===t.op){if(BP(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NAN"}};if(LP(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(BP(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NOT_NAN"}};if(LP(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pg(t.field),op:Ej(t.op),value:t.value}}}(n):n instanceof bn?function(t){const e=t.getFilters().map(i=>BF(i));return 1===e.length?e[0]:{compositeFilter:{op:Ij(t.op),filters:e}}}(n):Ze()}function Tj(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function VF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $r(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=UF(t)),t=Mj(n.get(e),t);return UF(t)}function Mj(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function UF(n){return n+"\x01\x01"}function qa(n){const t=n.length;if(ct(t>=2),2===t)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),y.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&Ze(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:Ze()}s=u+2}return new y(i)}const HF=["userId","batchId"];function FE(n,t){return[n,$r(t)]}function jF(n,t,e){return[n,$r(t),e]}const Sj={},xj=["prefixPath","collectionGroup","readTime","documentId"],Aj=["prefixPath","collectionGroup","documentId"],kj=["collectionGroup","readTime","prefixPath","documentId"],Rj=["canonicalId","targetId"],Oj=["targetId","path"],Pj=["path","targetId"],Fj=["collectionId","parent"],Nj=["indexId","uid"],Lj=["uid","sequenceNumber"],Bj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vj=["indexId","uid","orderedDocumentKey"],Uj=["userId","collectionPath","documentId"],Hj=["userId","collectionPath","largestBatchId"],jj=["userId","collectionGroup","largestBatchId"],zF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zj=[...zF,"documentOverlays"],$F=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GF=$F,$j=[...GF,"indexConfiguration","indexState","indexEntries"];class fA extends Ir{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function Ji(n,t){const e=$e(n);return jr.M(e.se,t)}class pA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&oj(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ub(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ub(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=DF();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=e.has(r.key)?null:h;const m=pF(u,h);null!==m&&i.set(r.key,m),u.isValidDocument()||u.convertToNoDocument(f.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ht())}isEqual(t){return this.batchId===t.batchId&&a(this.mutations,t.mutations,(e,i)=>mF(e,i))&&a(this.baseMutations,t.baseMutations,(e,i)=>mF(e,i))}}class mA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ct(t.mutations.length===i.length);let r=uj;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new mA(t,e,i,r)}}class gA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ou{constructor(t,e,i,r,s=f.min(),u=f.min(),h=Ui.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Ou(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class qF{constructor(t){this.ie=t}}function WF(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:NE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Gb(r=n.ie,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Og(r,s.version.toTimestamp()),createTime:Og(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Yh(t.version)};else{if(!t.isUnknownDocument())return Ze();i.unknownDocument={path:e.path.toArray(),version:Yh(t.version)}}var r,s;return i}function NE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Yh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Zh(n){const t=new d(n.seconds,n.nanoseconds);return f.fromTimestamp(t)}function Kh(n,t){const e=(t.baseMutations||[]).map(s=>dA(n.ie,s));for(let s=0;s<t.mutations.length-1;++s){const u=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(u.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>dA(n.ie,s)),r=d.fromMillis(t.localWriteTimeMs);return new pA(t.batchId,r,e,i)}function Yb(n){const t=Zh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Zh(n.lastLimboFreeSnapshotVersion):f.min();let i;var r;return void 0!==n.query.documents?(ct(1===(r=n.query).documents.length),i=zr(Sg(kF(r.documents[0])))):i=zr(NF(n.query)),new Ou(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ui.fromBase64String(n.resumeToken))}function YF(n,t){const e=Yh(t.snapshotVersion),i=Yh(t.lastLimboFreeSnapshotVersion);let r;r=TE(t.target)?FF(n.ie,t.target):hA(n.ie,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$h(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _A(n){const t=NF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xE(t,t.limit,"L"):t}function yA(n,t){return new gA(t.largestBatchId,dA(n.ie,t.overlayMutation))}function ZF(n,t){const e=t.path.lastSegment();return[n,$r(t.path.popLast()),e]}function KF(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Yh(i.readTime),documentKey:$r(i.documentKey.path),largestBatchId:i.largestBatchId}}class qj{getBundleMetadata(t,e){return QF(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Zh(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return QF(t).put({bundleId:(i=e).id,createTime:Yh(_i(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return XF(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_A(r.bundledQuery),readTime:Zh(r.readTime)};var r})}saveNamedQuery(t,e){return XF(t).put({name:(i=e).name,readTime:Yh(_i(i.readTime)),bundledQuery:i.bundledQuery});var i}}function QF(n){return Ji(n,"bundles")}function XF(n){return Ji(n,"namedQueries")}class LE{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new LE(t,e.uid||"")}getOverlay(t,e){return Zb(t).get(ZF(this.userId,e)).next(i=>i?yA(this.yt,i):null)}getOverlays(t,e){const i=$a();return ne.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const h=new gA(e,u);r.push(this.oe(t,h))}),ne.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add($r(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Zb(t).Y("collectionPathOverlayIndex",h))}),ne.waitFor(s)}getOverlaysForCollection(t,e,i){const r=$a(),s=$r(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Zb(t).W("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const v=yA(this.yt,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=$a();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Zb(t).Z({index:"collectionGroupOverlayIndex",range:h},(m,v,D)=>{const T=yA(this.yt,v);s.size()<r||T.largestBatchId===u?(s.set(T.getKey(),T),u=T.largestBatchId):D.done()}).next(()=>s)}oe(t,e){return Zb(t).put(function(i,r,s){const[u,h,m]=ZF(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Wb(i.ie,s.mutation)}}(this.yt,this.userId,e))}}function Zb(n){return Ji(n,"documentOverlays")}class Qh{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(ai(t.integerValue));else if("doubleValue"in t){const i=ai(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),kb(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Hh(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?VP(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):Ze()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),I.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function Wj(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function JF(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=Wj(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Qh.Ie=new Qh;class Yj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=JF(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=JF(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Zj{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class Kj{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class Kb{constructor(){this.$e=new Yj,this.Be=new Zj(this.$e),this.Le=new Kj(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Xh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Xh(this.indexId,this.documentKey,this.arrayValue,i)}}function Pu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=eN(n.arrayValue,t.arrayValue),0!==e?e:(e=eN(n.directionalValue,t.directionalValue),0!==e?e:I.comparator(n.documentKey,t.documentKey)))}function eN(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Qj{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){ct(t.collectionGroup===this.collectionId);const e=O(t);if(void 0!==e&&!this.We(e))return!1;const i=z(t);let r=0,s=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ke.length||!this.He(this.Ke[s++],u))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function tN(n){var t,e;if(ct(n instanceof Qt||n instanceof bn),n instanceof Qt){if(n instanceof KP){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Qt.create(n.field,"==",s)))||[];return bn.create(r,"or")}return n}const i=n.filters.map(r=>tN(r));return bn.create(i,n.op)}function Xj(n){if(0===n.getFilters().length)return[];const t=wA(tN(n));return ct(nN(t)),vA(t)||bA(t)?[t]:t.getFilters()}function vA(n){return n instanceof Qt}function bA(n){return n instanceof bn&&tA(n)}function nN(n){return vA(n)||bA(n)||function(t){if(t instanceof bn&&eA(t)){for(const e of t.getFilters())if(!vA(e)&&!bA(e))return!1;return!0}return!1}(n)}function wA(n){if(ct(n instanceof Qt||n instanceof bn),n instanceof Qt)return n;if(1===n.filters.length)return wA(n.filters[0]);const t=n.filters.map(i=>wA(i));let e=bn.create(t,n.op);return e=BE(e),nN(e)?e:(ct(e instanceof bn),ct(Ig(e)),ct(e.filters.length>1),e.filters.reduce((i,r)=>CA(i,r)))}function CA(n,t){let e;return ct(n instanceof Qt||n instanceof bn),ct(t instanceof Qt||t instanceof bn),e=n instanceof Qt?t instanceof Qt?bn.create([n,t],"and"):iN(n,t):t instanceof Qt?iN(t,n):function(i,r){if(ct(i.filters.length>0&&r.filters.length>0),Ig(i)&&Ig(r))return WP(i,r.getFilters());const s=eA(i)?i:r,u=eA(i)?r:i,h=s.filters.map(m=>CA(m,u));return bn.create(h,"or")}(n,t),BE(e)}function iN(n,t){if(Ig(t))return WP(t,n.getFilters());{const e=t.filters.map(i=>CA(n,i));return bn.create(e,"or")}}function BE(n){if(ct(n instanceof Qt||n instanceof bn),n instanceof Qt)return n;const t=n.getFilters();if(1===t.length)return BE(t[0]);if(GP(n))return n;const e=t.map(r=>BE(r)),i=[];return e.forEach(r=>{r instanceof Qt?i.push(r):r instanceof bn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:bn.create(i,n.op)}class Jj{constructor(){this.Je=new DA}addToCollectionParentIndex(t,e){return this.Je.add(e),ne.resolve()}getCollectionParents(t,e){return ne.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return ne.resolve()}deleteFieldIndex(t,e){return ne.resolve()}getDocumentsMatchingTarget(t,e){return ne.resolve(null)}getIndexType(t,e){return ne.resolve(0)}getFieldIndexes(t,e){return ne.resolve([])}getNextCollectionGroupToUpdate(t){return ne.resolve(null)}getMinOffset(t,e){return ne.resolve(tt.min())}getMinOffsetFromCollectionGroup(t,e){return ne.resolve(tt.min())}updateCollectionGroup(t,e,i){return ne.resolve()}updateIndexEntries(t,e){return ne.resolve()}}class DA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new En(y.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new En(y.comparator)).toArray()}}const VE=new Uint8Array(0);class e3{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new DA,this.Xe=new Ru(i=>$h(i),(i,r)=>Nb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const s={collectionId:i,parent:$r(r)};return rN(t).put(s)}return ne.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[c(e),""],!1,!0);return rN(t).W(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(qa(u.parent))}return i})}addFieldIndex(t,e){const i=UE(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=Xb(t);return s.next(h=>{u.put(KF(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=UE(t),r=Xb(t),s=Qb(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Qb(t);let r=!0;const s=new Map;return ne.forEach(this.Ze(e),u=>this.tn(t,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Ht();const h=[];return ne.forEach(s,(m,v)=>{var D;Ae("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${$h(e)}`);const T=function(it,st){const Et=O(st);if(void 0===Et)return null;for(const Tt of ME(it,Et.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(v,m),k=function(it,st){const Et=new Map;for(const Tt of z(st))for(const en of ME(it,Tt.fieldPath))switch(en.op){case"==":case"in":Et.set(Tt.fieldPath.canonicalString(),en.value);break;case"not-in":case"!=":return Et.set(Tt.fieldPath.canonicalString(),en.value),Array.from(Et.values())}return null}(v,m),P=function(it,st){const Et=[];let Tt=!0;for(const en of z(st)){const Zr=0===en.kind?JP(it,en.fieldPath,it.startAt):eF(it,en.fieldPath,it.startAt);Et.push(Zr.value),Tt&&(Tt=Zr.inclusive)}return new ku(Et,Tt)}(v,m),U=function(it,st){const Et=[];let Tt=!0;for(const en of z(st)){const Zr=0===en.kind?eF(it,en.fieldPath,it.endAt):JP(it,en.fieldPath,it.endAt);Et.push(Zr.value),Tt&&(Tt=Zr.inclusive)}return new ku(Et,Tt)}(v,m),Q=this.en(m,v,P),ae=this.en(m,v,U),Fe=this.nn(m,v,k),Ye=this.sn(m.indexId,T,Q,P.inclusive,ae,U.inclusive,Fe);return ne.forEach(Ye,it=>i.J(it,e.limit).next(st=>{st.forEach(Et=>{const Tt=I.fromSegments(Et.documentKey);u.has(Tt)||(u=u.add(Tt),h.push(Tt))})}))}).next(()=>h)}return ne.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:Xj(bn.create(t.filters,"and")).map(i=>iA(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,s,u,h){const m=(null!=e?e.length:1)*Math.max(i.length,s.length),v=m/(null!=e?e.length:1),D=[];for(let T=0;T<m;++T){const k=e?this.rn(e[T/v]):VE,P=this.on(t,k,i[T%v],r),U=this.un(t,k,s[T%v],u),Q=h.map(ae=>this.on(t,k,ae,!0));D.push(...this.createRange(P,U,Q))}return D}on(t,e,i,r){const s=new Xh(t,I.empty(),e,i);return r?s:s.Ue()}un(t,e,i,r){const s=new Xh(t,I.empty(),e,i);return r?s.Ue():s}tn(t,e){const i=new Qj(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const h of s)i.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.Ze(e);return ne.forEach(r,s=>this.tn(t,s).next(u=>{u?0!==i&&u.fields.length<function(h){let m=new En(E.comparator),v=!1;for(const D of h.filters)for(const T of D.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?v=!0:m=m.add(T.field));for(const D of h.orderBy)D.field.isKeyField()||(m=m.add(D.field));return m.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new Kb;for(const r of z(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.qe(r.kind);Qh.Ie.ue(s,u)}return i.Fe()}rn(t){const e=new Kb;return Qh.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new Kb;return Qh.Ie.ue(zh(this.databaseId,e),i.qe(function(r){const s=z(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new Kb);let s=0;for(const u of z(t)){const h=i[s++];for(const m of r)if(this.hn(e,u.fieldPath)&&Pb(h))r=this.ln(r,u,h);else{const v=m.qe(u.kind);Qh.Ie.ue(h,v)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const m=new Kb;m.seed(h.Fe()),Qh.Ie.ue(u,m.qe(e.kind)),s.push(m)}return s}hn(t,e){return!!t.filters.find(i=>i instanceof Qt&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=UE(t),r=Xb(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const u=[];return ne.forEach(s,h=>r.get([h.indexId,this.uid]).next(m=>{u.push(function(v,D){const T=D?new Le(D.sequenceNumber,new tt(Zh(D.readTime),new I(qa(D.documentKey)),D.largestBatchId)):Le.empty(),k=v.fields.map(([P,U])=>new le(E.fromServerFormat(P),U));return new S(v.indexId,v.collectionGroup,k,T)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:o(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=UE(t),s=Xb(t);return this.dn(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ne.forEach(h,m=>s.put(KF(m.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ne.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ne.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ne.forEach(h,m=>this._n(t,r,m).next(v=>{const D=this.wn(s,m);return v.isEqual(D)?ne.resolve():this.mn(t,s,m,v,D)}))))})}gn(t,e,i,r){return Qb(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return Qb(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=Qb(t);let s=new En(Pu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(u,h)=>{s=s.add(new Xh(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}wn(t,e){let i=new En(Pu);const r=this.cn(e,t);if(null==r)return i;const s=O(e);if(null!=s){const u=t.data.field(s.fieldPath);if(Pb(u))for(const h of u.arrayValue.values||[])i=i.add(new Xh(e.indexId,t.key,this.rn(h),r))}else i=i.add(new Xh(e.indexId,t.key,VE,r));return i}mn(t,e,i,r,s){Ae("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,m,v,D,T){const k=h.getIterator(),P=m.getIterator();let U=Mg(k),Q=Mg(P);for(;U||Q;){let ae=!1,Fe=!1;if(U&&Q){const Ye=v(U,Q);Ye<0?Fe=!0:Ye>0&&(ae=!0)}else null!=U?Fe=!0:ae=!0;ae?(D(Q),Q=Mg(P)):Fe?(T(U),U=Mg(k)):(U=Mg(k),Q=Mg(P))}}(r,s,Pu,h=>{u.push(this.gn(t,e,i,h))},h=>{u.push(this.yn(t,e,i,h))}),ne.waitFor(u)}dn(t){let e=1;return Xb(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Pu(u,h)).filter((u,h,m)=>!h||0!==Pu(u,m[h-1]));const r=[];r.push(t);for(const u of i){const h=Pu(u,t),m=Pu(u,e);if(0===h)r[0]=t.Ue();else if(h>0&&m<0)r.push(u),r.push(u.Ue());else if(m>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,VE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,VE,[]]))}return s}pn(t,e){return Pu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(sN)}getMinOffset(t,e){return ne.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||Ze())).next(sN)}}function rN(n){return Ji(n,"collectionParents")}function Qb(n){return Ji(n,"indexEntries")}function UE(n){return Ji(n,"indexConfiguration")}function Xb(n){return Ji(n,"indexState")}function sN(n){ct(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;zt(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new tt(t.readTime,t.documentKey,e)}const oN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new us(t,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aN(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=i.Z({range:u},(D,T,k)=>(h++,k.delete()));s.push(m.next(()=>{ct(1===h)}));const v=[];for(const D of e.mutations){const T=jF(t,D.key.path,e.batchId);s.push(r.delete(T)),v.push(D.key)}return ne.waitFor(s).next(()=>v)}function HE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Ze();t=n.noDocument}return JSON.stringify(t).length}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(41943040,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class jE{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){ct(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new jE(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fu(t).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Ng(t),u=Fu(t);return u.add({}).next(h=>{ct("number"==typeof h);const m=new pA(h,e,i,r),v=function(k,P,U){const Q=U.baseMutations.map(Fe=>Wb(k.ie,Fe)),ae=U.mutations.map(Fe=>Wb(k.ie,Fe));return{userId:P,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Q,mutations:ae}}(this.yt,this.userId,m),D=[];let T=new En((k,P)=>o(k.canonicalString(),P.canonicalString()));for(const k of r){const P=jF(this.userId,k.key.path,h);T=T.add(k.key.path.popLast()),D.push(u.put(v)),D.push(s.put(P,Sj))}return T.forEach(k=>{D.push(this.indexManager.addToCollectionParentIndex(t,k))}),t.addOnCommittedListener(()=>{this.In[h]=m.keys()}),ne.waitFor(D).next(()=>m)})}lookupMutationBatch(t,e){return Fu(t).get(e).next(i=>i?(ct(i.userId===this.userId),Kh(this.yt,i)):null)}Tn(t,e){return this.In[e]?ne.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Fu(t).Z({index:"userMutationsIndex",range:r},(u,h,m)=>{h.userId===this.userId&&(ct(h.batchId>=i),s=Kh(this.yt,h)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Fu(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Kh(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=FE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Ng(t).Z({range:r},(u,h,m)=>{const[v,D,T]=u,k=qa(D);if(v===this.userId&&e.path.isEqual(k))return Fu(t).get(T).next(P=>{if(!P)throw Ze();ct(P.userId===this.userId),s.push(Kh(this.yt,P))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new En(o);const r=[];return e.forEach(s=>{const u=FE(this.userId,s.path),h=IDBKeyRange.lowerBound(u),m=Ng(t).Z({range:h},(v,D,T)=>{const[k,P,U]=v,Q=qa(P);k===this.userId&&s.path.isEqual(Q)?i=i.add(U):T.done()});r.push(m)}),ne.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=FE(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new En(o);return Ng(t).Z({range:u},(m,v,D)=>{const[T,k,P]=m,U=qa(k);T===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(P)):D.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Fu(t).get(s).next(u=>{if(null===u)throw Ze();ct(u.userId===this.userId),i.push(Kh(this.yt,u))}))}),ne.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return aN(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ne.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ne.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ng(t).Z({range:i},(s,u,h)=>{if(s[0]===this.userId){const m=qa(s[1]);r.push(m)}else h.done()}).next(()=>{ct(0===r.length)})})}containsKey(t,e){return lN(t,this.userId,e)}Rn(t){return cN(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lN(n,t,e){const i=FE(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return Ng(n).Z({range:s,X:!0},(h,m,v)=>{const[D,T,k]=h;D===t&&T===r&&(u=!0),v.done()}).next(()=>u)}function Fu(n){return Ji(n,"mutations")}function Ng(n){return Ji(n,"documentMutations")}function cN(n){return Ji(n,"mutationQueues")}class Jh{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Jh(0)}static vn(){return new Jh(-1)}}class t3{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Jh(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>f.fromTimestamp(new d(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Lg(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(ct(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Lg(t).Z((u,h)=>{const m=Yb(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(t,m)))}).next(()=>ne.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Lg(t).Z((i,r)=>{const s=Yb(r);e(s)})}Vn(t){return uN(t).get("targetGlobalKey").next(e=>(ct(null!==e),e))}Sn(t,e){return uN(t).put("targetGlobalKey",e)}Dn(t,e){return Lg(t).put(YF(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=$h(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Lg(t).Z({range:r,index:"queryTargetsIndex"},(u,h,m)=>{const v=Yb(h);Nb(e,v.target)&&(s=v,m.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Nu(t);return e.forEach(u=>{const h=$r(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ne.waitFor(r)}removeMatchingKeys(t,e,i){const r=Nu(t);return ne.forEach(e,s=>{const u=$r(s.path);return ne.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nu(t);let s=Ht();return r.Z({range:i,X:!0},(u,h,m)=>{const v=qa(u[1]),D=new I(v);s=s.add(D)}).next(()=>s)}containsKey(t,e){const i=$r(e.path),r=IDBKeyRange.bound([i],[c(i)],!1,!0);let s=0;return Nu(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],m,v)=>{0!==u&&(s++,v.done())}).next(()=>s>0)}ne(t,e){return Lg(t).get(e).next(i=>i?Yb(i):null)}}function Lg(n){return Ji(n,"targets")}function uN(n){return Ji(n,"targetGlobal")}function Nu(n){return Ji(n,"targetDocuments")}function dN([n,t],[e,i]){const r=o(n,e);return 0===r?o(t,i):r}class n3{constructor(t){this.xn=t,this.buffer=new En(dN),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();dN(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class r3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Ae("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Y.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){mo(i)?Ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tr(i)}yield e.Fn(3e5)}))}}class s3{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ne.resolve(Vs.at);const i=new n3(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(oN)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oN):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,s,u,h,m,v;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,u=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(t,i,e))).next(T=>(s=T,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(v=Date.now(),Mb()<=Rs.in.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(m-h)+`ms\n\tRemoved ${T} documents in `+(v-m)+`ms\nTotal Duration: ${v-D}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:T})))}}class o3{constructor(t,e){this.db=t,this.garbageCollector=new s3(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return zE(t,i)}removeReference(t,e,i){return zE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return zE(t,e)}Gn(t,e){return function(i,r){let s=!1;return cN(i).tt(u=>lN(i,u,r).next(h=>(h&&(s=!0),ne.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(u,h)=>{if(h<=e){const m=this.Gn(t,u).next(v=>{if(!v)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,f.min()),Nu(t).delete([0,$r(u.path)])))});r.push(m)}}).next(()=>ne.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return zE(t,e)}Kn(t,e){const i=Nu(t);let r,s=Vs.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:v})=>{0===u?(s!==Vs.at&&e(new I(qa(r)),s),s=v,r=m):s=Vs.at}).next(()=>{s!==Vs.at&&e(new I(qa(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function zE(n,t){return Nu(n).put((i=n.currentSequenceNumber,{targetId:0,path:$r(t.path),sequenceNumber:i}));var i}class hN{constructor(){this.changes=new Ru(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ne.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class a3{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ef(t).put(i)}removeEntry(t,e,i){return ef(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],NE(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Ln.newInvalidDocument(e);return ef(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jb(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:Ln.newInvalidDocument(e)};return ef(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jb(e))},(r,s)=>{i={document:this.jn(e,s),size:HE(s)}}).next(()=>i)}getEntries(t,e){let i=cs();return this.zn(t,e,(r,s)=>{const u=this.jn(r,s);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=cs(),r=new li(I.comparator);return this.zn(t,e,(s,u)=>{const h=this.jn(s,u);i=i.insert(s,h),r=r.insert(s,HE(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ne.resolve();let r=new En(gN);e.forEach(m=>r=r.add(m));const s=IDBKeyRange.bound(Jb(r.first()),Jb(r.last())),u=r.getIterator();let h=u.getNext();return ef(t).Z({index:"documentKeyIndex",range:s},(m,v,D)=>{const T=I.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&gN(h,T)<0;)i(h,null),h=u.getNext();h&&h.isEqual(T)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?D.j(Jb(h)):D.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,u=[s.popLast().toArray(),s.lastSegment(),NE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ef(t).W(IDBKeyRange.bound(u,h,!0)).next(m=>{let v=cs();for(const D of m){const T=this.jn(I.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);T.isFoundDocument()&&(Bb(e,T)||r.has(T.key))&&(v=v.insert(T.key,T))}return v})}getAllFromCollectionGroup(t,e,i,r){let s=cs();const u=mN(e,i),h=mN(e,tt.max());return ef(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,v,D)=>{const T=this.jn(I.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(T.key,T),s.size===r&&D.done()}).next(()=>s)}newChangeBuffer(t){return new l3(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return pN(t).get("remoteDocumentGlobalKey").next(e=>(ct(!!e),e))}Qn(t,e){return pN(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function Gj(n,t){let e;if(t.document)e=PF(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=I.fromSegments(t.noDocument.path),r=Zh(t.noDocument.readTime);e=Ln.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ze();{const i=I.fromSegments(t.unknownDocument.path),r=Zh(t.unknownDocument.version);e=Ln.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new d(i[0],i[1]);return f.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(f.min()))return i}return Ln.newInvalidDocument(t)}}function fN(n){return new a3(n)}class l3 extends hN{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Ru(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new En((s,u)=>o(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,h.readTime)),u.isValidDocument()){const m=WF(this.Yn.yt,u);r=r.add(s.path.popLast()),i+=HE(m)-h.size,e.push(this.Yn.addEntry(t,s,m))}else if(i-=h.size,this.trackRemovals){const m=WF(this.Yn.yt,u.convertToNoDocument(f.min()));e.push(this.Yn.addEntry(t,s,m))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),ne.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function pN(n){return Ji(n,"remoteDocumentGlobal")}function ef(n){return Ji(n,"remoteDocumentsV14")}function Jb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mN(n,t){const e=t.documentKey.path.toArray();return[n,NE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function gN(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=o(e[s],i[s]),r)return r;return r=o(e.length,i.length),r||(r=o(e[e.length-2],i[i.length-2]),r||o(e[e.length-1],i[i.length-1]))}class c3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _N{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Ub(i.mutation,r,ls.empty(),d.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ht()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ht()){const r=$a();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=Hb();return s.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=$a();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ht()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let s=cs();const u=jb(),h=jb();return e.forEach((m,v)=>{const D=i.get(v.key);r.has(v.key)&&(void 0===D||D.mutation instanceof Kl)?s=s.insert(v.key,v):void 0!==D?(u.set(v.key,D.mutation.getFieldMask()),Ub(D.mutation,v,D.mutation.getFieldMask(),d.now())):u.set(v.key,ls.empty())}),this.recalculateAndSaveOverlays(t,s).next(m=>(m.forEach((v,D)=>u.set(v,D)),e.forEach((v,D)=>{var T;return h.set(v,new c3(D,null!==(T=u.get(v))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(t,e){const i=jb();let r=new li((u,h)=>u-h),s=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let D=i.get(m)||ls.empty();D=h.applyToLocalView(v,D),i.set(m,D);const T=(r.get(h.batchId)||Ht()).add(m);r=r.insert(h.batchId,T)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,D=m.value,T=DF();D.forEach(k=>{if(!s.has(k)){const P=pF(e.get(k),i.get(k));null!==P&&T.set(k,P),s=s.add(k)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,T))}return ne.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return I.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):sA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ne.resolve($a());let h=-1,m=s;return u.next(v=>ne.forEach(v,(D,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),s.get(D)?ne.resolve():this.remoteDocumentCache.getEntry(t,D).next(k=>{m=m.insert(D,k)}))).next(()=>this.populateOverlays(t,v,s)).next(()=>this.computeViews(t,m,v,Ht())).next(D=>({batchId:h,changes:CF(D)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new I(e)).next(i=>{let r=Hb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Hb();return this.indexManager.getCollectionParents(t,r).next(u=>ne.forEach(u,h=>{const m=(v=e,D=h.child(r),new Zl(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(v=>{v.forEach((D,T)=>{s=s.insert(D,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((h,m)=>{const v=m.getKey();null===s.get(v)&&(s=s.insert(v,Ln.newInvalidDocument(v)))});let u=Hb();return s.forEach((h,m)=>{const v=r.get(h);void 0!==v&&Ub(v.mutation,m,ls.empty(),d.now()),Bb(e,m)&&(u=u.insert(h,m))}),u})}}class u3{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ne.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:_i(i.createTime)}),ne.resolve()}getNamedQuery(t,e){return ne.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:_A(i.bundledQuery),readTime:_i(i.readTime)}),ne.resolve();var i}}class d3{constructor(){this.overlays=new li(I.comparator),this.es=new Map}getOverlay(t,e){return ne.resolve(this.overlays.get(e))}getOverlays(t,e){const i=$a();return ne.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.oe(t,e,s)}),ne.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ne.resolve()}getOverlaysForCollection(t,e,i){const r=$a(),s=e.length+1,u=new I(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ne.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new li((v,D)=>v-D);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let D=s.get(v.largestBatchId);null===D&&(D=$a(),s=s.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const h=$a(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,D)=>h.set(v,D)),!(h.size()>=r)););return ne.resolve(h)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new gA(e,i));let s=this.es.get(e);void 0===s&&(s=Ht(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class EA{constructor(){this.ns=new En(er.ss),this.rs=new En(er.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new er(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new er(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new I(new y([])),i=new er(e,t),r=new er(e,t+1),s=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new I(new y([])),i=new er(e,t),r=new er(e,t+1);let s=Ht();return this.rs.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new er(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class er{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return I.comparator(t.key,e.key)||o(t._s,e._s)}static os(t,e){return o(t._s,e._s)||I.comparator(t.key,e.key)}}class h3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new En(er.ss)}checkEmpty(t){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const u=new pA(s,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new er(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(t,e){return ne.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new er(e,0),r=new er(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);s.push(h)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new En(o);return e.forEach(r=>{const s=new er(r,0),u=new er(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],h=>{i=i.add(h._s)})}),ne.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;I.isDocumentKey(s)||(s=s.child(""));const u=new er(new I(s),0);let h=new En(o);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m._s)),!0)},u),ne.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ct(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ne.forEach(e.mutations,r=>{const s=new er(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new er(e,0),r=this.gs.firstAfterOrEqual(i);return ne.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ne.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class f3{constructor(t){this.Es=t,this.docs=new li(I.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ne.resolve(i?i.document.mutableCopy():Ln.newInvalidDocument(e))}getEntries(t,e){let i=cs();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ln.newInvalidDocument(r))}),ne.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=cs();const u=e.path,h=new I(u.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:D}}=m.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||zt(ye(D),i)<=0||(r.has(D.key)||Bb(e,D))&&(s=s.insert(D.key,D.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Ze()}As(t,e){return ne.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new p3(this)}getSize(t){return ne.resolve(this.size)}}class p3 extends hN{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ne.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class m3{constructor(t){this.persistence=t,this.Rs=new Ru(e=>$h(e),Nb),this.lastRemoteSnapshotVersion=f.min(),this.highestTargetId=0,this.bs=0,this.Ps=new EA,this.targetCount=0,this.vs=Jh.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ne.resolve()}getLastRemoteSnapshotVersion(t){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ne.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ne.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Jh(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ne.resolve()}updateTargetData(t,e){return this.Dn(e),ne.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ne.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ne.waitFor(s).next(()=>r)}getTargetCount(t){return ne.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ne.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ne.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),ne.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ne.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ne.resolve(i)}containsKey(t,e){return ne.resolve(this.Ps.containsKey(e))}}class yN{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Vs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new m3(this),this.indexManager=new Jj,this.remoteDocumentCache=new f3(i=>this.referenceDelegate.xs(i)),this.yt=new qF(e),this.Ns=new u3(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new d3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new h3(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ae("MemoryPersistence","Starting transaction:",t);const r=new g3(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return ne.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class g3 extends Ir{constructor(t){super(),this.currentSequenceNumber=t}}class $E{constructor(t){this.persistence=t,this.Fs=new EA,this.$s=null}static Bs(t){return new $E(t)}get Ls(){if(this.$s)return this.$s;throw Ze()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ne.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ne.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ls,i=>{const r=I.fromPath(i);return this.qs(t,r).next(s=>{s||e.removeEntry(r,f.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return ne.or([()=>ne.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class _3{constructor(t){this.yt=t}$(t,e,i,r){const s=new Tu("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HF,{unique:!0}),h.createObjectStore("documentMutations"),vN(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ne.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),vN(t)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:f.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HF,{unique:!0});const D=m.store("mutations"),T=v.map(k=>D.put(k));return ne.waitFor(T)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Us(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(s))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:Uj});m.createIndex("collectionPathOverlayIndex",Hj,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",jj,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:xj});m.createIndex("documentKeyIndex",Aj),m.createIndex("collectionGroupIndex",kj)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Nj}).createIndex("sequenceNumberIndex",Lj,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Bj}).createIndex("documentKeyIndex",Vj,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=HE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ne.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ne.forEach(h,m=>{ct(m.userId===s.userId);const v=Kh(this.yt,m);return aN(t,s.userId,v).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,h)=>{const m=new y(u),v=[0,$r(m)];s.push(e.get(v).next(D=>D?ne.resolve():e.put({targetId:0,path:$r(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ne.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:Fj});const i=e.store("collectionParents"),r=new DA,s=u=>{if(r.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:$r(m)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const m=new y(u);return s(m.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,m],v)=>{const D=qa(h);return s(D.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=Yb(r),u=YF(this.yt,s);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const h=e.store("remoteDocumentsV14"),m=(v=u,v.document?new I(y.fromString(v.document.name).popFirst(5)):v.noDocument?I.fromSegments(v.noDocument.path):v.unknownDocument?I.fromSegments(v.unknownDocument.path):Ze()).path.toArray();var v;const D={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(D))}).next(()=>ne.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=fN(this.yt),s=new yN($E.Bs,this.yt.ie);return i.W().next(u=>{const h=new Map;return u.forEach(m=>{var v;let D=null!==(v=h.get(m.userId))&&void 0!==v?v:Ht();Kh(this.yt,m).keys().forEach(T=>D=D.add(T)),h.set(m.userId,D)}),ne.forEach(h,(m,v)=>{const D=new mi(v),T=LE.re(this.yt,D),k=s.getIndexManager(D),P=jE.re(D,this.yt,k,s.referenceDelegate);return new _N(r,P,T,k).recalculateAndSaveOverlaysForDocumentKeys(new fA(e,Vs.at),m).next()})})}}function vN(n){n.createObjectStore("targetDocuments",{keyPath:Oj}).createIndex("documentTargetsIndex",Pj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rj,{unique:!0}),n.createObjectStore("targetGlobal")}const IA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TA{constructor(t,e,i,r,s,u,h,m,v,D,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=u,this.document=h,this.Js=v,this.Ys=D,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!TA.C())throw new Ie(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new o3(this,r),this.ii=e+"main",this.yt=new qF(m),this.ri=new jr(this.ii,this.Xs,new _3(this.yt)),this.Cs=new t3(this.referenceDelegate,this.yt),this.remoteDocumentCache=fN(this.yt),this.Ns=new qj,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Nn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(re.FAILED_PRECONDITION,IA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Vs(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Y.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Y.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Y.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>GE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(mo(t))return Ae("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return e0(t).get("owner").next(e=>ne.resolve(this.mi(e)))}gi(t){return GE(t).delete(this.clientId)}yi(){var t=this;return(0,Y.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ji(i,"clientMetadata");return r.W().next(s=>{const u=t.Ii(s,18e5),h=s.filter(m=>-1===u.indexOf(m));return ne.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ne.resolve(!0):e0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ie(re.FAILED_PRECONDITION,IA);return!1}}return!(!this.networkEnabled||!this.inForeground)||GE(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ae("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Y.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new fA(e,Vs.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>GE(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return jE.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new e3(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return LE.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ae("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.Xs)?$j:14===u?GF:13===u?$F:12===u?zj:11===u?zF:void Ze();var u;let h;return this.ri.runTransaction(t,r,s,m=>(h=new fA(m,this.Ss?this.Ss.next():Vs.at),"readwrite-primary"===e?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw Nn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ie(re.FAILED_PRECONDITION,on);return i(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Vi(t){return e0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(re.FAILED_PRECONDITION,IA)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return e0(t).put("owner",e)}static C(){return jr.C()}_i(t){const e=e0(t);return e.get("owner").next(i=>this.mi(i)?(Ae("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ne.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Nn(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ae("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Nn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Nn("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(t){}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function e0(n){return Ji(n,"owner")}function GE(n){return Ji(n,"clientMetadata")}function MA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class SA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Ht(),r=Ht();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new SA(t,e.fromCache,i,r)}}class bN{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(nF(e))return ne.resolve(null);let i=zr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=xE(e,null,"F"),i=zr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=Ht(...s);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(m=>{const v=this.Fi(e,h);return this.$i(e,v,u,m.readTime)?this.ki(t,xE(e,null,"F")):this.Bi(t,v,e,m)}))})))}Oi(t,e,i,r){return nF(e)||r.isEqual(f.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const u=this.Fi(e,s);return this.$i(e,u,i,r)?this.Mi(t,e):(Mb()<=Rs.in.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aA(e)),this.Bi(t,u,e,et(r,-1)))})}Fi(t,e){let i=new En(sF(t));return e.forEach((r,s)=>{Bb(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return Mb()<=Rs.in.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",aA(e)),this.Ni.getDocumentsMatchingQuery(t,e,tt.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class y3{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new li(o),this.Ui=new Ru(s=>$h(s),Nb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _N(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function wN(n,t,e,i){return new y3(n,t,e,i)}function CN(n,t){return xA.apply(this,arguments)}function xA(){return xA=(0,Y.Z)(function*(n,t){const e=$e(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let m=Ht();for(const v of r){u.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}for(const v of s){h.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}return e.localDocuments.getDocuments(i,m).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),xA.apply(this,arguments)}function v3(n,t){const e=$e(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const D=m.batch,T=D.keys();let k=ne.resolve();return T.forEach(P=>{k=k.next(()=>v.getEntry(h,P)).next(U=>{const Q=m.docVersions.get(P);ct(null!==Q),U.version.compareTo(Q)<0&&(D.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),v.addEntry(U)))})}),k.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ht();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function DN(n){const t=$e(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function b3(n,t){const e=$e(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const h=[];t.targetChanges.forEach((D,T)=>{const k=r.get(T);if(!k)return;h.push(e.Cs.removeMatchingKeys(s,D.removedDocuments,T).next(()=>e.Cs.addMatchingKeys(s,D.addedDocuments,T)));let P=k.withSequenceNumber(s.currentSequenceNumber);var U,Q,ae;t.targetMismatches.has(T)?P=P.withResumeToken(Ui.EMPTY_BYTE_STRING,f.min()).withLastLimboFreeSnapshotVersion(f.min()):D.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(D.resumeToken,i)),r=r.insert(T,P),Q=P,ae=D,(0===(U=k).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(s,P))});let m=cs(),v=Ht();if(t.documentUpdates.forEach(D=>{t.resolvedLimboDocuments.has(D)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,D))}),h.push(EN(s,u,t.documentUpdates).next(D=>{m=D.Wi,v=D.zi})),!i.isEqual(f.min())){const D=e.Cs.getLastRemoteSnapshotVersion(s).next(T=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(D)}return ne.waitFor(h).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,m,v)).next(()=>m)}).then(s=>(e.qi=r,s))}function EN(n,t,e){let i=Ht(),r=Ht();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=cs();return e.forEach((h,m)=>{const v=s.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(f.min())?(t.removeEntry(h,m.readTime),u=u.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),u=u.insert(h,m)):Ae("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{Wi:u,zi:r}})}function w3(n,t){const e=$e(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Bg(n,t){const e=$e(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,ne.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new Ou(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function Vg(n,t,e){return AA.apply(this,arguments)}function AA(){return AA=(0,Y.Z)(function*(n,t,e){const i=$e(n),r=i.qi.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!mo(u))throw u;Ae("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),AA.apply(this,arguments)}function qE(n,t,e){const i=$e(n);let r=f.min(),s=Ht();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,v){const D=$e(h),T=D.Ui.get(v);return void 0!==T?ne.resolve(D.qi.get(T)):D.Cs.getTargetData(m,v)}(i,u,zr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{s=m})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:f.min(),e?s:Ht())).next(h=>(MN(i,rF(t),h),{documents:h,Hi:s})))}function IN(n,t){const e=$e(n),i=$e(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,t).next(u=>u?u.target:null))}function TN(n,t){const e=$e(n),i=e.Ki.get(t)||f.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,et(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(MN(e,t,r),r))}function MN(n,t,e){let i=n.Ki.get(t)||f.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function kA(){return kA=(0,Y.Z)(function*(n,t,e,i){const r=$e(n);let s=Ht(),u=cs();for(const v of e){const D=t.Ji(v.metadata.name);v.document&&(s=s.add(D));const T=t.Yi(v);T.setReadTime(t.Xi(v.metadata.readTime)),u=u.insert(D,T)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),m=yield Bg(r,(v=i,zr(Sg(y.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>EN(v,h,u).next(D=>(h.apply(v),D)).next(D=>r.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Cs.addMatchingKeys(v,s,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,D.Wi,D.zi)).next(()=>D.Wi)))}),kA.apply(this,arguments)}function D3(n,t){return RA.apply(this,arguments)}function RA(){return RA=(0,Y.Z)(function*(n,t,e=Ht()){const i=yield Bg(n,zr(_A(t.bundledQuery))),r=$e(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=_i(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(s,t);const h=i.withResumeToken(Ui.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(h.targetId,h),r.Cs.updateTargetData(s,h).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),RA.apply(this,arguments)}function SN(n,t){return`firestore_clients_${n}_${t}`}function xN(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function OA(n,t){return`firestore_targets_${n}_${t}`}class WE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ie(r.error.code,r.error.message))),u?new WE(t,e,r.state,s):(Nn("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class t0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ie(i.error.code,i.error.message))),s?new t0(t,i.state,r):(Nn("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class YE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=OE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=PP(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new YE(t,s):(Nn("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class PA{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new PA(e.clientId,e.onlineState):(Nn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class FA{constructor(){this.activeTargetIds=OE()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NA{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new li(o),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=SN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new FA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Y.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(SN(t.persistenceKey,r));if(s){const u=YE.Zi(r,s);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(OA(this.persistenceKey,t));if(i){const r=t0.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(OA(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ae("SharedClientState","READ",t,e),e}setItem(t,e){Ae("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ae("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ae("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Y.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let u=Vs.at;if(null!=s)try{const h=JSON.parse(s);ct("number"==typeof h),u=h}catch(h){Nn("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Vs.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new WE(this.currentUser,t,e,i),s=xN(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=xN(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=OA(this.persistenceKey,t),s=new t0(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return YE.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return WE.Zi(new mi(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return t0.Zi(r,e)}yr(t){return PA.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Y.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ae("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),u=[],h=[];return s.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{s.has(m)||h.push(m)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=OE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class AN{constructor(){this.Lr=new FA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new FA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class E3{Ur(t){}shutdown(){}}class kN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const I3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T3{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class M3 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const u=this.ho(t,e);Ae("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,s),this.fo(t,u,h,i).then(m=>(Ae("RestConnection","Received: ",m),m),m=>{throw Iu("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}_o(t,e,i,r,s,u){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${I3[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,u)=>{const h=new qx;h.setWithCredentials(!0),h.listenOnce(CP.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case vE.NO_ERROR:const v=h.getResponseJson();Ae("Connection","XHR received:",JSON.stringify(v)),s(v);break;case vE.TIMEOUT:Ae("Connection",'RPC "'+t+'" timed out'),u(new Ie(re.DEADLINE_EXCEEDED,"Request time out"));break;case vE.HTTP_ERROR:const D=h.getStatus();if(Ae("Connection",'RPC "'+t+'" failed with status:',D,"response text:",h.getResponseText()),D>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=null==T?void 0:T.error;if(k&&k.status&&k.message){const P=function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Q)>=0?Q:re.UNKNOWN}(k.status);u(new Ie(P,k.message))}else u(new Ie(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ie(re.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Ae("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);h.send(e,"POST",m,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=wg(),u=wP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Gx({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=r.join("");Ae("Connection","Creating WebChannel: "+m,h);const v=s.createWebChannel(m,h);let D=!1,T=!1;const k=new T3({Hr:U=>{T?Ae("Connection","Not sending because WebChannel is closed:",U):(D||(Ae("Connection","Opening WebChannel transport."),v.open(),D=!0),Ae("Connection","WebChannel sending:",U),v.send(U))},Jr:()=>v.close()}),P=(U,Q,ae)=>{U.listen(Q,Fe=>{try{ae(Fe)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return P(v,Cg.EventType.OPEN,()=>{T||Ae("Connection","WebChannel transport opened.")}),P(v,Cg.EventType.CLOSE,()=>{T||(T=!0,Ae("Connection","WebChannel transport closed"),k.io())}),P(v,Cg.EventType.ERROR,U=>{T||(T=!0,Iu("Connection","WebChannel transport errored:",U),k.io(new Ie(re.UNAVAILABLE,"The operation could not be completed")))}),P(v,Cg.EventType.MESSAGE,U=>{var Q;if(!T){const ae=U.data[0];ct(!!ae);const Fe=ae,Ye=Fe.error||(null===(Q=Fe[0])||void 0===Q?void 0:Q.error);if(Ye){Ae("Connection","WebChannel received error:",Ye);const it=Ye.status;let st=function(Tt){const en=Mi[Tt];if(void 0!==en)return bF(en)}(it),Et=Ye.message;void 0===st&&(st=re.INTERNAL,Et="Unknown error status: "+it+" with message "+Ye.message),T=!0,k.io(new Ie(st,Et)),v.close()}else Ae("Connection","WebChannel received:",ae),k.ro(ae)}}),P(u,DP.STAT_EVENT,U=>{U.stat===Tb.PROXY?Ae("Connection","Detected buffering proxy"):U.stat===Tb.NOPROXY&&Ae("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function RN(){return"undefined"!=typeof window?window:null}function ZE(){return"undefined"!=typeof document?document:null}function n0(n){return new _j(n,!0)}class LA{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ae("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ON{constructor(t,e,i,r,s,u,h,m){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new LA(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Y.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Y.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Y.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===re.RESOURCE_EXHAUSTED?(Nn(e.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===re.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ie(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,Y.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Ae("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S3 extends ON{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.yt=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function bj(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Ze(),r=t.targetChange.targetIds||[],s=function(m,v){return m.wt?(ct(void 0===v||"string"==typeof v),Ui.fromBase64String(v||"")):(ct(void 0===v||v instanceof Uint8Array),Ui.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const v=void 0===m.code?re.UNKNOWN:bF(m.code);return new Ie(v,m.message||"")}(u);e=new IF(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Ga(n,i.document.name),s=_i(i.document.updateTime),u=i.document.createTime?_i(i.document.createTime):f.min(),h=new mr({mapValue:{fields:i.document.fields}}),m=Ln.newFoundDocument(r,s,u,h);e=new PE(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=Ga(n,i.document),s=i.readTime?_i(i.readTime):f.min(),u=Ln.newNoDocument(r,s);e=new PE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Ga(n,i.document);e=new PE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ze();{const i=t.filter,s=new lj(i.count||0);e=new EF(i.targetId,s)}}var m;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return f.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?f.min():s.readTime?_i(s.readTime):f.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=qb(this.yt),e.addTarget=function(r,s){let u;const h=s.target;return u=TE(h)?{documents:FF(r,h)}:{query:hA(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=xF(r,s.resumeToken):s.snapshotVersion.compareTo(f.min())>0&&(u.readTime=Og(r,s.snapshotVersion.toTimestamp())),u}(this.yt,t);const i=function Cj(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ze()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=qb(this.yt),e.removeTarget=t,this.Bo(e)}}class x3 extends ON{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(ct(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function wj(n,t){return n&&n.length>0?(ct(void 0!==t),n.map(e=>function(i,r){let s=_i(i.updateTime?i.updateTime:r);return s.isEqual(f.min())&&(s=_i(r)),new sj(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=_i(t.commitTime);return this.listener.Zo(i,e)}return ct(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=qb(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Wb(this.yt,i))};this.Bo(e)}}class A3 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Ie(re.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(re.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(re.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class R3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Nn(e),this.ou=!1):Ae("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class O3{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(h=>{i.enqueueAndForget((0,Y.Z)(function*(){var m;Ql(u)&&(Ae("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Y.Z)(function*(v){const D=$e(v);D._u.add(4),yield Ug(D),D.gu.set("Unknown"),D._u.delete(4),yield r0(D)}),function(v){return m.apply(this,arguments)})(u))}))}),this.gu=new R3(i,r)}}function r0(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Y.Z)(function*(n){if(Ql(n))for(const t of n.wu)yield t(!0)}),VA.apply(this,arguments)}function Ug(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Y.Z)(function*(n){for(const t of n.wu)yield t(!1)}),UA.apply(this,arguments)}function KE(n,t){const e=$e(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),zA(e)?jA(e):jg(e).ko()&&HA(e,t))}function s0(n,t){const e=$e(n),i=jg(e);e.du.delete(t),i.ko()&&PN(e,t),0===e.du.size&&(i.ko()?i.Fo():Ql(e)&&e.gu.set("Unknown"))}function HA(n,t){n.yu.Ot(t.targetId),jg(n).zo(t)}function PN(n,t){n.yu.Ot(t),jg(n).Ho(t)}function jA(n){n.yu=new fj({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),jg(n).start(),n.gu.uu()}function zA(n){return Ql(n)&&!jg(n).No()&&n.du.size>0}function Ql(n){return 0===$e(n)._u.size}function FN(n){n.yu=void 0}function P3(n){return $A.apply(this,arguments)}function $A(){return $A=(0,Y.Z)(function*(n){n.du.forEach((t,e)=>{HA(n,t)})}),$A.apply(this,arguments)}function F3(n,t){return GA.apply(this,arguments)}function GA(){return GA=(0,Y.Z)(function*(n,t){FN(n),zA(n)?(n.gu.hu(t),jA(n)):n.gu.set("Unknown")}),GA.apply(this,arguments)}function N3(n,t,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Y.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof IF&&2===t.state&&t.cause)try{yield(i=(0,Y.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ae("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield QE(n,i)}else if(t instanceof PE?n.yu.Kt(t):t instanceof EF?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(f.min()))try{const i=yield DN(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.yu.Zt(s);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.du.get(m);v&&r.du.set(m,v.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const m=r.du.get(h);if(!m)return;r.du.set(h,m.withResumeToken(Ui.EMPTY_BYTE_STRING,m.snapshotVersion)),PN(r,h);const v=new Ou(m.target,h,1,m.sequenceNumber);HA(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ae("RemoteStore","Failed to raise snapshot:",i),yield QE(n,i)}var i}),qA.apply(this,arguments)}function QE(n,t,e){return WA.apply(this,arguments)}function WA(){return WA=(0,Y.Z)(function*(n,t,e){if(!mo(t))throw t;n._u.add(1),yield Ug(n),n.gu.set("Offline"),e||(e=()=>DN(n.localStore)),n.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){Ae("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield r0(n)}))}),WA.apply(this,arguments)}function NN(n,t){return t().catch(e=>QE(n,e,t))}function Hg(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Y.Z)(function*(n){const t=$e(n),e=Lu(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;L3(t);)try{const r=yield w3(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,B3(t,r)}catch(r){yield QE(t,r)}LN(t)&&BN(t)}),YA.apply(this,arguments)}function L3(n){return Ql(n)&&n.fu.length<10}function B3(n,t){n.fu.push(t);const e=Lu(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function LN(n){return Ql(n)&&!Lu(n).No()&&n.fu.length>0}function BN(n){Lu(n).start()}function V3(n){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Y.Z)(function*(n){Lu(n).eu()}),ZA.apply(this,arguments)}function U3(n){return KA.apply(this,arguments)}function KA(){return KA=(0,Y.Z)(function*(n){const t=Lu(n);for(const e of n.fu)t.Xo(e.mutations)}),KA.apply(this,arguments)}function H3(n,t,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Y.Z)(function*(n,t,e){const i=n.fu.shift(),r=mA.from(i,t,e);yield NN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Hg(n)}),QA.apply(this,arguments)}function j3(n,t){return XA.apply(this,arguments)}function XA(){return XA=(0,Y.Z)(function*(n,t){var e;t&&Lu(n).Yo&&(yield(e=(0,Y.Z)(function*(i,r){if(vF(s=r.code)&&s!==re.ABORTED){const u=i.fu.shift();Lu(i).Mo(),yield NN(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Hg(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),LN(n)&&BN(n)}),XA.apply(this,arguments)}function VN(n,t){return JA.apply(this,arguments)}function JA(){return JA=(0,Y.Z)(function*(n,t){const e=$e(n);e.asyncQueue.verifyOperationInProgress(),Ae("RemoteStore","RemoteStore received new credentials");const i=Ql(e);e._u.add(3),yield Ug(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield r0(e)}),JA.apply(this,arguments)}function ek(n,t){return tk.apply(this,arguments)}function tk(){return tk=(0,Y.Z)(function*(n,t){const e=$e(n);t?(e._u.delete(2),yield r0(e)):t||(e._u.add(2),yield Ug(e),e.gu.set("Unknown"))}),tk.apply(this,arguments)}function jg(n){return n.pu||(n.pu=function(t,e,i){const r=$e(t);return r.su(),new S3(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:P3.bind(null,n),Zr:F3.bind(null,n),Wo:N3.bind(null,n)}),n.wu.push(function(){var t=(0,Y.Z)(function*(e){e?(n.pu.Mo(),zA(n)?jA(n):n.gu.set("Unknown")):(yield n.pu.stop(),FN(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Lu(n){return n.Iu||(n.Iu=function(t,e,i){const r=$e(t);return r.su(),new x3(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:V3.bind(null,n),Zr:j3.bind(null,n),tu:U3.bind(null,n),Zo:H3.bind(null,n)}),n.wu.push(function(){var t=(0,Y.Z)(function*(e){e?(n.Iu.Mo(),yield Hg(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ae("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class nk{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new nk(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,t){if(Nn("AsyncQueue",`${t}: ${n}`),mo(n))return new Ie(re.UNAVAILABLE,`${t}: ${n}`);throw n}class $g{constructor(t){this.comparator=t?(e,i)=>t(e,i)||I.comparator(e.key,i.key):(e,i)=>I.comparator(e.key,i.key),this.keyedMap=Hb(),this.sortedSet=new li(this.comparator)}static emptySet(t){return new $g(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $g)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new $g;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class UN{constructor(){this.Tu=new li(I.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Ze():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Gg{constructor(t,e,i,r,s,u,h,m,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new Gg(t,e,$g.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class z3{constructor(){this.Au=void 0,this.listeners=[]}}class $3{constructor(){this.queries=new Ru(t=>iF(t),Lb),this.onlineState="Unknown",this.Ru=new Set}}function ik(n,t){return rk.apply(this,arguments)}function rk(){return rk=(0,Y.Z)(function*(n,t){const e=$e(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new z3),r)try{s.Au=yield e.onListen(i)}catch(u){const h=zg(u,`Initialization of query '${aA(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&ak(e)}),rk.apply(this,arguments)}function sk(n,t){return ok.apply(this,arguments)}function ok(){return ok=(0,Y.Z)(function*(n,t){const e=$e(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),ok.apply(this,arguments)}function G3(n,t){const e=$e(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&ak(e)}function q3(n,t,e){const i=$e(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function ak(n){n.Ru.forEach(t=>{t.next()})}class lk{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Gg(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Gg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class W3{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class HN{constructor(t){this.yt=t}Ji(t){return Ga(this.yt,t)}Yi(t){return t.metadata.exists?PF(this.yt,t.document,!1):Ln.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return _i(t)}}class Y3{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jN(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=y.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new HN(this.yt);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Ht()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,Y.Z)(function*(){const e=yield function C3(n,t,e,i){return kA.apply(this,arguments)}(t.localStore,new HN(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield D3(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function jN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zN{constructor(t){this.key=t}}class $N{constructor(t){this.key=t}}class GN{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ht(),this.mutatedKeys=Ht(),this.Gu=sF(t),this.Qu=new $g(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new UN,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,T)=>{const k=r.get(D),P=Bb(this.query,T)?T:null,U=!!k&&this.mutatedKeys.has(k.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ae=!1;k&&P?k.data.isEqual(P.data)?U!==Q&&(i.track({type:3,doc:P}),ae=!0):this.Hu(k,P)||(i.track({type:2,doc:P}),ae=!0,(m&&this.Gu(P,m)>0||v&&this.Gu(P,v)<0)&&(h=!0)):!k&&P?(i.track({type:0,doc:P}),ae=!0):k&&!P&&(i.track({type:1,doc:k}),ae=!0,(m||v)&&(h=!0)),ae&&(P?(u=u.add(P),s=Q?s.add(D):s.delete(D)):(u=u.delete(D),s=s.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),s=s.delete(D.key),i.track({type:1,doc:D})}return{Qu:u,zu:i,$i:h,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((v,D)=>function(T,k){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return P(T)-P(k)}(v.type,D.type)||this.Gu(v.doc,D.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,m=h!==this.Uu;return this.Uu=h,0!==s.length||m?{snapshot:new Gg(this.query,t.Qu,r,s,t.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new UN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Ht(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new $N(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new zN(i))}),e}tc(t){this.qu=t.Hi,this.Ku=Ht();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Gg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Z3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class K3{constructor(t){this.key=t,this.nc=!1}}class Q3{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Ru(h=>iF(h),Lb),this.rc=new Map,this.oc=new Set,this.uc=new li(I.comparator),this.cc=new Map,this.ac=new EA,this.hc={},this.lc=new Map,this.fc=Jh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function X3(n,t){return ck.apply(this,arguments)}function ck(){return ck=(0,Y.Z)(function*(n,t){const e=Rk(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const u=yield Bg(e.localStore,zr(t));e.isPrimaryClient&&KE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield uk(e,t,i,"current"===h,u.resumeToken)}return r}),ck.apply(this,arguments)}function uk(n,t,e,i,r){return dk.apply(this,arguments)}function dk(){return dk=(0,Y.Z)(function*(n,t,e,i,r){n._c=(T,k,P)=>{return(U=(0,Y.Z)(function*(Q,ae,Fe,Ye){let it=ae.view.Wu(Fe);it.$i&&(it=yield qE(Q.localStore,ae.query,!1).then(({documents:Tt})=>ae.view.Wu(Tt,it)));const st=Ye&&Ye.targetChanges.get(ae.targetId),Et=ae.view.applyChanges(it,Q.isPrimaryClient,st);return wk(Q,ae.targetId,Et.Xu),Et.snapshot}),function(Q,ae,Fe,Ye){return U.apply(this,arguments)})(n,T,k,P);var U};const s=yield qE(n.localStore,t,!0),u=new GN(t,s.Hi),h=u.Wu(s.documents),m=$b.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(h,n.isPrimaryClient,m);wk(n,e,v.Xu);const D=new Z3(t,e,u);return n.ic.set(t,D),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),v.snapshot}),dk.apply(this,arguments)}function J3(n,t){return hk.apply(this,arguments)}function hk(){return hk=(0,Y.Z)(function*(n,t){const e=$e(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!Lb(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vg(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),s0(e.remoteStore,i.targetId),qg(e,i.targetId)}).catch(Tr))):(qg(e,i.targetId),yield Vg(e.localStore,i.targetId,!0))}),hk.apply(this,arguments)}function fk(){return fk=(0,Y.Z)(function*(n,t,e){const i=Ok(n);try{const r=yield function(s,u){const h=$e(s),m=d.now(),v=u.reduce((k,P)=>k.add(P.key),Ht());let D,T;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let P=cs(),U=Ht();return h.Gi.getEntries(k,v).next(Q=>{P=Q,P.forEach((ae,Fe)=>{Fe.isValidDocument()||(U=U.add(ae))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,P)).next(Q=>{D=Q;const ae=[];for(const Fe of u){const Ye=aj(Fe,D.get(Fe.key).overlayedDocument);null!=Ye&&ae.push(new Kl(Fe.key,Ye,XP(Ye.value.mapValue),Wn.exists(!0)))}return h.mutationQueue.addMutationBatch(k,m,ae,u)}).next(Q=>{T=Q;const ae=Q.applyToLocalDocumentSet(D,U);return h.documentOverlayCache.saveOverlays(k,Q.batchId,ae)})}).then(()=>({batchId:T.batchId,changes:CF(D)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let m=s.hc[s.currentUser.toKey()];m||(m=new li(o)),m=m.insert(u,h),s.hc[s.currentUser.toKey()]=m}(i,r.batchId,e),yield Xl(i,r.changes),yield Hg(i.remoteStore)}catch(r){const s=zg(r,"Failed to persist write");e.reject(s)}}),fk.apply(this,arguments)}function qN(n,t){return pk.apply(this,arguments)}function pk(){return pk=(0,Y.Z)(function*(n,t){const e=$e(n);try{const i=yield b3(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.cc.get(s);u&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?ct(u.nc):r.removedDocuments.size>0&&(ct(u.nc),u.nc=!1))}),yield Xl(e,i,t)}catch(i){yield Tr(i)}}),pk.apply(this,arguments)}function WN(n,t,e){const i=$e(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=$e(s);h.onlineState=u;let m=!1;h.queries.forEach((v,D)=>{for(const T of D.listeners)T.bu(u)&&(m=!0)}),m&&ak(h)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function tz(n,t,e){return mk.apply(this,arguments)}function mk(){return mk=(0,Y.Z)(function*(n,t,e){const i=$e(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let u=new li(I.comparator);u=u.insert(s,Ln.newNoDocument(s,f.min()));const h=Ht().add(s),m=new zb(f.min(),new Map,new En(o),u,h);yield qN(i,m),i.uc=i.uc.remove(s),i.cc.delete(t),Ck(i)}else yield Vg(i.localStore,t,!1).then(()=>qg(i,t,e)).catch(Tr)}),mk.apply(this,arguments)}function nz(n,t){return gk.apply(this,arguments)}function gk(){return gk=(0,Y.Z)(function*(n,t){const e=$e(n),i=t.batch.batchId;try{const r=yield v3(e.localStore,t);bk(e,i,null),vk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Xl(e,r)}catch(r){yield Tr(r)}}),gk.apply(this,arguments)}function iz(n,t,e){return _k.apply(this,arguments)}function _k(){return _k=(0,Y.Z)(function*(n,t,e){const i=$e(n);try{const r=yield function(s,u){const h=$e(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,u).next(D=>(ct(null!==D),v=D.keys(),h.mutationQueue.removeMutationBatch(m,D))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,t);bk(i,t,e),vk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Xl(i,r)}catch(r){yield Tr(r)}}),_k.apply(this,arguments)}function yk(){return yk=(0,Y.Z)(function*(n,t){const e=$e(n);Ql(e.remoteStore)||Ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=$e(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=zg(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),yk.apply(this,arguments)}function vk(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function bk(n,t,e){const i=$e(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function qg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||YN(n,i)})}function YN(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(s0(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),Ck(n))}function wk(n,t,e){for(const i of e)i instanceof zN?(n.ac.addReference(i.key,t),sz(n,i)):i instanceof $N?(Ae("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||YN(n,i.key)):Ze()}function sz(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Ae("SyncEngine","New document in limbo: "+e),n.oc.add(i),Ck(n))}function Ck(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new I(y.fromString(t)),i=n.fc.next();n.cc.set(i,new K3(e)),n.uc=n.uc.insert(e,i),KE(n.remoteStore,new Ou(zr(Sg(e.path)),i,2,Vs.at))}}function Xl(n,t,e){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Y.Z)(function*(n,t,e){const i=$e(n),r=[],s=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,m)=>{u.push(i._c(m,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,(null==v?void 0:v.fromCache)?"not-current":"current"),v){r.push(v);const D=SA.Ci(m.targetId,v);s.push(D)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(h=(0,Y.Z)(function*(m,v){const D=$e(m);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(v,k=>ne.forEach(k.Si,P=>D.persistence.referenceDelegate.addReference(T,k.targetId,P)).next(()=>ne.forEach(k.Di,P=>D.persistence.referenceDelegate.removeReference(T,k.targetId,P)))))}catch(T){if(!mo(T))throw T;Ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const k=T.targetId;if(!T.fromCache){const P=D.qi.get(k),Q=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);D.qi=D.qi.insert(k,Q)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,s))}),Dk.apply(this,arguments)}function oz(n,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Y.Z)(function*(n,t){const e=$e(n);if(!e.currentUser.isEqual(t)){Ae("SyncEngine","User change. New user:",t.toKey());const i=yield CN(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new Ie(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Xl(e,i.ji)}var r}),Ek.apply(this,arguments)}function az(n,t){const e=$e(n),i=e.cc.get(t);if(i&&i.nc)return Ht().add(i.key);{let r=Ht();const s=e.rc.get(t);if(!s)return r;for(const u of s){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function lz(n,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Y.Z)(function*(n,t){const e=$e(n),i=yield qE(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&wk(e,t.targetId,r.Xu),r}),Ik.apply(this,arguments)}function cz(n,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Y.Z)(function*(n,t){const e=$e(n);return TN(e.localStore,t).then(i=>Xl(e,i))}),Tk.apply(this,arguments)}function uz(n,t,e,i){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,Y.Z)(function*(n,t,e,i){const r=$e(n),s=yield function(u,h){const m=$e(u),v=$e(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.Tn(D,h).next(T=>T?m.localDocuments.getDocuments(D,T):ne.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield Hg(r.remoteStore):"acknowledged"===e||"rejected"===e?(bk(r,t,i||null),vk(r,t),h=t,$e($e(r.localStore).mutationQueue).An(h)):Ze(),yield Xl(r,s)):Ae("SyncEngine","Cannot apply mutation batch with id: "+t)}),Mk.apply(this,arguments)}function Sk(){return Sk=(0,Y.Z)(function*(n,t){const e=$e(n);if(Rk(e),Ok(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield ZN(e,i.toArray());e.dc=!0,yield ek(e.remoteStore,!0);for(const s of r)KE(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(qg(e,u),Vg(e.localStore,u,!0))),s0(e.remoteStore,u)}),yield r,yield ZN(e,i),function(s){const u=$e(s);u.cc.forEach((h,m)=>{s0(u.remoteStore,m)}),u.ac.fs(),u.cc=new Map,u.uc=new li(I.comparator)}(e),e.dc=!1,yield ek(e.remoteStore,!1)}}),Sk.apply(this,arguments)}function ZN(n,t,e){return xk.apply(this,arguments)}function xk(){return xk=(0,Y.Z)(function*(n,t,e){const i=$e(n),r=[],s=[];for(const u of t){let h;const m=i.rc.get(u);if(m&&0!==m.length){h=yield Bg(i.localStore,zr(m[0]));for(const v of m){const D=i.ic.get(v),T=yield lz(i,D);T.snapshot&&s.push(T.snapshot)}}else{const v=yield IN(i.localStore,u);h=yield Bg(i.localStore,v),yield uk(i,KN(v),u,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(s),r}),xk.apply(this,arguments)}function KN(n){return tF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hz(n){const t=$e(n);return $e($e(t.localStore).persistence).vi()}function fz(n,t,e,i){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Y.Z)(function*(n,t,e,i){const r=$e(n);if(r.dc)return void Ae("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield TN(r.localStore,rF(s[0])),h=zb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ui.EMPTY_BYTE_STRING);yield Xl(r,u,h);break}case"rejected":yield Vg(r.localStore,t,!0),qg(r,t,i);break;default:Ze()}}),Ak.apply(this,arguments)}function pz(n,t,e){return kk.apply(this,arguments)}function kk(){return kk=(0,Y.Z)(function*(n,t,e){const i=Rk(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Ae("SyncEngine","Adding an already active target "+r);continue}const s=yield IN(i.localStore,r),u=yield Bg(i.localStore,s);yield uk(i,KN(s),u.targetId,!1,u.resumeToken),KE(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield Vg(i.localStore,r,!1).then(()=>{s0(i.remoteStore,r),qg(i,r)}).catch(Tr))}}),kk.apply(this,arguments)}function Rk(n){const t=$e(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=az.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tz.bind(null,t),t.sc.Wo=G3.bind(null,t.eventManager),t.sc.wc=q3.bind(null,t.eventManager),t}function Ok(n){const t=$e(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iz.bind(null,t),t}class QN{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Y.Z)(function*(){e.yt=n0(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return wN(this.persistence,new bN,t.initialUser,this.yt)}yc(t){return new yN($E.Bs,this.yt)}gc(t){return new AN}terminate(){var t=this;return(0,Y.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class XN extends QN{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Ok(i.Ac.syncEngine),yield Hg(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return wN(this.persistence,new bN,t.initialUser,this.yt)}Tc(t,e){return new r3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new HH(e,this.persistence);return new UH(t.asyncQueue,i)}yc(t){const e=MA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new TA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,RN(),ZE(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new AN}}class gz extends XN{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof NA&&(i.sharedClientState.syncEngine={Fr:uz.bind(null,r),$r:fz.bind(null,r),Br:pz.bind(null,r),vi:hz.bind(null,r),Mr:cz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Y.Z)(function*(u){yield function dz(n,t){return Sk.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(t){const e=RN();if(!NA.C(e))throw new Ie(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=MA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new NA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Pk{initialize(t,e){var i=this;return(0,Y.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>WN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=oz.bind(null,i.syncEngine),yield ek(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new $3}createDatastore(t){const e=n0(t.databaseInfo.databaseId),i=new M3(t.databaseInfo);return new A3(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>WN(this.syncEngine,h,0),u=kN.C()?new kN:new E3,new O3(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,m,v){const D=new Q3(i,r,s,u,h,m);return v&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Y.Z)(function*(e){const i=$e(e);Ae("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Ug(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Fk(n,t,e){if(!e)throw new Ie(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function JN(n,t,e,i){if(!0===t&&!0===i)throw new Ie(re.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function eL(n){if(!I.isDocumentKey(n))throw new Ie(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tL(n){if(I.isDocumentKey(n))throw new Ie(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Ze()}function Xt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=XE(n);throw new Ie(re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function nL(n,t){if(t<=0)throw new Ie(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const iL=new Map;class rL{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,JN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class o0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rL(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new EP;switch(e.type){case"gapi":return new SP(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ie(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=iL.get(t);e&&(Ae("ComponentProvider","Removing Datastore"),iL.delete(t),e.terminate())}(this),Promise.resolve()}}function sL(n,t,e,i={}){var r;const s=(n=Xt(n,o0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=mi.MOCK_USER;else{u=(0,pt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ie(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mi(m)}n._authCredentials=new IP(new wE(u,h))}}class Bn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bn(this.firestore,t,this._key)}}class gr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new gr(this.firestore,t,this._query)}}class Wa extends gr{constructor(t,e,i){super(t,e,Sg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bn(this.firestore,null,new I(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function oL(n,t,...e){if(n=(0,pt.m9)(n),Fk("collection","path",t),n instanceof o0){const i=y.fromString(t,...e);return tL(i),new Wa(n,null,i)}{if(!(n instanceof Bn||n instanceof Wa))throw new Ie(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(y.fromString(t,...e));return tL(i),new Wa(n.firestore,null,i)}}function JE(n,t,...e){if(n=(0,pt.m9)(n),1===arguments.length&&(t=Zx.R()),Fk("doc","path",t),n instanceof o0){const i=y.fromString(t,...e);return eL(i),new Bn(n,null,new I(i))}{if(!(n instanceof Bn||n instanceof Wa))throw new Ie(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(y.fromString(t,...e));return eL(i),new Bn(n.firestore,n instanceof Wa?n.converter:null,new I(i))}}function aL(n,t){return n=(0,pt.m9)(n),t=(0,pt.m9)(t),(n instanceof Bn||n instanceof Wa)&&(t instanceof Bn||t instanceof Wa)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Nk(n,t){return n=(0,pt.m9)(n),t=(0,pt.m9)(t),n instanceof gr&&t instanceof gr&&n.firestore===t.firestore&&Lb(n._query,t._query)&&n.converter===t.converter}function lL(n,t=10240){let e=0;return{read:()=>(0,Y.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Nn("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class yz{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new gi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Y.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Y.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Y.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new W3(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Y.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Y.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Y.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class wz{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Y.Z)(function*(s,u){const h=$e(s),m=qb(h.yt)+"/documents",v={documents:u.map(P=>Gb(h.yt,P))},D=yield h._o("BatchGetDocuments",m,v,u.length),T=new Map;D.forEach(P=>{const U=function vj(n,t){return"found"in t?function(e,i){ct(!!i.found);const r=Ga(e,i.found.name),s=_i(i.found.updateTime),u=i.found.createTime?_i(i.found.createTime):f.min(),h=new mr({mapValue:{fields:i.found.fields}});return Ln.newFoundDocument(r,s,u,h)}(n,t):"missing"in t?function(e,i){ct(!!i.missing),ct(!!i.readTime);const r=Ga(e,i.missing),s=_i(i.readTime);return Ln.newNoDocument(r,s)}(n,t):Ze()}(h.yt,P);T.set(U.key.toString(),U)});const k=[];return u.forEach(P=>{const U=T.get(P.toString());ct(!!U),k.push(U)}),k}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Rg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Y.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=I.fromPath(r);t.mutations.push(new lA(s,t.precondition(s)))}),yield(i=(0,Y.Z)(function*(r,s){const u=$e(r),h=qb(u.yt)+"/documents",m={writes:s.map(v=>Wb(u.yt,v))};yield u.ao("Commit",h,m)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ze();e=f.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ie(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(f.min())?Wn.exists(!1):Wn.updateTime(e):Wn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(f.min()))throw new Ie(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wn.updateTime(e)}return Wn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Cz{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new LA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,Y.Z)(function*(){const e=new wz(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Ab(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!vF(e)}return!1}}class Dz{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=mi.UNAUTHENTICATED,this.clientId=Zx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Y.Z)(function*(h){Ae("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ae("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Y.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=zg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function cL(n,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,Y.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ae("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Y.Z)(function*(s){i.isEqual(s)||(yield CN(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Lk.apply(this,arguments)}function uL(n,t){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Y.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Vk(n);Ae("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>VN(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>VN(t.remoteStore,s)),n.onlineComponents=t}),Bk.apply(this,arguments)}function Vk(n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Y.Z)(function*(n){return n.offlineComponents||(Ae("FirestoreClient","Using default OfflineComponentProvider"),yield cL(n,new QN)),n.offlineComponents}),Uk.apply(this,arguments)}function tI(n){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Y.Z)(function*(n){return n.onlineComponents||(Ae("FirestoreClient","Using default OnlineComponentProvider"),yield uL(n,new Pk)),n.onlineComponents}),Hk.apply(this,arguments)}function dL(n){return Vk(n).then(t=>t.persistence)}function nI(n){return Vk(n).then(t=>t.localStore)}function jk(n){return tI(n).then(t=>t.remoteStore)}function zk(n){return tI(n).then(t=>t.syncEngine)}function Wg(n){return $k.apply(this,arguments)}function $k(){return $k=(0,Y.Z)(function*(n){const t=yield tI(n),e=t.eventManager;return e.onListen=X3.bind(null,t.syncEngine),e.onUnlisten=J3.bind(null,t.syncEngine),e}),$k.apply(this,arguments)}function fL(n,t,e={}){const i=new gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(r,s,u,h,m){const v=new eI({next:T=>{s.enqueueAndForget(()=>sk(r,D));const k=T.docs.has(u);!k&&T.fromCache?m.reject(new Ie(re.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&h&&"server"===h.source?m.reject(new Ie(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),D=new lk(Sg(u.path),v,{includeMetadataChanges:!0,Nu:!0});return ik(r,D)}(yield Wg(n),n.asyncQueue,t,e,i)})),i.promise}function pL(n,t,e={}){const i=new gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(r,s,u,h,m){const v=new eI({next:T=>{s.enqueueAndForget(()=>sk(r,D)),T.fromCache&&"server"===h.source?m.reject(new Ie(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),D=new lk(u,v,{includeMetadataChanges:!0,Nu:!0});return ik(r,D)}(yield Wg(n),n.asyncQueue,t,e,i)})),i.promise}class kz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new LA(this,"async_queue_retry"),this.Wc=()=>{const e=ZE();e&&Ae("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=ZE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=ZE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new gi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Y.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!mo(e))throw e;Ae("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Nn("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=nk.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&Ze()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Y.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Gk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Rz{constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Vn extends o0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new kz,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mL(this),this._firestoreClient.terminate()}}function Pz(n,t){const e="object"==typeof n?n:(0,Kt.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Kt._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,pt.P0)("firestore");s&&sL(r,...s)}return r}function yi(n){return n._firestoreClient||mL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mL(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new jH(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new Dz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function gL(n,t,e){const i=new gi;return n.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield cL(n,e),yield uL(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===re.FAILED_PRECONDITION||u.code===re.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;Iu("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function _L(n){if(n._initialized||n._terminated)throw new Ie(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ya(Ui.fromBase64String(t))}catch(e){throw new Ie(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ya(Ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new E(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tf{constructor(t){this._methodName=t}}class iI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return o(this._lat,t._lat)||o(this._long,t._long)}}const zz=/^__.*__$/;class $z{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Kl(t,this.data,this.fieldMask,e,this.fieldTransforms):new kg(t,this.data,e,this.fieldTransforms)}}class yL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Kl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function vL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class rI{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new rI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return aI(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(vL(this.sa)&&zz.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class Gz{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||n0(t)}da(t,e,i,r=!1){return new rI({sa:t,methodName:e,fa:i,path:E.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function nf(n){const t=n._freezeSettings(),e=n0(n._databaseId);return new Gz(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sI(n,t,e,i,r,s={}){const u=n.da(s.merge||s.mergeFields?2:0,t,e,r);Zk("Data must be an object, but it was:",u,i);const h=CL(i,u);let m,v;if(s.merge)m=new ls(u.fieldMask),v=u.fieldTransforms;else if(s.mergeFields){const D=[];for(const T of s.mergeFields){const k=Kk(t,T,e);if(!u.contains(k))throw new Ie(re.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);EL(D,k)||D.push(k)}m=new ls(D),v=u.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=u.fieldTransforms;return new $z(new mr(h),m,v)}class a0 extends tf{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof a0}}function bL(n,t,e){return new rI({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class qk extends tf{_toFieldTransform(t){return new Vb(t.path,new xg)}isEqual(t){return t instanceof qk}}class qz extends tf{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=bL(this,t,!0),i=this._a.map(s=>rf(s,e)),r=new qh(i);return new Vb(t.path,r)}isEqual(t){return this===t}}class Wz extends tf{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=bL(this,t,!0),i=this._a.map(s=>rf(s,e)),r=new Wh(i);return new Vb(t.path,r)}isEqual(t){return this===t}}class Yz extends tf{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Ag(t.yt,lF(t.yt,this.wa));return new Vb(t.path,e)}isEqual(t){return this===t}}function Wk(n,t,e,i){const r=n.da(1,t,e);Zk("Data must be an object, but it was:",r,i);const s=[],u=mr.empty();Uh(i,(m,v)=>{const D=oI(t,m,e);v=(0,pt.m9)(v);const T=r.ca(D);if(v instanceof a0)s.push(D);else{const k=rf(v,T);null!=k&&(s.push(D),u.set(D,k))}});const h=new ls(s);return new yL(u,h,r.fieldTransforms)}function Yk(n,t,e,i,r,s){const u=n.da(1,t,e),h=[Kk(t,i,e)],m=[r];if(s.length%2!=0)throw new Ie(re.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)h.push(Kk(t,s[k])),m.push(s[k+1]);const v=[],D=mr.empty();for(let k=h.length-1;k>=0;--k)if(!EL(v,h[k])){const P=h[k];let U=m[k];U=(0,pt.m9)(U);const Q=u.ca(P);if(U instanceof a0)v.push(P);else{const ae=rf(U,Q);null!=ae&&(v.push(P),D.set(P,ae))}}const T=new ls(v);return new yL(D,T,u.fieldTransforms)}function wL(n,t,e,i=!1){return rf(e,n.da(i?4:3,t))}function rf(n,t){if(DL(n=(0,pt.m9)(n)))return Zk("Unsupported field value:",t,n),CL(n,t);if(n instanceof tf)return function(e,i){if(!vL(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=rf(u,i.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,pt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lF(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=d.fromDate(e);return{timestampValue:Og(i.yt,r)}}if(e instanceof d){const r=new d(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Og(i.yt,r)}}if(e instanceof iI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ya)return{bytesValue:xF(i.yt,e._byteString)};if(e instanceof Bn){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${XE(e)}`)}(n,t)}function CL(n,t){const e={};return OP(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uh(n,(i,r)=>{const s=rf(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function DL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof d||n instanceof iI||n instanceof Ya||n instanceof Bn||n instanceof tf)}function Zk(n,t,e){if(!DL(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=XE(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function Kk(n,t,e){if((t=(0,pt.m9)(t))instanceof Jl)return t._internalPath;if("string"==typeof t)return oI(n,t);throw aI("Field path arguments must be of type string or ",n,!1,void 0,e)}const Zz=new RegExp("[~\\*/\\[\\]]");function oI(n,t,e){if(t.search(Zz)>=0)throw aI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jl(...t.split("."))._internalPath}catch(i){throw aI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function aI(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||u)&&(m+=" (found",s&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new Ie(re.INVALID_ARGUMENT,h+n+m)}function EL(n,t){return n.some(e=>e.isEqual(t))}class l0{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(lI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Kz extends l0{data(){return super.data()}}function lI(n,t){return"string"==typeof t?oI(n,t):t instanceof Jl?t._internalPath:t._delegate._internalPath}function IL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qk{}class c0 extends Qk{}function Bu(n,t,...e){let i=[];t instanceof Qk&&i.push(t),i=i.concat(e),function(r){const s=r.filter(h=>h instanceof Yg).length,u=r.filter(h=>h instanceof u0).length;if(s>1||s>0&&u>0)throw new Ie(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class u0 extends c0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new u0(t,e,i)}_apply(t){const e=this._parse(t);return xL(t._query,e),new gr(t.firestore,t.converter,oA(t._query,e))}_parse(t){const e=nf(t.firestore);return function(r,s,u,h,m,v,D){let T;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){SL(D,v);const k=[];for(const P of D)k.push(ML(h,r,P));T={arrayValue:{values:k}}}else T=ML(h,r,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||SL(D,v),T=wL(u,"where",D,"in"===v||"not-in"===v);return Qt.create(m,v,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Yg extends Qk{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Yg(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:bn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const h of u)xL(s,h),s=oA(s,h)}(t._query,e),new gr(t.firestore,t.converter,oA(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xk extends c0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Xk(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ie(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ie(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Tg(r,s);return function(h,m){if(null===rA(h)){const v=SE(h);null!==v&&AL(0,v,m.field)}}(i,u),u}(t._query,this._field,this._direction);return new gr(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Zl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class cI extends c0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new cI(t,e,i)}_apply(t){return new gr(t.firestore,t.converter,xE(t._query,this._limit,this._limitType))}}class uI extends c0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new uI(t,e,i)}_apply(t){const e=TL(t,this.type,this._docOrFields,this._inclusive);return new gr(t.firestore,t.converter,(r=e,new Zl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class dI extends c0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new dI(t,e,i)}_apply(t){const e=TL(t,this.type,this._docOrFields,this._inclusive);return new gr(t.firestore,t.converter,(r=e,new Zl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function TL(n,t,e,i){if(e[0]=(0,pt.m9)(e[0]),e[0]instanceof l0)return function(r,s,u,h,m){if(!h)throw new Ie(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const D of Gh(r))if(D.field.isKeyField())v.push(zh(s,h.key));else{const T=h.data.field(D.field);if(Qx(T))throw new Ie(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const k=D.field.canonicalString();throw new Ie(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}v.push(T)}return new ku(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=nf(n.firestore);return function(s,u,h,m,v,D){const T=s.explicitOrderBy;if(v.length>T.length)throw new Ie(re.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let P=0;P<v.length;P++){const U=v[P];if(T[P].field.isKeyField()){if("string"!=typeof U)throw new Ie(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof U}`);if(!sA(s)&&-1!==U.indexOf("/"))throw new Ie(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${U}' contains a slash.`);const Q=s.path.child(y.fromString(U));if(!I.isDocumentKey(Q))throw new Ie(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ae=new I(Q);k.push(zh(u,ae))}else{const Q=wL(h,m,U);k.push(Q)}}return new ku(k,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function ML(n,t,e){if("string"==typeof(e=(0,pt.m9)(e))){if(""===e)throw new Ie(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sA(t)&&-1!==e.indexOf("/"))throw new Ie(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(y.fromString(e));if(!I.isDocumentKey(i))throw new Ie(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zh(n,new I(i))}if(e instanceof Bn)return zh(n,e._key);throw new Ie(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XE(e)}.`)}function SL(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(re.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function xL(n,t){if(t.isInequality()){const i=SE(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Ie(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=rA(n);null!==s&&AL(0,r,s)}const e=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ie(re.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function AL(n,t,e){if(!e.isEqual(t))throw new Ie(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Jk{convertValue(t,e="none"){switch(jh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ze()}}convertObject(t,e){const i={};return Uh(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new iI(ai(t.latitude),ai(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=FP(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Rb(t));default:return null}}convertTimestamp(t){const e=Su(t);return new d(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=y.fromString(t);ct(VF(i));const r=new Mu(i.get(1),i.get(3)),s=new I(i.popFirst(5));return r.isEqual(e)||Nn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function hI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class s$ extends Jk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bn(this.firestore,null,e)}}class sf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ec extends l0{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new d0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(lI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class d0 extends ec{data(t={}){return super.data(t)}}class Vu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new sf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new d0(this._firestore,this._userDataWriter,i.key,i,new sf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new d0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new d0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),v=s.indexOf(u.doc.key)),{type:o$(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function o$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}function RL(n,t){return n instanceof ec&&t instanceof ec?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Vu&&t instanceof Vu&&n._firestore===t._firestore&&Nk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Uu extends Jk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bn(this.firestore,null,e)}}function OL(n,t,e){n=Xt(n,Bn);const i=Xt(n.firestore,Vn),r=hI(n.converter,t,e);return Zg(i,[sI(nf(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Wn.none())])}function PL(n,t,e,...i){n=Xt(n,Bn);const r=Xt(n.firestore,Vn),s=nf(r);let u;return u="string"==typeof(t=(0,pt.m9)(t))||t instanceof Jl?Yk(s,"updateDoc",n._key,t,e,i):Wk(s,"updateDoc",n._key,t),Zg(r,[u.toMutation(n._key,Wn.exists(!0))])}function FL(n,...t){var e,i,r;n=(0,pt.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Gk(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Gk(t[u])){const T=t[u];t[u]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[u+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[u+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let m,v,D;if(n instanceof Bn)v=Xt(n.firestore,Vn),D=Sg(n._key.path),m={next:T=>{t[u]&&t[u](eR(v,n,T))},error:t[u+1],complete:t[u+2]};else{const T=Xt(n,gr);v=Xt(T.firestore,Vn),D=T._query;const k=new Uu(v);m={next:P=>{t[u]&&t[u](new Vu(v,k,T,P))},error:t[u+1],complete:t[u+2]},IL(n._query)}return function(T,k,P,U){const Q=new eI(U),ae=new lk(k,Q,P);return T.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return ik(yield Wg(T),ae)})),()=>{Q.bc(),T.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return sk(yield Wg(T),ae)}))}}(yi(v),D,h,m)}function Zg(n,t){return function(e,i){const r=new gi;return e.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function ez(n,t,e){return fk.apply(this,arguments)}(yield zk(e),i,r)})),r.promise}(yi(n),t)}function eR(n,t,e){const i=e.docs.get(t._key),r=new Uu(n);return new ec(n,r,t._key,i,new sf(e.hasPendingWrites,e.fromCache),t.converter)}const g$={maxAttempts:5};class NL{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=nf(t)}set(t,e,i){this._verifyNotCommitted();const r=Hu(t,this._firestore),s=hI(r.converter,e,i),u=sI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Wn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Hu(t,this._firestore);let u;return u="string"==typeof(e=(0,pt.m9)(e))||e instanceof Jl?Yk(this._dataReader,"WriteBatch.update",s._key,e,i,r):Wk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,Wn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Hu(t,this._firestore);return this._mutations=this._mutations.concat(new Rg(e._key,Wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(n,t){if((n=(0,pt.m9)(n)).firestore!==t)throw new Ie(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=nf(t)}get(t){const e=Hu(t,this._firestore),i=new s$(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Ze();const s=r[0];if(s.isFoundDocument())return new l0(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new l0(this._firestore,i,e._key,null,e.converter);throw Ze()})}set(t,e,i){const r=Hu(t,this._firestore),s=hI(r.converter,e,i),u=sI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=Hu(t,this._firestore);let u;return u="string"==typeof(e=(0,pt.m9)(e))||e instanceof Jl?Yk(this._dataReader,"Transaction.update",s._key,e,i,r):Wk(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=Hu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Hu(t,this._firestore),i=new Uu(this._firestore);return super.get(t).then(r=>new ec(this._firestore,i,e._key,r._document,new sf(!1,!1),e.converter))}}!function(n,t=!0){Wl=Kt.SDK_VERSION,(0,Kt._registerComponent)(new rs.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new Vn(new TP(e.getProvider("auth-internal")),new xP(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(h.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Kt.registerVersion)(bE,"3.8.3",n),(0,Kt.registerVersion)(bE,"3.8.3","esm2017")}();class tR{constructor(t){return t}}const BL="firestore",nR=new l.OlP("angularfire2.firestore-instances");function T$(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new tR(i)}}const M$={provide:class E${constructor(){return vm(BL)}},deps:[[new l.FiY,nR]]},S$={provide:tR,useFactory:function I$(n,t){const e=function av(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(u=>u.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(BL,n,t);return e&&new tR(e)},deps:[[new l.FiY,nR],ur]};let x$=(()=>{class n{constructor(){(0,Kt.registerVersion)("angularfire",gm.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[S$,M$]}),n})();function A$(n,...t){return{ngModule:x$,providers:[{provide:nR,useFactory:T$(n),multi:!0,deps:[l.R0b,l.zs3,bm,as,[new l.FiY,ah],[new l.FiY,Ul],...t]}]}}const k$=rD(Pz,!0);class VL{}const tc="*";function _r(n,t){return{type:7,name:n,definitions:t,options:{}}}function In(n,t=null){return{type:4,styles:t,timings:n}}function UL(n,t=null){return{type:3,steps:n,options:t}}function HL(n,t=null){return{type:2,steps:n,options:t}}function gt(n){return{type:6,styles:n,offset:null}}function wn(n,t,e){return{type:0,name:n,styles:t,options:e}}function af(n){return{type:5,steps:n}}function gn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function fI(n=null){return{type:9,options:n}}function pI(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function jL(n){Promise.resolve(null).then(n)}class h0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class zL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?jL(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Jt=!1;function $L(n){return new l.vHH(3e3,Jt)}function hG(){return"undefined"!=typeof window&&void 0!==window.document}function rR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ju(n){switch(n.length){case 0:return new h0;case 1:return n[0];default:return new zL(n)}}function GL(n,t,e,i,r={},s={}){const u=[],h=[];let m=-1,v=null;if(i.forEach(D=>{const T=D.offset,k=T==m,P=k&&v||{};Object.keys(D).forEach(U=>{let Q=U,ae=D[U];if("offset"!==U)switch(Q=t.normalizePropertyName(Q,u),ae){case"!":ae=r[U];break;case tc:ae=s[U];break;default:ae=t.normalizeStyleValue(U,Q,ae,u)}P[Q]=ae}),k||h.push(P),v=P,m=T}),u.length)throw function tG(n){return new l.vHH(3502,Jt)}();return h}function sR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&oR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&oR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&oR(e,"destroy",n)))}}function oR(n,t,e){const i=e.totalTime,s=aR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function aR(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function Us(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function qL(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let lR=(n,t)=>!1,WL=(n,t,e)=>[],YL=null;function cR(n){const t=n.parentNode||n.host;return t===YL?null:t}(rR()||"undefined"!=typeof Element)&&(hG()?(YL=(()=>document.documentElement)(),lR=(n,t)=>{for(;t;){if(t===n)return!0;t=cR(t)}return!1}):lR=(n,t)=>n.contains(t),WL=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let lf=null,ZL=!1;function KL(n){lf||(lf=function pG(){return"undefined"!=typeof document?document.body:null}()||{},ZL=!!lf.style&&"WebkitAppearance"in lf.style);let t=!0;return lf.style&&!function fG(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lf.style,!t&&ZL&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lf.style)),t}const QL=lR,XL=WL;let JL=(()=>{class n{validateStyleProperty(e){return KL(e)}matchesElement(e,i){return!1}containsElement(e,i){return QL(e,i)}getParentElement(e){return cR(e)}query(e,i,r){return XL(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],m){return new h0(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),uR=(()=>{class n{}return n.NOOP=new JL,n})();const dR="ng-enter",gI="ng-leave",_I="ng-trigger",yI=".ng-trigger",tB="ng-animating",hR=".ng-animating";function cf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:fR(parseFloat(t[1]),t[2])}function fR(n,t){return"s"===t?1e3*n:n}function vI(n,t,e){return n.hasOwnProperty("duration")?n:function _G(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push($L()),{duration:0,delay:0,easing:""};r=fR(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=fR(parseFloat(m),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push(function O$(){return new l.vHH(3100,Jt)}()),h=!0),s<0&&(t.push(function P$(){return new l.vHH(3101,Jt)}()),h=!0),h&&t.splice(m,0,$L())}return{duration:r,delay:s,easing:u}}(n,t,e)}function Kg(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function zu(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Kg(n,e);return e}function iB(n,t,e){return e?t+":"+e+";":""}function rB(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=iB(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iB(0,bG(e),n.style[e]));n.setAttribute("style",t)}function Za(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=mR(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),rR()&&rB(n))}function uf(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=mR(e);n.style[i]=""}),rR()&&rB(n))}function f0(n){return Array.isArray(n)?1==n.length?n[0]:HL(n):n}const pR=new RegExp("{{\\s*(.+?)\\s*}}","g");function sB(n){let t=[];if("string"==typeof n){let e;for(;e=pR.exec(n);)t.push(e[1]);pR.lastIndex=0}return t}function bI(n,t,e){const i=n.toString(),r=i.replace(pR,(s,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function N$(n){return new l.vHH(3003,Jt)}()),h=""),h.toString()});return r==i?n:r}function wI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const vG=/-+([a-z0-9])/g;function mR(n){return n.replace(vG,(...t)=>t[1].toUpperCase())}function bG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function L$(n){return new l.vHH(3004,Jt)}()}}function oB(n,t){return window.getComputedStyle(n)[t]}function TG(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function MG(n,t,e){if(":"==n[0]){const m=function SG(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Q$(n){return new l.vHH(3016,Jt)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function K$(n){return new l.vHH(3015,Jt)}()),t;const r=i[1],s=i[2],u=i[3];t.push(aB(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(aB(u,r))}(i,e,t)):e.push(n),e}const II=new Set(["true","1"]),TI=new Set(["false","0"]);function aB(n,t){const e=II.has(n)||TI.has(n),i=II.has(t)||TI.has(t);return(r,s)=>{let u="*"==n||n==r,h="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?II.has(n):TI.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?II.has(t):TI.has(t)),u&&h}}const xG=new RegExp("s*:selfs*,?","g");function gR(n,t,e,i){return new AG(n).build(t,e,i)}class AG{constructor(t){this._driver=t}build(t,e,i){const r=new OG(e);this._resetContextStyleTimingState(r);const s=Hs(this,f0(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function V$(){return new l.vHH(3006,Jt)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(D=>{m.name=D,s.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,u.push(m)}else e.errors.push(function U$(){return new l.vHH(3007,Jt)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{if(MI(h)){const m=h;Object.keys(m).forEach(v=>{sB(m[v]).forEach(D=>{u.hasOwnProperty(D)||s.add(D)})})}}),s.size&&(wI(s.values()),e.errors.push(function H$(n,t){return new l.vHH(3008,Jt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Hs(this,f0(t.animation),e);return{type:1,matchers:TG(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:df(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Hs(this,i,e)),options:df(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=Hs(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:df(t.options)}}visitAnimate(t,e){const i=function FG(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return _R(vI(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=_R(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||vI(i,t),_R(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:gt({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=gt(v)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==tc?i.push(u):e.errors.push(function j$(n){return new l.vHH(3002,Jt)}()):i.push(u)}):i.push(t.styles);let r=!1,s=null;return i.forEach(u=>{if(MI(u)){const h=u,m=h.easing;if(m&&(s=m,delete h.easing),!r)for(let v in h)if(h[v].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const m=e.collectedStyles[e.currentQuerySelector],v=m[h];let D=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function z$(n,t,e,i,r){return new l.vHH(3010,Jt)}()),D=!1),s=v.startTime),D&&(m[h]={startTime:s,endTime:r}),e.options&&function yG(n,t,e){const i=t.params||{},r=sB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function F$(n){return new l.vHH(3001,Jt)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $$(){return new l.vHH(3011,Jt)}()),i;let s=0;const u=[];let h=!1,m=!1,v=0;const D=t.steps.map(Fe=>{const Ye=this._makeStyleAst(Fe,e);let it=null!=Ye.offset?Ye.offset:function PG(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(MI(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(MI(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ye.styles),st=0;return null!=it&&(s++,st=Ye.offset=it),m=m||st<0||st>1,h=h||st<v,v=st,u.push(st),Ye});m&&e.errors.push(function G$(){return new l.vHH(3012,Jt)}()),h&&e.errors.push(function q$(){return new l.vHH(3200,Jt)}());const T=t.steps.length;let k=0;s>0&&s<T?e.errors.push(function W$(){return new l.vHH(3202,Jt)}()):0==s&&(k=1/(T-1));const P=T-1,U=e.currentTime,Q=e.currentAnimateTimings,ae=Q.duration;return D.forEach((Fe,Ye)=>{const it=k>0?Ye==P?1:k*Ye:u[Ye],st=it*ae;e.currentTime=U+Q.delay+st,Q.duration=st,this._validateStyleAst(Fe,e),Fe.offset=it,i.styles.push(Fe)}),i}visitReference(t,e){return{type:8,animation:Hs(this,f0(t.animation),e),options:df(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:df(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:df(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function kG(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(xG,"")),n=n.replace(/@\*/g,yI).replace(/@\w+/g,e=>yI+"-"+e.substr(1)).replace(/:animating/g,hR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Us(e.collectedStyles,e.currentQuerySelector,{});const h=Hs(this,f0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:df(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Y$(){return new l.vHH(3013,Jt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:vI(t.timings,e.errors,!0);return{type:12,animation:Hs(this,f0(t.animation),e),timings:i,options:null}}}class OG{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function MI(n){return!Array.isArray(n)&&"object"==typeof n}function df(n){return n?(n=Kg(n)).params&&(n.params=function RG(n){return n?Kg(n):null}(n.params)):n={},n}function _R(n,t,e){return{duration:n,delay:t,easing:e}}function yR(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class SI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const BG=new RegExp(":enter","g"),UG=new RegExp(":leave","g");function vR(n,t,e,i,r,s={},u={},h,m,v=[]){return(new HG).buildKeyframes(n,t,e,i,r,s,u,h,m,v)}class HG{buildKeyframes(t,e,i,r,s,u,h,m,v,D=[]){v=v||new SI;const T=new bR(t,e,v,r,s,D,[]);T.options=m,T.currentTimeline.setStyles([u],null,T.errors,m),Hs(this,i,T);const k=T.timelines.filter(P=>P.containsAnimation());if(Object.keys(h).length){let P;for(let U=k.length-1;U>=0;U--){const Q=k[U];if(Q.element===e){P=Q;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,T.errors,m)}return k.length?k.map(P=>P.buildKeyframes()):[yR(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?cf(i.duration):null,h=null!=i.delay?cf(i.delay):null;return 0!==u&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,u,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Hs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xI);const u=cf(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Hs(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?cf(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Hs(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return vI(e.params?bI(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?cf(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xI);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,D)=>{e.currentQueryIndex=D;const T=e.createSubContext(t.options,v);s&&T.delayNextStep(s),v===e.element&&(m=T.currentTimeline),Hs(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const D=e.currentTimeline;m&&D.delayNextStep(m);const T=D.currentTime;Hs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const xI={};class bR{constructor(t,e,i,r,s,u,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new AI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=cf(i.duration)),null!=i.delay&&(r.delay=cf(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=bI(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new bR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=xI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new jG(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(BG,"."+this._enterClassName)).replace(UG,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&u.push(function Z$(n){return new l.vHH(3014,Jt)}()),h}}class AI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new AI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||tc,this._currentKeyframe[e]=tc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},u=function zG(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=tc})):zu(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const m=bI(u[h],s,i);this._pendingStyles[h]=m,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:tc),this._updateStyle(h,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=zu(h,!0);Object.keys(v).forEach(D=>{const T=v[D];"!"==T?t.add(D):T==tc&&e.add(D)}),i||(v.offset=m/this.duration),r.push(v)});const s=t.size?wI(t.values()):[],u=e.size?wI(e.values()):[];if(i){const h=r[0],m=Kg(h);h.offset=0,m.offset=1,r=[h,m]}return yR(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class jG extends AI{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,m=zu(t[0],!1);m.offset=0,s.push(m);const v=zu(t[0],!1);v.offset=uB(h),s.push(v);const D=t.length-1;for(let T=1;T<=D;T++){let k=zu(t[T],!1);k.offset=uB((e+k.offset*i)/u),s.push(k)}i=u,e=0,r="",t=s}return yR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class wR{}class $G extends wR{normalizePropertyName(t,e){return mR(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(GG[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function B$(n,t){return new l.vHH(3005,Jt)}())}return u+s}}const GG=(()=>function qG(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dB(n,t,e,i,r,s,u,h,m,v,D,T,k){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:D,totalTime:T,errors:k}}const CR={};class hB{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function WG(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):u}build(t,e,i,r,s,u,h,m,v,D){const T=[],k=this.ast.options&&this.ast.options.params||CR,U=this.buildStyles(i,h&&h.params||CR,T),Q=m&&m.params||CR,ae=this.buildStyles(r,Q,T),Fe=new Set,Ye=new Map,it=new Map,st="void"===r,Et={params:Object.assign(Object.assign({},k),Q)},Tt=D?[]:vR(t,e,this.ast.animation,s,u,U,ae,Et,v,T);let en=0;if(Tt.forEach(cc=>{en=Math.max(cc.duration+cc.delay,en)}),T.length)return dB(e,this._triggerName,i,r,st,U,ae,[],[],Ye,it,en,T);Tt.forEach(cc=>{const uc=cc.element,DH=Us(Ye,uc,{});cc.preStyleProps.forEach(kf=>DH[kf]=!0);const q0=Us(it,uc,{});cc.postStyleProps.forEach(kf=>q0[kf]=!0),uc!==e&&Fe.add(uc)});const Zr=wI(Fe.values());return dB(e,this._triggerName,i,r,st,U,ae,Tt,Zr,Ye,it,en)}}class YG{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Kg(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!=u&&(r[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(h=>{let m=u[h];m.length>1&&(m=bI(m,r,e));const v=this.normalizer.normalizePropertyName(h,e);m=this.normalizer.normalizeStyleValue(h,v,m,e),i[v]=m})}}),i}}class KG{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new YG(r.style,r.options&&r.options.params||{},i)}),fB(this.states,"true","1"),fB(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new hB(t,r,this.states))}),this.fallbackTransition=function QG(n,t,e){return new hB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function fB(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const XG=new SI;class JG{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=gR(this._driver,e,i,[]);if(i.length)throw function nG(n){return new l.vHH(3503,Jt)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=GL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let u;const h=new Map;if(s?(u=vR(this._driver,e,s,dR,gI,{},{},i,XG,r),u.forEach(D=>{const T=Us(h,D.element,{});D.postStyleProps.forEach(k=>T[k]=null)})):(r.push(function iG(){return new l.vHH(3300,Jt)}()),u=[]),r.length)throw function rG(n){return new l.vHH(3504,Jt)}();h.forEach((D,T)=>{Object.keys(D).forEach(k=>{D[k]=this._driver.computeStyle(T,k,tc)})});const v=ju(u.map(D=>{const T=h.get(D.element);return this._buildPlayer(D,{},T)}));return this._playersById[t]=v,v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function sG(n){return new l.vHH(3301,Jt)}();return e}listen(t,e,i,r){const s=aR(e,"","","");return sR(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const pB="ng-animate-queued",DR="ng-animate-disabled",s6=[],mB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},o6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},go="__ng_removed";class ER{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function u6(n){return null!=n?n:null}(i?t.value:t),i){const s=Kg(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const p0="void",IR=new ER(p0);class a6{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_o(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function oG(n,t){return new l.vHH(3302,Jt)}();if(null==i||0==i.length)throw function aG(n){return new l.vHH(3303,Jt)}();if(!function d6(n){return"start"==n||"done"==n}(i))throw function lG(n,t){return new l.vHH(3400,Jt)}();const s=Us(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=Us(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(_o(t,_I),_o(t,_I+"-"+e),h[e]=IR),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(u);m>=0&&s.splice(m,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function cG(n){return new l.vHH(3401,Jt)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new TR(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(_o(t,_I),_o(t,_I+"-"+e),this._engine.statesByElement.set(t,h={}));let m=h[e];const v=new ER(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h[e]=v,m||(m=IR),v.value!==p0&&m.value===v.value){if(!function p6(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(m.params,v.params)){const Q=[],ae=s.matchStyles(m.value,m.params,Q),Fe=s.matchStyles(v.value,v.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{uf(t,ae),Za(t,Fe)})}return}const k=Us(this._engine.playersByElement,t,[]);k.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let P=s.matchTransition(m.value,v.value,t,v.params),U=!1;if(!P){if(!r)return;P=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:m,toState:v,player:u,isFallbackTransition:U}),U||(_o(t,pB),u.onStart(()=>{Qg(t,pB)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const ae=this._engine.playersByElement.get(t);if(ae){let Fe=ae.indexOf(u);Fe>=0&&ae.splice(Fe,1)}}),this.players.push(u),k.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,yI,!0);i.forEach(r=>{if(r[go])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(Object.keys(s).forEach(m=>{if(u.set(m,s[m].value),this._triggers[m]){const v=this.trigger(t,m,p0,r);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&ju(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const m=this._triggers[u].fallbackTransition,v=i[u]||IR,D=new ER(p0),T=new TR(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:v,toState:D,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[go];(!s||s===mB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){_o(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=aR(s,i.triggerName,i.fromState.value,i.toState.value);m._data=t,sR(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class l6{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new a6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const u=i[r[s]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(kI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!kI(e))return;const s=e[go];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_o(t,DR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qg(t,DR))}removeNode(t,e,i,r){if(kI(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[go]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return kI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,yI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,hR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ju(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[go];if(i&&i.setForRemoval){if(t[go]=mB,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(DR))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_o(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ju(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function uG(n){return new l.vHH(3402,Jt)}()}_flushAnimations(t,e){const i=new SI,r=[],s=new Map,u=[],h=new Map,m=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(dt=>{D.add(dt);const It=this.driver.query(dt,".ng-animate-queued",!0);for(let At=0;At<It.length;At++)D.add(It[At])});const T=this.bodyNode,k=Array.from(this.statesByElement.keys()),P=yB(k,this.collectedEnterElements),U=new Map;let Q=0;P.forEach((dt,It)=>{const At=dR+Q++;U.set(It,At),dt.forEach(an=>_o(an,At))});const ae=[],Fe=new Set,Ye=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const It=this.collectedLeaveElements[dt],At=It[go];At&&At.setForRemoval&&(ae.push(It),Fe.add(It),At.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(an=>Fe.add(an)):Ye.add(It))}const it=new Map,st=yB(k,Array.from(Fe));st.forEach((dt,It)=>{const At=gI+Q++;it.set(It,At),dt.forEach(an=>_o(an,At))}),t.push(()=>{P.forEach((dt,It)=>{const At=U.get(It);dt.forEach(an=>Qg(an,At))}),st.forEach((dt,It)=>{const At=it.get(It);dt.forEach(an=>Qg(an,At))}),ae.forEach(dt=>{this.processLeaveNode(dt)})});const Et=[],Tt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(At=>{const an=At.player,tr=At.element;if(Et.push(an),this.collectedEnterElements.length){const Kr=tr[go];if(Kr&&Kr.setForMove){if(Kr.previousTriggersValues&&Kr.previousTriggersValues.has(At.triggerName)){const Rf=Kr.previousTriggersValues.get(At.triggerName),Qu=this.statesByElement.get(At.element);Qu&&Qu[At.triggerName]&&(Qu[At.triggerName].value=Rf)}return void an.destroy()}}const Ka=!T||!this.driver.containsElement(T,tr),zs=it.get(tr),Ku=U.get(tr),ii=this._buildInstruction(At,i,Ku,zs,Ka);if(ii.errors&&ii.errors.length)return void Tt.push(ii);if(Ka)return an.onStart(()=>uf(tr,ii.fromStyles)),an.onDestroy(()=>Za(tr,ii.toStyles)),void r.push(an);if(At.isFallbackTransition)return an.onStart(()=>uf(tr,ii.fromStyles)),an.onDestroy(()=>Za(tr,ii.toStyles)),void r.push(an);const TH=[];ii.timelines.forEach(Kr=>{Kr.stretchStartingKeyframe=!0,this.disabledNodes.has(Kr.element)||TH.push(Kr)}),ii.timelines=TH,i.append(tr,ii.timelines),u.push({instruction:ii,player:an,element:tr}),ii.queriedElements.forEach(Kr=>Us(h,Kr,[]).push(an)),ii.preStyleProps.forEach((Kr,Rf)=>{const Qu=Object.keys(Kr);if(Qu.length){let Of=m.get(Rf);Of||m.set(Rf,Of=new Set),Qu.forEach(l1=>Of.add(l1))}}),ii.postStyleProps.forEach((Kr,Rf)=>{const Qu=Object.keys(Kr);let Of=v.get(Rf);Of||v.set(Rf,Of=new Set),Qu.forEach(l1=>Of.add(l1))})});if(Tt.length){const dt=[];Tt.forEach(It=>{dt.push(function dG(n,t){return new l.vHH(3505,Jt)}())}),Et.forEach(It=>It.destroy()),this.reportError(dt)}const en=new Map,Zr=new Map;u.forEach(dt=>{const It=dt.element;i.has(It)&&(Zr.set(It,It),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,en))}),r.forEach(dt=>{const It=dt.element;this._getPreviousPlayers(It,!1,dt.namespaceId,dt.triggerName,null).forEach(an=>{Us(en,It,[]).push(an),an.destroy()})});const cc=ae.filter(dt=>bB(dt,m,v)),uc=new Map;_B(uc,this.driver,Ye,v,tc).forEach(dt=>{bB(dt,m,v)&&cc.push(dt)});const q0=new Map;P.forEach((dt,It)=>{_B(q0,this.driver,new Set(dt),m,"!")}),cc.forEach(dt=>{const It=uc.get(dt),At=q0.get(dt);uc.set(dt,Object.assign(Object.assign({},It),At))});const kf=[],EH=[],IH={};u.forEach(dt=>{const{element:It,player:At,instruction:an}=dt;if(i.has(It)){if(D.has(It))return At.onDestroy(()=>Za(It,an.toStyles)),At.disabled=!0,At.overrideTotalTime(an.totalTime),void r.push(At);let tr=IH;if(Zr.size>1){let zs=It;const Ku=[];for(;zs=zs.parentNode;){const ii=Zr.get(zs);if(ii){tr=ii;break}Ku.push(zs)}Ku.forEach(ii=>Zr.set(ii,tr))}const Ka=this._buildAnimation(At.namespaceId,an,en,s,q0,uc);if(At.setRealPlayer(Ka),tr===IH)kf.push(At);else{const zs=this.playersByElement.get(tr);zs&&zs.length&&(At.parentPlayer=ju(zs)),r.push(At)}}else uf(It,an.fromStyles),At.onDestroy(()=>Za(It,an.toStyles)),EH.push(At),D.has(It)&&r.push(At)}),EH.forEach(dt=>{const It=s.get(dt.element);if(It&&It.length){const At=ju(It);dt.setRealPlayer(At)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ae.length;dt++){const It=ae[dt],At=It[go];if(Qg(It,gI),At&&At.hasAnimation)continue;let an=[];if(h.size){let Ka=h.get(It);Ka&&Ka.length&&an.push(...Ka);let zs=this.driver.query(It,hR,!0);for(let Ku=0;Ku<zs.length;Ku++){let ii=h.get(zs[Ku]);ii&&ii.length&&an.push(...ii)}}const tr=an.filter(Ka=>!Ka.destroyed);tr.length?h6(this,It,tr):this.processLeaveNode(It)}return ae.length=0,kf.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const It=this.players.indexOf(dt);this.players.splice(It,1)}),dt.play()}),kf}elementContainsData(t,e){let i=!1;const r=e[go];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!s||s==p0;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,D=v!==s,T=Us(i,v,[]);this._getPreviousPlayers(v,D,u,h,e.toState).forEach(P=>{const U=P.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),P.destroy(),T.push(P)})}uf(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,m=e.element,v=[],D=new Set,T=new Set,k=e.timelines.map(U=>{const Q=U.element;D.add(Q);const ae=Q[go];if(ae&&ae.removedBeforeQueried)return new h0(U.duration,U.delay);const Fe=Q!==m,Ye=function f6(n){const t=[];return vB(n,t),t}((i.get(Q)||s6).map(en=>en.getRealPlayer())).filter(en=>!!en.element&&en.element===Q),it=s.get(Q),st=u.get(Q),Et=GL(0,this._normalizer,0,U.keyframes,it,st),Tt=this._buildPlayer(U,Et,Ye);if(U.subTimeline&&r&&T.add(Q),Fe){const en=new TR(t,h,Q);en.setRealPlayer(Tt),v.push(en)}return Tt});v.forEach(U=>{Us(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function c6(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),D.forEach(U=>_o(U,tB));const P=ju(k);return P.onDestroy(()=>{D.forEach(U=>Qg(U,tB)),Za(m,e.toStyles)}),T.forEach(U=>{Us(r,U,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new h0(t.duration,t.delay)}}class TR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new h0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>sR(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Us(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function kI(n){return n&&1===n.nodeType}function gB(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function _B(n,t,e,i,r){const s=[];e.forEach(m=>s.push(gB(m)));const u=[];i.forEach((m,v)=>{const D={};m.forEach(T=>{const k=D[T]=t.computeStyle(v,T,r);(!k||0==k.length)&&(v[go]=o6,u.push(v))}),n.set(v,D)});let h=0;return e.forEach(m=>gB(m,s[h++])),u}function yB(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(h){if(!h)return 1;let m=s.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:r.has(v)?1:u(v),s.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&e.get(m).push(h)}),e}function _o(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Qg(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function h6(n,t,e){ju(e).onDone(()=>n.processLeaveNode(t))}function vB(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof zL?vB(i.players,t):t.push(i)}}function bB(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class RI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new l6(t,e,i),this._timelineEngine=new JG(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const m=[],D=gR(this._driver,s,m,[]);if(m.length)throw function eG(n,t){return new l.vHH(3404,Jt)}();h=function ZG(n,t,e){return new KG(n,t,e)}(r,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=qL(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=qL(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let g6=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Za(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Za(this._element,this._initialStyles),this._endStyles&&(Za(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(uf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uf(this._element,this._endStyles),this._endStyles=null),Za(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MR(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];_6(r)&&(t=t||{},t[r]=n[r])}return t}function _6(n){return"display"===n||"position"===n}class wB{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:oB(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class y6{validateStyleProperty(t){return KL(t)}matchesElement(t,e){return!1}containsElement(t,e){return QL(t,e)}getParentElement(t){return cR(t)}query(t,e,i){return XL(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const v={},D=u.filter(k=>k instanceof wB);(function wG(n,t){return 0===n||0===t})(i,r)&&D.forEach(k=>{let P=k.currentSnapshot;Object.keys(P).forEach(U=>v[U]=P[U])}),e=function CG(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],u=[];if(i.forEach(h=>{s.hasOwnProperty(h)||u.push(h),s[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(m){h[m]=oB(n,m)})}}return t}(t,e=e.map(k=>zu(k,!1)),v);const T=function m6(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=MR(t[0]),t.length>1&&(i=MR(t[t.length-1]))):t&&(e=MR(t)),e||i?new g6(n,e,i):null}(t,e);return new wB(t,e,m,T)}}let v6=(()=>{class n extends VL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?HL(e):e;return CB(this._renderer,null,i,"register",[r]),new b6(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class b6 extends class R${}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new w6(this._id,t,e||{},this._renderer)}}class w6{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return CB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function CB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const DB="@.disabled";let C6=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=null==u?void 0:u.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(s);return D||(D=new EB("",s,this.engine),this._rendererCache.set(s,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=D=>{Array.isArray(D)?D.forEach(m):this.engine.registerTrigger(u,h,e,D.name,D)};return i.data.animation.forEach(m),new D6(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(RI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class EB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==DB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class D6 extends EB{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==DB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function E6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function I6(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let T6=(()=>{class n extends RI{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(uR),l.LFG(wR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Xo=new l.OlP("AnimationModuleType"),IB=[{provide:VL,useClass:v6},{provide:wR,useFactory:function M6(){return new $G}},{provide:RI,useClass:T6},{provide:l.FYo,useFactory:function S6(n,t,e){return new C6(n,t,e)},deps:[An,RI,l.R0b]}],TB=[{provide:uR,useFactory:()=>new y6},{provide:Xo,useValue:"BrowserAnimations"},...IB],x6=[{provide:uR,useClass:JL},{provide:Xo,useValue:"NoopAnimations"},...IB];let A6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?x6:TB}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:TB,imports:[bc]}),n})(),MB=(()=>{class n{transform(e){return new Date(1e3*e.seconds+e.nanoseconds/1e6)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=l.Yjl({name:"dateConv",type:n,pure:!0}),n})();class SB{}class xB{}class nc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class k6{encodeKey(t){return AB(t)}encodeValue(t){return AB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const O6=/%(\d[a-f0-9])/gi,P6={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function AB(n){return encodeURIComponent(n).replace(O6,(t,e)=>{var i;return null!==(i=P6[e])&&void 0!==i?i:t})}function kB(n){return`${n}`}class $u{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new k6,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R6(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],m=e.get(u)||[];m.push(h),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $u({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kB(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(kB(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class F6{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function RB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function OB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function PB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class m0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function N6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new nc),this.context||(this.context=new F6),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new $u,this.urlWithParams=e}serializeBody(){return null===this.body?null:RB(this.body)||OB(this.body)||PB(this.body)||function L6(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $u?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PB(this.body)?null:OB(this.body)?this.body.type||null:RB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $u?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,D=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((k,P)=>k.set(P,t.setHeaders[P]),v)),t.setParams&&(D=Object.keys(t.setParams).reduce((k,P)=>k.set(P,t.setParams[P]),D)),new m0(i,r,u,{params:D,headers:v,context:T,reportProgress:m,responseType:s,withCredentials:h})}}var Si=(()=>((Si=Si||{})[Si.Sent=0]="Sent",Si[Si.UploadProgress=1]="UploadProgress",Si[Si.ResponseHeader=2]="ResponseHeader",Si[Si.DownloadProgress=3]="DownloadProgress",Si[Si.Response=4]="Response",Si[Si.User=5]="User",Si))();class SR{constructor(t,e=200,i="OK"){this.headers=t.headers||new nc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xR extends SR{constructor(t={}){super(t),this.type=Si.ResponseHeader}clone(t={}){return new xR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class PI extends SR{constructor(t={}){super(t),this.type=Si.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new PI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class FB extends SR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function AR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kR=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof m0)s=e;else{let m,v;m=r.headers instanceof nc?r.headers:new nc(r.headers),r.params&&(v=r.params instanceof $u?r.params:new $u({fromObject:r.params})),s=new m0(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Qe(s).pipe(ml(m=>this.handler.handle(m)));if(e instanceof m0||"events"===r.observe)return u;const h=u.pipe(Mn(m=>m instanceof PI));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,yt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,yt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,yt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,yt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new $u).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,AR(r,i))}post(e,i,r={}){return this.request("POST",e,AR(r,i))}put(e,i,r={}){return this.request("PUT",e,AR(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(SB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class NB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const LB=new l.OlP("HTTP_INTERCEPTORS");let B6=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const V6=/^\)\]\}',?\n/;let BB=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,U)=>r.setRequestHeader(P,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const s=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const P=r.statusText||"OK",U=new nc(r.getAllResponseHeaders()),Q=function U6(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new xR({headers:U,status:r.status,statusText:P,url:Q}),u},m=()=>{let{headers:P,status:U,statusText:Q,url:ae}=h(),Fe=null;204!==U&&(Fe=void 0===r.response?r.responseText:r.response),0===U&&(U=Fe?200:0);let Ye=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof Fe){const it=Fe;Fe=Fe.replace(V6,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(st){Fe=it,Ye&&(Ye=!1,Fe={error:st,text:Fe})}}Ye?(i.next(new PI({body:Fe,headers:P,status:U,statusText:Q,url:ae||void 0})),i.complete()):i.error(new FB({error:Fe,headers:P,status:U,statusText:Q,url:ae||void 0}))},v=P=>{const{url:U}=h(),Q=new FB({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(Q)};let D=!1;const T=P=>{D||(i.next(h()),D=!0);let U={type:Si.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(U.total=P.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},k=P=>{let U={type:Si.UploadProgress,loaded:P.loaded};P.lengthComputable&&(U.total=P.total),i.next(U)};return r.addEventListener("load",m),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),e.reportProgress&&(r.addEventListener("progress",T),null!==s&&r.upload&&r.upload.addEventListener("progress",k)),r.send(s),i.next({type:Si.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",m),r.removeEventListener("timeout",v),e.reportProgress&&(r.removeEventListener("progress",T),null!==s&&r.upload&&r.upload.removeEventListener("progress",k)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const RR=new l.OlP("XSRF_COOKIE_NAME"),OR=new l.OlP("XSRF_HEADER_NAME");class VB{}let H6=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Co(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(l.Lbi),l.LFG(RR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),PR=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(VB),l.LFG(OR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),j6=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(LB,[]);this.chain=i.reduceRight((r,s)=>new NB(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xB),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),z6=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:PR,useClass:B6}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:RR,useValue:e.cookieName}:[],e.headerName?{provide:OR,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PR,{provide:LB,useExisting:PR,multi:!0},{provide:VB,useClass:H6},{provide:RR,useValue:"XSRF-TOKEN"},{provide:OR,useValue:"X-XSRF-TOKEN"}]}),n})(),$6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kR,{provide:SB,useClass:j6},BB,{provide:xB,useExisting:BB}],imports:[[z6.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function UB(...n){const t=(0,Cc.jO)(n),{args:e,keys:i}=Mo(n),r=new zn.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let m=u,v=u;for(let D=0;D<u;D++){let T=!1;(0,Jr.Xf)(e[D]).subscribe((0,fn.x)(s,k=>{T||(T=!0,v--),h[D]=k},()=>m--,void 0,()=>{(!m||!T)&&(v||s.next(i?lp(i,h):h),s.complete())}))}});return t?r.pipe(Dc(t)):r}let HB=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),hf=(()=>{class n extends HB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ds=new l.OlP("NgValueAccessor"),q6={provide:ds,useExisting:(0,l.Gpc)(()=>g0),multi:!0},Y6=new l.OlP("CompositionEventMode");let g0=(()=>{class n extends HB{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W6(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Y6,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([q6]),l.qOj]}),n})();function Gu(n){return null==n||0===n.length}function zB(n){return null!=n&&"number"==typeof n.length}const Hi=new l.OlP("NgValidators"),qu=new l.OlP("NgAsyncValidators"),Z6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jo{static min(t){return function $B(n){return t=>{if(Gu(t.value)||Gu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function GB(n){return t=>{if(Gu(t.value)||Gu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function qB(n){return Gu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function WB(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function YB(n){return Gu(n.value)||Z6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ZB(n){return t=>Gu(t.value)||!zB(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function KB(n){return t=>zB(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function QB(n){if(!n)return FI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Gu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return iV(t)}static composeAsync(t){return rV(t)}}function FI(n){return null}function XB(n){return null!=n}function JB(n){const t=(0,l.QGY)(n)?(0,kn.D)(n):n;return(0,l.CqO)(t),t}function eV(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function tV(n,t){return t.map(e=>e(n))}function nV(n){return n.map(t=>function K6(n){return!n.validate}(t)?t:e=>t.validate(e))}function iV(n){if(!n)return null;const t=n.filter(XB);return 0==t.length?null:function(e){return eV(tV(e,t))}}function FR(n){return null!=n?iV(nV(n)):null}function rV(n){if(!n)return null;const t=n.filter(XB);return 0==t.length?null:function(e){return UB(tV(e,t).map(JB)).pipe((0,yt.U)(eV))}}function NR(n){return null!=n?rV(nV(n)):null}function sV(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function oV(n){return n._rawValidators}function aV(n){return n._rawAsyncValidators}function LR(n){return n?Array.isArray(n)?n:[n]:[]}function NI(n,t){return Array.isArray(n)?n.includes(t):n===t}function lV(n,t){const e=LR(t);return LR(n).forEach(r=>{NI(e,r)||e.push(r)}),e}function cV(n,t){return LR(t).filter(e=>!NI(n,e))}class uV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=NR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ic extends uV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gr extends uV{get formDirective(){return null}get path(){return null}}class dV{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let BR=(()=>{class n extends dV{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ic,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),VR=(()=>{class n extends dV{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Gr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function _0(n,t){jR(n,t),t.valueAccessor.writeValue(n.value),function rq(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fV(n,t)})}(n,t),function oq(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function sq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fV(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function iq(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function VI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),HI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function UI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function jR(n,t){const e=oV(n);null!==t.validator?n.setValidators(sV(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=aV(n);null!==t.asyncValidator?n.setAsyncValidators(sV(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();UI(t._rawValidators,r),UI(t._rawAsyncValidators,r)}function HI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=oV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=aV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return UI(t._rawValidators,i),UI(t._rawAsyncValidators,i),e}function fV(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pV(n,t){jR(n,t)}function gV(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function GR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const y0="VALID",jI="INVALID",Xg="PENDING",v0="DISABLED";function WR(n){return(zI(n)?n.validators:n)||null}function _V(n){return Array.isArray(n)?FR(n):n||null}function YR(n,t){return(zI(t)?t.asyncValidators:n)||null}function yV(n){return Array.isArray(n)?NR(n):n||null}function zI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const vV=n=>n instanceof yo,ZR=n=>n instanceof b0;function bV(n){return vV(n)?n.value:n.getRawValue()}function wV(n,t){const e=ZR(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function CV(n,t){ZR(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class KR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=_V(this._rawValidators),this._composedAsyncValidatorFn=yV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===y0}get invalid(){return this.status===jI}get pending(){return this.status==Xg}get disabled(){return this.status===v0}get enabled(){return this.status!==v0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=_V(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=yV(t)}addValidators(t){this.setValidators(lV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cV(t,this._rawAsyncValidators))}hasValidator(t){return NI(this._rawValidators,t)}hasAsyncValidator(t){return NI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=v0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=y0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===y0||this.status===Xg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?v0:y0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xg,this._hasOwnPendingAsyncValidator=!0;const e=JB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function uq(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=ZR(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof hq)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?v0:this.errors?jI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xg)?Xg:this._anyControlsHaveStatus(jI)?jI:y0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yo extends KR{constructor(t=null,e,i){super(WR(e),YR(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zI(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class b0 extends KR{constructor(t,e,i){super(WR(e),YR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){CV(this,t),Object.keys(t).forEach(i=>{wV(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=bV(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class hq extends KR{constructor(t,e,i){super(WR(e),YR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){CV(this,t),t.forEach((i,r)=>{wV(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>bV(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const fq={provide:Gr,useExisting:(0,l.Gpc)(()=>$I)},w0=(()=>Promise.resolve(null))();let $I=(()=>{class n extends Gr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new b0({},FR(e),NR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){w0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),_0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){w0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){w0.then(()=>{const i=this._findContainer(e.path),r=new b0({});pV(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){w0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){w0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,gV(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Hi,10),l.Y36(qu,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([fq]),l.qOj]}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const XR=new l.OlP("NgModelWithFormControlWarning"),wq={provide:Gr,useExisting:(0,l.Gpc)(()=>Jg)};let Jg=(()=>{class n extends Gr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(HI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return _0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){VI(e.control||null,e,!1),GR(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,gV(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(VI(i||null,e),vV(r)&&(_0(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);pV(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function aq(n,t){return HI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jR(this.form,this),this._oldForm&&HI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Hi,10),l.Y36(qu,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([wq]),l.qOj,l.TTD]}),n})();const Eq={provide:ic,useExisting:(0,l.Gpc)(()=>GI)};let GI=(()=>{class n extends ic{constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function $R(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===g0?e=s:function cq(n){return Object.getPrototypeOf(n.constructor)===hf}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function zR(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function BI(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(Gr,13),l.Y36(Hi,10),l.Y36(qu,10),l.Y36(ds,10),l.Y36(XR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Eq]),l.qOj,l.TTD]}),n})(),zV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[SV]]}),n})(),$V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zV]}),n})(),GV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:XR,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zV]}),n})();function rO(){return(0,Jn.e)((n,t)=>{let e,i=!1;n.subscribe((0,fn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function qV(n,t=Es.y){return n=null!=n?n:Uq,(0,Jn.e)((e,i)=>{let r,s=!0;e.subscribe((0,fn.x)(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function Uq(n,t){return n===t}var ea=F(2011),Hq=(F(9568),F(3942));function sO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function WV(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function YV(){if(!function zH(){return"undefined"!=typeof atob}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}class C0{constructor(t){this._delegate=t}static fromBase64String(t){return YV(),new C0(Ya.fromBase64String(t))}static fromUint8Array(t){return WV(),new C0(Ya.fromUint8Array(t))}toBase64(){return YV(),this._delegate.toBase64()}toUint8Array(){return WV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oO(n){return function $q(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Gq{enableIndexedDbPersistence(t,e){return function Fz(n,t){_L(n=Xt(n,Vn));const e=yi(n),i=n._freezeSettings(),r=new Pk;return gL(e,r,new XN(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Nz(n){_L(n=Xt(n,Vn));const t=yi(n),e=n._freezeSettings(),i=new Pk;return gL(t,i,new gz(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Lz(n){if(n._initialized&&!n._terminated)throw new Ie(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(e=(0,Y.Z)(function*(i){if(!jr.C())return Promise.resolve();const r=i+"main";yield jr.delete(r)}),function(i){return e.apply(this,arguments)})(MA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class ZV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Mu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Iu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){sL(this._delegate,t,e,i)}enableNetwork(){return function Vz(n){return function Ez(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const t=yield dL(n),e=yield jk(n);return t.setNetworkEnabled(!0),function(i){const r=$e(i);return r._u.delete(0),r0(r)}(e)}))}(yi(n=Xt(n,Vn)))}(this._delegate)}disableNetwork(){return function Uz(n){return function Iz(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const t=yield dL(n),e=yield jk(n);return t.setNetworkEnabled(!1),(i=(0,Y.Z)(function*(r){const s=$e(r);s._u.add(0),yield Ug(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(yi(n=Xt(n,Vn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,JN("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Bz(n){return function(t){const e=new gi;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function rz(n,t){return yk.apply(this,arguments)}(yield zk(t),e)})),e.promise}(yi(n=Xt(n,Vn)))}(this._delegate)}onSnapshotsInSync(t){return function m$(n,t){return function Sz(n,t){const e=new eI(t);return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield Wg(n),r=e,$e(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return i=yield Wg(n),r=e,void $e(i).Ru.delete(r);var i,r}))}}(yi(n=Xt(n,Vn)),Gk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new e_(this,oL(this._delegate,t))}catch(e){throw qr(e,"collection()","Firestore.collection()")}}doc(t){try{return new vo(this,JE(this._delegate,t))}catch(e){throw qr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Wr(this,function _z(n,t){if(n=Xt(n,o0),Fk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(re.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gr(n,null,(e=t,new Zl(y.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw qr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function y$(n,t,e){n=Xt(n,Vn);const i=Object.assign(Object.assign({},g$),e);return function(r){if(r.maxAttempts<1)throw new Ie(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new gi;return r.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const m=yield function hL(n){return tI(n).then(t=>t.datastore)}(r);new Cz(r.asyncQueue,m,u,s,h).run()})),h.promise}(yi(n),r=>t(new _$(n,r)),i)}(this._delegate,e=>t(new KV(this,e)))}batch(){return yi(this._delegate),new QV(new NL(this._delegate,t=>Zg(this._delegate,t)))}loadBundle(t){return function Hz(n,t){const e=yi(n=Xt(n,Vn)),i=new Rz;return function xz(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,m=function(m,v){if(m instanceof Uint8Array)return lL(m,v);if(m instanceof ArrayBuffer)return lL(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new yz(m,u);var m}(e,n0(t));n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function mz(n,t,e){const i=$e(n);var r;(r=(0,Y.Z)(function*(s,u,h){try{const m=yield u.getMetadata();if(yield function(k,P){const U=$e(k),Q=_i(P.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",ae=>U.Ns.getBundleMetadata(ae,P.id)).then(ae=>!!ae&&ae.createTime.compareTo(Q)>=0)}(s.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(k=m).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);h._updateProgress(jN(m));const v=new Y3(m,s.localStore,u.yt);let D=yield u.mc();for(;D;){const k=yield v.Fu(D);k&&h._updateProgress(k),D=yield u.mc()}const T=yield v.complete();return yield Xl(s,T.Lu,void 0),yield function(k,P){const U=$e(k);return U.persistence.runTransaction("Save bundle","readwrite",Q=>U.Ns.saveBundleMetadata(Q,P))}(s.localStore,m),h._completeWith(T.progress),Promise.resolve(T.Bu)}catch(m){return Iu("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var k}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function jz(n,t){return function Az(n,t){return n.asyncQueue.enqueue((0,Y.Z)(function*(){return function(e,i){const r=$e(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield nI(n),t)}))}(yi(n=Xt(n,Vn)),t).then(e=>e?new gr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Wr(this,e):null)}}class WI extends Jk{constructor(t){super(),this.firestore=t}convertBytes(t){return new C0(new Ya(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return vo.forKey(e,this.firestore,null)}}class KV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new WI(t)}get(t){const e=mf(t);return this._delegate.get(e).then(i=>new D0(this._firestore,new ec(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=mf(t);return i?(sO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=mf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=mf(t);return this._delegate.delete(e),this}}class QV{constructor(t){this._delegate=t}set(t,e,i){const r=mf(t);return i?(sO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=mf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=mf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class pf{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new d0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new E0(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=pf.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new pf(t,new WI(t),e),r.set(e,s)),s}}pf.INSTANCES=new WeakMap;class vo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new WI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new vo(e,new Bn(e._delegate,i,new I(t)))}static forKey(t,e,i){return new vo(e,new Bn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new e_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new e_(this.firestore,oL(this._delegate,t))}catch(e){throw qr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,pt.m9)(t))instanceof Bn&&aL(this._delegate,t)}set(t,e){e=sO("DocumentReference.set",e);try{return e?OL(this._delegate,t,e):OL(this._delegate,t)}catch(i){throw qr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?PL(this._delegate,t):PL(this._delegate,t,e,...i)}catch(r){throw qr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function f$(n){return Zg(Xt(n.firestore,Vn),[new Rg(n._key,Wn.none())])}(this._delegate)}onSnapshot(...t){const e=XV(t),i=JV(t,r=>new D0(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return FL(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function l$(n){n=Xt(n,Bn);const t=Xt(n.firestore,Vn),e=yi(t),i=new Uu(t);return function Tz(n,t){const e=new gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(r,s,u){try{const h=yield function(m,v){const D=$e(m);return D.persistence.runTransaction("read document","readonly",T=>D.localDocuments.getDocument(T,v))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ie(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=zg(h,`Failed to get document '${s} from cache`);u.reject(m)}}),function(r,s,u){return i.apply(this,arguments)})(yield nI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ec(t,i,n._key,r,new sf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function c$(n){n=Xt(n,Bn);const t=Xt(n.firestore,Vn);return fL(yi(t),n._key,{source:"server"}).then(e=>eR(t,n,e))}(this._delegate):function a$(n){n=Xt(n,Bn);const t=Xt(n.firestore,Vn);return fL(yi(t),n._key).then(e=>eR(t,n,e))}(this._delegate),e.then(i=>new D0(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new vo(this.firestore,this._delegate.withConverter(t?pf.getInstance(this.firestore,t):null))}}function qr(n,t,e){return n.message=n.message.replace(t,e),n}function XV(n){for(const t of n)if("object"==typeof t&&!oO(t))return t;return{}}function JV(n,t){var e,i;let r;return r=oO(n[0])?n[0]:oO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class D0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return RL(this._delegate,t._delegate)}}class E0 extends D0{data(t){const e=this._delegate.data(t);return function Yx(n,t){n||Ze()}(void 0!==e),e}}class Wr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new WI(t)}where(t,e,i){try{return new Wr(this.firestore,Bu(this._delegate,function Qz(n,t,e){const i=t,r=lI("where",n);return u0._create(r,i,e)}(t,e,i)))}catch(r){throw qr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Wr(this.firestore,Bu(this._delegate,function Xz(n,t="asc"){const e=t,i=lI("orderBy",n);return Xk._create(i,e)}(t,e)))}catch(i){throw qr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Wr(this.firestore,Bu(this._delegate,function Jz(n){return nL("limit",n),cI._create("limit",n,"F")}(t)))}catch(e){throw qr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Wr(this.firestore,Bu(this._delegate,function e$(n){return nL("limitToLast",n),cI._create("limitToLast",n,"L")}(t)))}catch(e){throw qr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Wr(this.firestore,Bu(this._delegate,function t$(...n){return uI._create("startAt",n,!0)}(...t)))}catch(e){throw qr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Wr(this.firestore,Bu(this._delegate,function n$(...n){return uI._create("startAfter",n,!1)}(...t)))}catch(e){throw qr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Wr(this.firestore,Bu(this._delegate,function i$(...n){return dI._create("endBefore",n,!1)}(...t)))}catch(e){throw qr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Wr(this.firestore,Bu(this._delegate,function r$(...n){return dI._create("endAt",n,!0)}(...t)))}catch(e){throw qr(e,"endAt()","Query.endAt()")}}isEqual(t){return Nk(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function d$(n){n=Xt(n,gr);const t=Xt(n.firestore,Vn),e=yi(t),i=new Uu(t);return function Mz(n,t){const e=new gi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(r,s,u){try{const h=yield qE(r,s,!0),m=new GN(s,h.Hi),v=m.Wu(h.documents),D=m.applyChanges(v,!1);u.resolve(D.snapshot)}catch(h){const m=zg(h,`Failed to execute query '${s} against cache`);u.reject(m)}}),function(r,s,u){return i.apply(this,arguments)})(yield nI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Vu(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function h$(n){n=Xt(n,gr);const t=Xt(n.firestore,Vn),e=yi(t),i=new Uu(t);return pL(e,n._query,{source:"server"}).then(r=>new Vu(t,i,n,r))}(this._delegate):function u$(n){n=Xt(n,gr);const t=Xt(n.firestore,Vn),e=yi(t),i=new Uu(t);return IL(n._query),pL(e,n._query).then(r=>new Vu(t,i,n,r))}(this._delegate),e.then(i=>new aO(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=XV(t),i=JV(t,r=>new aO(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return FL(this._delegate,e,i)}withConverter(t){return new Wr(this.firestore,this._delegate.withConverter(t?pf.getInstance(this.firestore,t):null))}}class Wq{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new E0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new E0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Wq(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new E0(this._firestore,i))})}isEqual(t){return RL(this._delegate,t._delegate)}}class e_ extends Wr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new vo(this.firestore,t):null}doc(t){try{return new vo(this.firestore,void 0===t?JE(this._delegate):JE(this._delegate,t))}catch(e){throw qr(e,"doc()","CollectionReference.doc()")}}add(t){return function p$(n,t){const e=Xt(n.firestore,Vn),i=JE(n),r=hI(n.converter,t);return Zg(e,[sI(nf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new vo(this.firestore,e))}isEqual(t){return aL(this._delegate,t._delegate)}withConverter(t){return new e_(this.firestore,this._delegate.withConverter(t?pf.getInstance(this.firestore,t):null))}}function mf(n){return Xt(n,Bn)}class lO{constructor(...t){this._delegate=new Jl(...t)}static documentId(){return new lO(E.keyField().canonicalString())}isEqual(t){return(t=(0,pt.m9)(t))instanceof Jl&&this._delegate._internalPath.isEqual(t._internalPath)}}class gf{constructor(t){this._delegate=t}static serverTimestamp(){const t=function b$(){return new qk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new gf(t)}static delete(){const t=function v$(){return new a0("deleteField")}();return t._methodName="FieldValue.delete",new gf(t)}static arrayUnion(...t){const e=function w$(...n){return new qz("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new gf(e)}static arrayRemove(...t){const e=function C$(...n){return new Wz("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new gf(e)}static increment(t){const e=function D$(n){return new Yz("increment",n)}(t);return e._methodName="FieldValue.increment",new gf(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Yq={Firestore:ZV,GeoPoint:iI,Timestamp:d,Blob:C0,Transaction:KV,WriteBatch:QV,DocumentReference:vo,DocumentSnapshot:D0,Query:Wr,QueryDocumentSnapshot:E0,QuerySnapshot:aO,CollectionReference:e_,FieldPath:lO,FieldValue:gf,setLogLevel:function qq(n){!function Wx(n){Ko.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Kq(n){(function Zq(n,t){n.INTERNAL.registerComponent(new rs.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Yq)))})(n,(t,e)=>new ZV(t,e,new Gq)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Hq.Z);var Wu=F(6451);class Qq extends St.x{constructor(t=1/0,e=1/0,i=mm){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)h=m;h&&i.splice(0,h+1)}}}var e2=F(3099);function t2(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,e2.B)({connector:()=>new Qq(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function n2(n,t){return(0,Fi.m)(t)?fi(()=>n,t):fi(()=>n)}F(9260);const r2=new l.OlP("angularfire2.auth.use-emulator"),s2=new l.OlP("angularfire2.auth.settings"),o2=new l.OlP("angularfire2.auth.tenant-id"),a2=new l.OlP("angularfire2.auth.langugage-code"),l2=new l.OlP("angularfire2.auth.use-device-language"),c2=new l.OlP("angularfire.auth.persistence"),u2=(n,t,e,i,r,s,u,h)=>(0,ea.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),u)for(const[v,D]of Object.entries(u))m.settings[v]=D;return h&&m.setPersistence(h),m},[e,i,r,s,u,h]);let d2=(()=>{class n{constructor(e,i,r,s,u,h,m,v,D,T,k,P){const U=new St.x,Q=Qe(void 0).pipe((0,Ll.Q)(u.outsideAngular),fi(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,yt.U)(()=>(0,ea.on)(e,s,i)),(0,yt.U)(ae=>u2(ae,s,h,v,D,T,m,k)),t2({bufferSize:1,refCount:!1}));if(ki(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{Q.pipe(ma()).subscribe();const Fe=Q.pipe(fi(st=>st.getRedirectResult().then(Et=>Et,()=>null)),cr,t2({bufferSize:1,refCount:!1})),Ye=Q.pipe(fi(st=>new zn.y(Et=>({unsubscribe:s.runOutsideAngular(()=>st.onAuthStateChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))})))),it=Q.pipe(fi(st=>new zn.y(Et=>({unsubscribe:s.runOutsideAngular(()=>st.onIdTokenChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))}))));this.authState=Fe.pipe(n2(Ye),(0,ou.R)(u.outsideAngular),(0,Ll.Q)(u.insideAngular)),this.user=Fe.pipe(n2(it),(0,ou.R)(u.outsideAngular),(0,Ll.Q)(u.insideAngular)),this.idToken=this.user.pipe(fi(st=>st?(0,kn.D)(st.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(fi(st=>st?(0,kn.D)(st.getIdTokenResult()):Qe(null))),this.credential=(0,Wu.T)(Fe,U,this.authState.pipe(Mn(st=>!st))).pipe((0,yt.U)(st=>(null==st?void 0:st.user)?st:null),(0,ou.R)(u.outsideAngular),(0,Ll.Q)(u.insideAngular))}return(0,ea.pX)(this,Q,s,{spy:{apply:(ae,Fe,Ye)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&Ye.then(it=>U.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ea.Dh),l.LFG(ea.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bm),l.LFG(r2,8),l.LFG(s2,8),l.LFG(o2,8),l.LFG(a2,8),l.LFG(l2,8),l.LFG(c2,8),l.LFG(Ul,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function h2(n,t){return function Jq(n,t=su){return new zn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function cO(n,t){return h2(n,t).pipe((0,yt.U)(e=>({payload:e,type:"query"})))}function YI(n,t){return cO(n,t).pipe(ei(void 0),rO(),(0,yt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=r.find(D=>D.doc.ref.isEqual(u.ref)),v=null==e?void 0:e.payload.docs.find(D=>D.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function f2(n,t,e){return YI(n,e).pipe(es((i,r)=>function tW(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function nW(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return uO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return uO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return uO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),qV(),(0,yt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function uO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function p2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class m2{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=YI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,yt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ei(void 0),rO(),Mn(([i,r])=>r.length>0||!i),(0,yt.U)(([i,r])=>r),cr)}auditTrail(t){return this.stateChanges(t).pipe(es((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=p2(t);return f2(this.query,e,this.afs.schedulers.outsideAngular).pipe(cr)}valueChanges(t={}){return cO(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),cr)}get(t){return(0,kn.D)(this.query.get(t)).pipe(cr)}add(t){return this.ref.add(t)}doc(t){return new g2(this.ref.doc(t),this.afs)}}class g2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=_2(i,e);return new m2(r,s,this.afs)}snapshotChanges(){return function eW(n,t){return h2(n,t).pipe(ei(void 0),rO(),(0,yt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cr)}valueChanges(t={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,kn.D)(this.ref.get(t)).pipe(cr)}}class iW{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?YI(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Mn(e=>e.length>0),cr):YI(this.query,this.afs.schedulers.outsideAngular).pipe(cr)}auditTrail(t){return this.stateChanges(t).pipe(es((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=p2(t);return f2(this.query,e,this.afs.schedulers.outsideAngular).pipe(cr)}valueChanges(t={}){return cO(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),cr)}get(t){return(0,kn.D)(this.query.get(t)).pipe(cr)}}const rW=new l.OlP("angularfire2.enableFirestorePersistence"),sW=new l.OlP("angularfire2.firestore.persistenceSettings"),oW=new l.OlP("angularfire2.firestore.settings"),aW=new l.OlP("angularfire2.firestore.use-emulator");function _2(n,t=(e=>e)){return{query:t(n),ref:n}}let lW=(()=>{class n{constructor(e,i,r,s,u,h,m,v,D,T,k,P,U,Q,ae,Fe,Ye){this.schedulers=m;const it=(0,ea.on)(e,h,i),st=D;T&&u2(it,h,k,U,Q,ae,P,Fe),[this.firestore,this.persistenceEnabled$]=(0,ea.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const Et=h.runOutsideAngular(()=>it.firestore());if(s&&Et.settings(s),st&&Et.useEmulator(...st),r&&!ki(u)){const Tt=()=>{try{return(0,kn.D)(Et.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(en){return"undefined"!=typeof console&&console.warn(en),Qe(!1)}};return[Et,h.runOutsideAngular(Tt)]}return[Et,Qe(!1)]},[s,st,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=_2(r,i),h=this.schedulers.ngZone.run(()=>s);return new m2(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new iW(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new g2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ea.Dh),l.LFG(ea.xv,8),l.LFG(rW,8),l.LFG(oW,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bm),l.LFG(sW,8),l.LFG(aW,8),l.LFG(d2,8),l.LFG(r2,8),l.LFG(s2,8),l.LFG(o2,8),l.LFG(a2,8),l.LFG(l2,8),l.LFG(c2,8),l.LFG(Ul,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),y2=(()=>{class n{constructor(e){this.firestore=e}getStudents(){return this.firestore.collection("Students").valueChanges()}addStudent(e){this.firestore.collection("Students").add(e).then(i=>{const r=Object.assign({},e);r.id=i.id,this.firestore.collection("Students").doc(r.id).update(r)})}deleteStudent(e){this.firestore.collection("Students").doc(e).delete()}editStudent(e){this.firestore.collection("Students").doc(e.id).update(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lW))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _n(n){return null!=n&&"false"!=`${n}`}function dO(n,t=0){return v2(n)?Number(n):t}function v2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function b2(n){return Array.isArray(n)?n:[n]}function xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function rc(n){return n instanceof l.SBq?n.nativeElement:n}var uW=F(1144);const dW=["addListener","removeListener"],hW=["addEventListener","removeEventListener"],fW=["on","off"];function I0(n,t,e,i){if((0,Fi.m)(e)&&(i=e,e=void 0),i)return I0(n,t,e).pipe(Dc(i));const[r,s]=function gW(n){return(0,Fi.m)(n.addEventListener)&&(0,Fi.m)(n.removeEventListener)}(n)?hW.map(u=>h=>n[u](t,h,e)):function pW(n){return(0,Fi.m)(n.addListener)&&(0,Fi.m)(n.removeListener)}(n)?dW.map(w2(n,t)):function mW(n){return(0,Fi.m)(n.on)&&(0,Fi.m)(n.off)}(n)?fW.map(w2(n,t)):[];if(!r&&(0,uW.z)(n))return(0,Rn.z)(u=>I0(u,t,e))((0,Jr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new zn.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return r(h),()=>s(h)})}function w2(n,t){return e=>i=>n[e](t,i)}const T0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=T0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Xn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=T0;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=T0;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class yW extends ru{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class _W extends pm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=T0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(T0.cancelAnimationFrame(e),t._scheduled=void 0)}});let hO,bW=1;const ZI={};function C2(n){return n in ZI&&(delete ZI[n],!0)}const wW={setImmediate(n){const t=bW++;return ZI[t]=!0,hO||(hO=Promise.resolve()),hO.then(()=>C2(t)&&n()),t},clearImmediate(n){C2(n)}},{setImmediate:CW,clearImmediate:DW}=wW,KI={setImmediate(...n){const{delegate:t}=KI;return((null==t?void 0:t.setImmediate)||CW)(...n)},clearImmediate(n){const{delegate:t}=KI;return((null==t?void 0:t.clearImmediate)||DW)(n)},delegate:void 0};new class IW extends ru{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class EW extends pm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=KI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(KI.clearImmediate(e),t._scheduled=void 0)}});var SW=F(3532);function D2(n,t=su){return function MW(n){return(0,Jn.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},m=()=>{s=null,u&&e.complete()};t.subscribe((0,fn.x)(e,v=>{i=!0,r=v,s||(0,Jr.Xf)(n(v)).subscribe(s=(0,fn.x)(e,h,m))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function AW(n=0,t,e=tD){let i=-1;return null!=t&&((0,SW.K)(t)?e=t:i=t),new zn.y(r=>{let s=function xW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let fO;try{fO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){fO=!1}let t_,Yr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function qi(n){return n===td}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function I2(){if(t_)return t_;if("object"!=typeof document||!document)return t_=new Set(E2),t_;let n=document.createElement("input");return t_=new Set(E2.filter(t=>(n.setAttribute("type",t),n.type===t))),t_}let M0,yf,pO;function _f(n){return function kW(){if(null==M0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>M0=!0}))}finally{M0=M0||!1}return M0}()?n:!!n.capture}function RW(){if(null==yf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yf=!1,yf;if("scrollBehavior"in document.documentElement.style)yf=!0;else{const n=Element.prototype.scrollTo;yf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yf}function S0(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function vf(n){return n.composedPath?n.composedPath()[0]:n.target}function mO(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const FW=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function NW(){return(0,l.f3M)(ce)}}),LW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function BW(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?LW.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(FW,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),UW=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new St.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(D2(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Mn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=rc(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>I0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Yr),l.LFG(ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gO=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new St.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(D2(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yr),l.LFG(l.R0b),l.LFG(ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[x0,n_],x0,n_]}),n})();class yO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class A0 extends yO{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class T2 extends yO{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class jW extends yO{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class vO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof A0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof T2?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof jW?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zW extends vO{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let XI=(()=>{class n extends vO{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ce))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),k0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var $W=F(5032);function hs(n){return(0,Jn.e)((t,e)=>{(0,Jr.Xf)(n).subscribe((0,fn.x)(e,()=>e.complete(),$W.Z)),!e.closed&&t.subscribe(e)})}const M2=RW();class GW{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=xi(-this._previousScrollPosition.left),t.style.top=xi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),M2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),M2&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class qW{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class S2{enable(){}disable(){}attach(){}}function bO(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function x2(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class WW{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YW=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new S2,this.close=u=>new qW(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new GW(this._viewportRuler,this._document),this.reposition=u=>new WW(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(UW),l.LFG(gO),l.LFG(l.R0b),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wO{constructor(t){if(this.scrollStrategy=new S2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class ZW{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class KW{constructor(t,e,i,r,s,u,h,m,v){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new St.x,this._attachments=new St.x,this._detachments=new St.x,this._locationChanges=Xn.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new St.x,this._outsidePointerEvents=new St.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=xi(this._config.width),t.height=xi(this._config.height),t.minWidth=xi(this._config.minWidth),t.minHeight=xi(this._config.minHeight),t.maxWidth=xi(this._config.maxWidth),t.maxHeight=xi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=b2(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(hs((0,Wu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let CO=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||mO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),mO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(Yr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A2="cdk-overlay-connected-position-bounding-box",QW=/([A-Za-z%]+)$/;class k2{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.x,this._resizeSubscription=Xn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(A2),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(m,e,h),D=this._getOverlayFit(v,e,i,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(D,v,i)?s.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:v,originPoint:m,position:h,overlayRect:e})}if(s.length){let h=null,m=-1;for(const v of s){const D=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);D>m&&(m=D,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(A2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=O2(e);let{x:u,y:h}=t,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(u+=m),v&&(h+=v);let k=0-h,P=h+s.height-i.height,U=this._subtractOverflows(s.width,0-u,u+s.width-i.width),Q=this._subtractOverflows(s.height,k,P),ae=U*Q;return{visibleArea:ae,isCompletelyWithinViewport:s.width*s.height===ae,fitsInViewportVertically:Q===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=R2(this._overlayRef.getConfig().minHeight),h=R2(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=O2(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),m=Math.max(s.top-i.top-t.y,0),v=Math.max(s.left-i.left-t.x,0);let D=0,T=0;return D=r.width<=s.width?v||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,T=r.height<=s.height?m||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:D,y:T},{x:t.x+D,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new ZW(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,D,T,k;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;s=2*P,u=t.y-P,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)k=i.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,D=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;D=2*P,T=t.x-P,D>U&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-U/2)}return{top:u,left:T,bottom:h,right:k,width:D,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=xi(i.height),r.top=xi(i.top),r.bottom=xi(i.bottom),r.width=xi(i.width),r.left=xi(i.left),r.right=xi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=xi(s)),u&&(r.maxWidth=xi(u))}this._lastBoundingBoxSize=i,bf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){bf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();bf(i,this._getExactOverlayY(e,t,D)),bf(i,this._getExactOverlayX(e,t,D))}else i.position="static";let h="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=xi(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=xi(u.maxWidth):s&&(i.maxWidth="")),bf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=xi(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=xi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:x2(t,i),isOriginOutsideView:bO(t,i),isOverlayClipped:x2(e,i),isOverlayOutsideView:bO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&b2(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function bf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function R2(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(QW);return e&&"px"!==e?null:parseFloat(t)}return n||null}function O2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const P2="cdk-global-overlay-wrapper";class XW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(P2),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(P2),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let JW=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new XW}flexibleConnectedTo(e){return new k2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(gO),l.LFG(ce),l.LFG(Yr),l.LFG(CO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e4=(()=>{class n extends F2{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t4=(()=>{class n extends F2{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=vf(s)},this._clickListener=s=>{const u=vf(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const D=m[v];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(h))break;const T=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(Yr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n4=0,oc=(()=>{class n{constructor(e,i,r,s,u,h,m,v,D,T,k){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=v,this._directionality=D,this._location=T,this._outsideClickDispatcher=k}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new wO(e);return u.direction=u.direction||this._directionality.value,new KW(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+n4++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new zW(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(YW),l.LFG(CO),l.LFG(l._Vd),l.LFG(JW),l.LFG(e4),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ce),l.LFG(sc),l.LFG(me),l.LFG(t4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const o4={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[oc],useFactory:function s4(n){return()=>n.scrollStrategies.reposition()}};let i_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[oc,o4],imports:[[x0,k0,_O],_O]}),n})();function If(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}let V2=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_4=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=rc(e);return new zn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new St.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(V2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EO=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=_n(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=dO(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function B2(n,t=su){return(0,Jn.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function m(){const v=u+n,D=t.now();if(D<v)return r=this.schedule(void 0,v-D),void i.add(r);h()}e.subscribe((0,fn.x)(i,v=>{s=v,u=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(_4),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),P0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[V2]}),n})(),j2=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function D4(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function C4(n){try{return n.frameElement}catch(t){return null}}(function k4(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===$2(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=$2(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function x4(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function A4(n){return!function I4(n){return function M4(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function E4(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function T4(n){return function S4(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||z2(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z2(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function $2(n){if(!z2(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class R4{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(si(1)).subscribe(t)}}let G2=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new R4(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(j2),l.LFG(l.R0b),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O4=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=_n(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=_n(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=S0(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(G2),l.Y36(ce))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[l.TTD]}),n})();function q2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function W2(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const P4=new l.OlP("cdk-input-modality-detector-options"),F4={ignoreKeys:[18,17,224,91,16]},r_=_f({passive:!0,capture:!0});let N4=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new jn(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,m;(null===(m=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===m?void 0:m.some(v=>v===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=vf(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(q2(u)?"keyboard":"mouse"),this._mostRecentTarget=vf(u))},this._onTouchstart=u=>{W2(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vf(u))},this._options=Object.assign(Object.assign({},F4),s),this.modalityDetected=this._modality.pipe(function g4(n){return Mn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(qV()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,r_),r.addEventListener("mousedown",this._onMousedown,r_),r.addEventListener("touchstart",this._onTouchstart,r_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,r_),document.removeEventListener("mousedown",this._onMousedown,r_),document.removeEventListener("touchstart",this._onTouchstart,r_))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yr),l.LFG(l.R0b),l.LFG(ce),l.LFG(P4,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B4=new l.OlP("cdk-focus-monitor-default-options"),iT=_f({passive:!0,capture:!0});let s_=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.x,this._rootNodeFocusAndBlurListener=h=>{const m=vf(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let D=m;D;D=D.parentElement)v.call(this,h,D)},this._document=s,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=rc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Qe(null);const s=function PW(n){if(function OW(){if(null==pO){const n="undefined"!=typeof document?document.head:null;pO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pO}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new St.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=rc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=rc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=vf(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,iT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,iT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hs(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,iT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,iT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Yr),l.LFG(N4),l.LFG(ce,8),l.LFG(B4,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V4=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new l.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(s_))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Z2="cdk-high-contrast-black-on-white",K2="cdk-high-contrast-white-on-black",IO="cdk-high-contrast-active";let Q2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(IO),e.remove(Z2),e.remove(K2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(IO),e.add(Z2)):2===i&&(e.add(IO),e.add(K2))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yr),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TO=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q2))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[P0]]}),n})();const z4=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function j4(){return!0}});let Lt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!mO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q2),l.LFG(z4,8),l.LFG(ce))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[x0],x0]}),n})();function MO(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=_n(t)}}}function Tf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function F0(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=_n(t)}}}function J2(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?dO(e):this.defaultTabIndex}}}function $4(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new St.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const G4=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function q4(){return(0,l.f3M)(l.soG)}});class yr{constructor(){this._localeChanges=new St.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Mf=new l.OlP("mat-date-formats"),W4=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function SO(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Y4=(()=>{class n extends yr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return SO(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return SO(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return SO(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(W4.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(G4,8),l.LFG(Yr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Z4={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:yr,useClass:Y4}]}),n})(),Q4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Mf,useValue:Z4}],imports:[[K4]]}),n})(),eU=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt],Lt]}),n})();class e5{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nU={enterDuration:225,exitDuration:150},xO=_f({passive:!0}),iU=["mousedown","touchstart"],rU=["mouseup","mouseleave","touchend","touchcancel"];class n5{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=rc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},nU),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function s5(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,v=s.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-u+"px",D.style.top=m-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(D),function r5(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const T=new e5(this,D,i);return T.state=0,this._activeRipples.add(T),i.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const k=T===this._mostRecentTransientRipple;T.state=1,!i.persistent&&(!k||!this._isPointerDown)&&T.fadeOut()},v),T}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},nU),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=rc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(iU))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(rU),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=q2(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!W2(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,xO)})})}_removeTriggerEvents(){this._triggerElement&&(iU.forEach(t=>{this._triggerElement.removeEventListener(t,this,xO)}),this._pointerUpEventsRegistered&&rU.forEach(t=>{this._triggerElement.removeEventListener(t,this,xO)}))}}const o5=new l.OlP("mat-ripple-global-options");let o_=(()=>{class n{constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new n5(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Yr),l.Y36(o5,8),l.Y36(Xo,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Sf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt],Lt]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt]]}),n})(),sU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sf,Fn,Lt,AO]]}),n})();function l5(n,t){}class kO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const c5={dialogContainer:_r("dialogContainer",[wn("void, exit",gt({opacity:0,transform:"scale(0.7)"})),wn("enter",gt({transform:"none"})),gn("* => enter",UL([In("150ms cubic-bezier(0, 0, 0.2, 1)",gt({transform:"none",opacity:1})),pI("@*",fI(),{optional:!0})])),gn("* => void, * => exit",UL([In("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",gt({opacity:0})),pI("@*",fI(),{optional:!0})]))])};let u5=(()=>{class n extends vO{constructor(e,i,r,s,u,h,m,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=m,this._focusMonitor=v,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=S0())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=S0(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=S0();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(G2),l.Y36(l.sBO),l.Y36(ce,8),l.Y36(kO),l.Y36(j2),l.Y36(l.R0b),l.Y36(s_))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(XI,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),d5=(()=>{class n extends u5{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,l5,0,0,"ng-template",0)},directives:[XI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[c5.dialogContainer]}}),n})(),h5=0;class L0{constructor(t,e,i="mat-dialog-"+h5++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new St.x,this._afterClosed=new St.x,this._beforeClosed=new St.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Mn(r=>"opened"===r.state),si(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Mn(r=>"closed"===r.state),si(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Mn(r=>27===r.keyCode&&!this.disableClose&&!If(r))).subscribe(r=>{r.preventDefault(),RO(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():RO(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Mn(e=>"closing"===e.state),si(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function RO(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const oU=new l.OlP("MatDialogData"),f5=new l.OlP("mat-dialog-default-options"),aU=new l.OlP("mat-dialog-scroll-strategy"),m5={provide:aU,deps:[oc],useFactory:function p5(n){return()=>n.scrollStrategies.block()}};let g5=(()=>{class n{constructor(e,i,r,s,u,h,m,v,D,T){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._dialogRefConstructor=m,this._dialogContainerType=v,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.x,this._afterOpenedAtThisLevel=new St.x,this._ariaHiddenElements=new Map,this.afterAllClosed=fa(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ei(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function _5(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new kO),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),s._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new wO({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:kO,useValue:i}]}),u=new A0(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,s){const u=new this._dialogRefConstructor(r,i,s.id);if(e instanceof l.Rgc)i.attachTemplatePortal(new T2(e,null,{$implicit:s.data,dialogRef:u}));else{const h=this._createInjector(s,u,i),m=i.attachComponentPortal(new A0(e,s.viewContainerRef,h,s.componentFactoryResolver));u.componentInstance=m.instance}return u.updateSize(s.width,s.height).updatePosition(s.position),u}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(sc,null,l.XFs.Optional))&&u.push({provide:sc,useValue:{value:e.direction,change:Qe()}}),l.zs3.create({parent:s||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),rT=(()=>{class n extends g5{constructor(e,i,r,s,u,h,m,v){super(e,i,s,h,m,u,L0,d5,oU,v)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oc),l.LFG(l.zs3),l.LFG(me,8),l.LFG(f5,8),l.LFG(aU),l.LFG(n,12),l.LFG(CO),l.LFG(Xo,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),y5=0,v5=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=cU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){RO(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(L0,8),l.Y36(l.SBq),l.Y36(rT))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&l.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),b5=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+y5++}ngOnInit(){this._dialogRef||(this._dialogRef=cU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(L0,8),l.Y36(l.SBq),l.Y36(rT))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&l.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),lU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function cU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let uU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rT,m5],imports:[[i_,k0,Lt],Lt]}),n})(),dU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt],Lt]}),n})();const w5=["*"];let sT;function B0(n){var t;return(null===(t=function C5(){if(void 0===sT&&(sT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(sT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return sT}())||void 0===t?void 0:t.createHTML(n))||n}function hU(n){return Error(`Unable to find icon with the name "${n}"`)}function fU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function pU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xf{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let oT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new xf(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw pU(r);const h=B0(u);return this._addSvgIconConfig(e,i,new xf("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new xf(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw pU(i);const u=B0(s);return this._addSvgIconSetConfig(e,new xf("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw fU(e);const r=this._cachedIconsByUrl.get(i);return r?Qe(aT(r)):this._loadSvgIconFromConfig(new xf(e,null)).pipe(oi(s=>this._cachedIconsByUrl.set(i,s)),(0,yt.U)(s=>aT(s)))}getNamedSvgIcon(e,i=""){const r=mU(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):xo(hU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Qe(aT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,yt.U)(i=>aT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Qe(r):UB(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Rr(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),Qe(null)})))).pipe((0,yt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw hU(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(oi(i=>e.svgText=i),(0,yt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Qe(null):this._fetchIcon(e).pipe(oi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(B0("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(B0("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,u=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function D5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!h)throw fU(r);const m=this._inProgressUrlFetches.get(h);if(m)return m;const v=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,yt.U)(D=>B0(D)),D_(()=>this._inProgressUrlFetches.delete(h)),(0,e2.B)());return this._inProgressUrlFetches.set(h,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(mU(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return I5(s)?new xf(s.url,null,s.options):new xf(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(kR,8),l.LFG(Qr),l.LFG(ce,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aT(n){return n.cloneNode(!0)}function mU(n,t){return n+":"+t}function I5(n){return!(!n.url||!n.options)}const T5=Tf(class{constructor(n){this._elementRef=n}}),M5=new l.OlP("mat-icon-location",{providedIn:"root",factory:function S5(){const n=(0,l.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),gU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],x5=gU.map(n=>`[${n}]`).join(", "),A5=/^url\(['"]?#(.*?)['"]?\)$/;let k5=(()=>{class n extends T5{constructor(e,i,r,s,u){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Xn.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=_n(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(x5),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)gU.forEach(u=>{const h=i[s],m=h.getAttribute(u),v=m?m.match(A5):null;if(v){let D=r.get(h);D||(D=[],r.set(h,D)),D.push({name:u,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(si(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(oT),l.$8M("aria-hidden"),l.Y36(M5),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:w5,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),_U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt],Lt]}),n})();function OO(n){return n&&"function"==typeof n.connect}class yU{applyChanges(t,e,i,r,s){t.forEachOperation((u,h,m)=>{let v,D;if(null==u.previousIndex){const T=i(u,h,m);v=e.createEmbeddedView(T.templateRef,T.context,T.index),D=1}else null==m?(e.remove(h),D=3):(v=e.get(h),e.move(v,m),D=2);s&&s({context:null==v?void 0:v.context,operation:D,record:u})})}detach(){}}const V0=new l.OlP("_ViewRepeater"),P5=[[["caption"]],[["colgroup"],["col"]]],F5=["caption","colgroup, col"];function PO(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=_n(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const a_=new l.OlP("CDK_TABLE");let l_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),c_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),lT=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class V5{}const U5=PO(V5);let ac=(()=>{class n extends U5{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=_n(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(a_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,l_,5),l.Suo(r,c_,5),l.Suo(r,lT,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.cell=s.first),l.iGM(s=l.CRH())&&(i.headerCell=s.first),l.iGM(s=l.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class FO{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let NO=(()=>{class n extends FO{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ac),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),LO=(()=>{class n extends FO{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ac),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class CU{constructor(){this.tasks=[],this.endTasks=[]}}const BO=new l.OlP("_COALESCED_STYLE_SCHEDULER");let DU=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new St.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new CU,this._getScheduleObservable().pipe(hs(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new CU;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,kn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(si(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),VO=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof U0?e.headerCell.template:this instanceof H0?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class H5 extends VO{}const j5=PO(H5);let U0=(()=>{class n extends j5{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(a_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class z5 extends VO{}const $5=PO(z5);let H0=(()=>{class n extends $5{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(a_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),cT=(()=>{class n extends VO{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(a_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),lc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[lc],encapsulation:2}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[lc],encapsulation:2}),n})(),uT=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const EU=["top","bottom","left","right"];class G5{constructor(t,e,i,r,s=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(k=>k)&&!i.some(k=>k))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],u=s.children.length,h=this._getCellWidths(s,r),m=this._getStickyStartColumnPositions(h,e),v=this._getStickyEndColumnPositions(h,i),D=e.lastIndexOf(!0),T=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const k="rtl"===this.direction,P=k?"right":"left",U=k?"left":"right";for(const Q of t)for(let ae=0;ae<u;ae++){const Fe=Q.children[ae];e[ae]&&this._addStickyStyle(Fe,P,m[ae],ae===D),i[ae]&&this._addStickyStyle(Fe,U,v[ae],ae===T)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((Q,ae)=>e[ae]?Q:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===T?[]:h.slice(T).map((Q,ae)=>i[ae+T]?Q:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,u=[],h=[],m=[];for(let D=0,T=0;D<r.length;D++){if(!s[D])continue;u[D]=T;const k=r[D];m[D]=this._isNativeHtmlTable?Array.from(k.children):[k];const P=k.getBoundingClientRect().height;T+=P,h[D]=P}const v=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var D,T;for(let k=0;k<r.length;k++){if(!s[k])continue;const P=u[k],U=k===v;for(const Q of m[k])this._addStickyStyle(Q,i,P,U)}"top"===i?null===(D=this._positionListener)||void 0===D||D.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:m}):null===(T=this._positionListener)||void 0===T||T.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);EU.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of EU)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const zO=new l.OlP("CDK_SPL");let dT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),hT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),fT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),pT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),mT=(()=>{class n{constructor(e,i,r,s,u,h,m,v,D,T,k,P){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=m,this._viewRepeater=v,this._coalescedStyleScheduler=D,this._viewportRuler=T,this._stickyPositioningListener=k,this._ngZone=P,this._onDestroy=new St.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new jn({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=_n(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=_n(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(hs(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),OO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(si(1),hs(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&u.push(i[h]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<u.length;h++){let m=u[h];const v=this._cachedRenderRowsMap.get(m.data);v.has(m.rowDef)?v.get(m.rowDef).push(m):v.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const m=h.shift();return m.dataIndex=i,m}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),gT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=gT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=gT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=gT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],OO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;OO(this.dataSource)?e=this.dataSource.connect(this):function O5(n){return!!n&&(n instanceof zn.y||(0,Fi.m)(n.lift)&&(0,Fi.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Qe(this.dataSource)),this._renderChangeSubscription=e.pipe(hs(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const u=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))lc.mostRecentCellOutlet&&lc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new G5(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(hs(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(sc,8),l.Y36(ce),l.Y36(Yr),l.Y36(V0),l.Y36(BO),l.Y36(gO),l.Y36(zO,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,uT,5),l.Suo(r,ac,5),l.Suo(r,cT,5),l.Suo(r,U0,5),l.Suo(r,H0,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._noDataRow=s.first),l.iGM(s=l.CRH())&&(i._contentColumnDefs=s),l.iGM(s=l.CRH())&&(i._contentRowDefs=s),l.iGM(s=l.CRH())&&(i._contentHeaderRowDefs=s),l.iGM(s=l.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(dT,7),l.Gf(hT,7),l.Gf(fT,7),l.Gf(pT,7)),2&e){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:a_,useExisting:n},{provide:V0,useClass:yU},{provide:BO,useClass:DU},{provide:zO,useValue:null}])],ngContentSelectors:F5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(P5),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[hT,dT,pT,fT],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function gT(n,t){return n.concat(Array.from(t))}let W5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_O]]}),n})();const Y5=[[["caption"]],[["colgroup"],["col"]]],Z5=["caption","colgroup, col"];let TU=(()=>{class n extends mT{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:V0,useClass:yU},{provide:mT,useExisting:n},{provide:a_,useExisting:n},{provide:BO,useClass:DU},{provide:zO,useValue:null}]),l.qOj],ngContentSelectors:Z5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(Y5),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[hT,dT,pT,fT],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),$O=(()=>{class n extends l_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:l_,useExisting:n}]),l.qOj]}),n})(),GO=(()=>{class n extends c_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:c_,useExisting:n}]),l.qOj]}),n})(),qO=(()=>{class n extends ac{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:ac,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),WO=(()=>{class n extends NO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),YO=(()=>{class n extends LO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),MU=(()=>{class n extends U0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:U0,useExisting:n}]),l.qOj]}),n})(),SU=(()=>{class n extends cT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:cT,useExisting:n}]),l.qOj]}),n})(),xU=(()=>{class n extends UO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:UO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[lc],encapsulation:2}),n})(),AU=(()=>{class n extends jO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:jO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[lc],encapsulation:2}),n})(),kU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[W5,Lt],Lt]}),n})();class RU extends class a8 extends class R5{}{constructor(t=[]){super(),this._renderData=new jn([]),this._filter=new jn(""),this._internalPageChanges=new St.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(v2(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((u,h)=>{let m=this.sortingDataAccessor(u,r),v=this.sortingDataAccessor(h,r);const D=typeof m,T=typeof v;D!==T&&("number"===D&&(m+=""),"number"===T&&(v+=""));let k=0;return null!=m&&null!=v?m>v?k=1:m<v&&(k=-1):null!=m?k=1:null!=v&&(k=-1),k*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new jn(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Wu.T)(this._sort.sortChange,this._sort.initialized):Qe(null),i=this._paginator?(0,Wu.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Qe(null),s=Xr([this._data,this._filter]).pipe((0,yt.U)(([m])=>this._filterData(m))),u=Xr([s,e]).pipe((0,yt.U)(([m])=>this._orderData(m))),h=Xr([u,i]).pipe((0,yt.U)(([m])=>this._pageData(m)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=h.subscribe(m=>this._renderData.next(m))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}const l8=["mat-button",""],c8=["*"],d8=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],h8=Tf(MO(F0(class{constructor(n){this._elementRef=n}})));let Af=(()=>{class n extends h8{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of d8)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(s_),l.Y36(Xo,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(o_,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:l8,ngContentSelectors:c8,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[o_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),j0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sf,Lt],Lt]}),n})();const f8=["connectionContainer"],p8=["inputContainer"],m8=["label"];function g8(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function _8(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function y8(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function v8(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function b8(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function w8(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.YNc(2,y8,4,1,"ng-container",12),l.YNc(3,v8,1,0,"ng-content",12),l.YNc(4,b8,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function C8(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function D8(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function E8(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function I8(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function T8(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,I8,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const M8=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],S8=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let x8=0;const OU=new l.OlP("MatError");let A8=(()=>{class n{constructor(e,i){this.id="mat-error-"+x8++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:OU,useExisting:n}])]}),n})();const k8={transitionMessages:_r("transitionMessages",[wn("enter",gt({opacity:1,transform:"translateY(0%)"})),gn("void => enter",[gt({opacity:0,transform:"translateY(-5px)"}),In("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ZO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const R8=new l.OlP("MatHint");let _T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),O8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const P8=new l.OlP("MatPrefix"),F8=new l.OlP("MatSuffix");let PU=0;const L8=Tf(class{constructor(n){this._elementRef=n}},"primary"),B8=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),KO=new l.OlP("MatFormField");let NU=(()=>{class n extends L8{constructor(e,i,r,s,u,h,m){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+PU++,this._labelId="mat-form-field-label-"+PU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=_n(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ei(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(hs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hs(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Wu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ei(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ei(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hs(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,I0(this._label.nativeElement,"transitionend").pipe(si(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=i.querySelectorAll(`${r}, ${s}`);for(let T=0;T<D.length;T++)D[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const m=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(D),k=e.children,P=this._getStartEnd(k[0].getBoundingClientRect());let U=0;for(let Q=0;Q<k.length;Q++)U+=k[Q].offsetWidth;u=Math.abs(P-T)-5,h=U>0?.75*U+10:0}for(let D=0;D<m.length;D++)m[D].style.width=`${u}px`;for(let D=0;D<v.length;D++)v[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(sc,8),l.Y36(B8,8),l.Y36(Yr),l.Y36(l.R0b),l.Y36(Xo,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,ZO,5),l.Suo(r,ZO,7),l.Suo(r,_T,5),l.Suo(r,_T,7),l.Suo(r,O8,5),l.Suo(r,OU,5),l.Suo(r,R8,5),l.Suo(r,P8,5),l.Suo(r,F8,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(f8,7),l.Gf(p8,5),l.Gf(m8,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:KO,useExisting:n}]),l.qOj],ngContentSelectors:S8,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(M8),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,g8,9,0,"ng-container",3),l.YNc(4,_8,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,w8,5,16,"label",8),l.qZA()(),l.YNc(10,C8,2,0,"div",9),l.qZA(),l.YNc(11,D8,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,E8,2,1,"div",12),l.YNc(14,T8,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[hi,EO,Gi,Ai],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[k8.transitionMessages]},changeDetection:0}),n})(),z0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fn,Lt,P0],Lt]}),n})();const z8={provide:new l.OlP("mat-select-scroll-strategy"),deps:[oc],useFactory:function j8(n){return()=>n.scrollStrategies.reposition()}};let QO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[z8],imports:[[Fn,i_,sU,Lt],n_,z0,sU,Lt]}),n})();const W8={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[oc],useFactory:function q8(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let Z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[W8],imports:[[TO,Fn,i_,Lt],Lt,n_]}),n})(),XO=(()=>{class n{constructor(){this.changes=new St.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eY={provide:XO,deps:[[new l.FiY,new l.tp0,XO]],useFactory:function J8(n){return n||new XO}};let BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eY],imports:[[Fn,j0,QO,Z8,Lt]]}),n})();const rY={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[oc],useFactory:function iY(n){return()=>n.scrollStrategies.reposition()}};let UU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rY],imports:[[Fn,Lt,Sf,i_],n_,Lt]}),n})();const HU=_f({passive:!0});let sY=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Is.E;const i=rc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new St.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,HU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,HU)}}),s}stopMonitoring(e){const i=rc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const zU=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),oY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aY=0;const lY=$4(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let $U=(()=>{class n extends lY{constructor(e,i,r,s,u,h,m,v,D,T){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=T,this._uid="mat-input-"+aY++,this.focused=!1,this.stateChanges=new St.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>I2().has(U)),this._iOSKeyupListener=U=>{const Q=U.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,P=k.nodeName.toLowerCase();this._inputValueAccessor=m||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=_n(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Jo.required))&&void 0!==s&&s}set required(e){this._required=_n(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&I2().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=_n(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){oY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Yr),l.Y36(ic,10),l.Y36($I,8),l.Y36(Jg,8),l.Y36(eU),l.Y36(zU,10),l.Y36(sY),l.Y36(l.R0b),l.Y36(KO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:ZO,useExisting:n}]),l.qOj,l.TTD]}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eU],imports:[[jU,z0,Lt],jU,z0]}),n})();const cY=["mat-calendar-body",""];function uY(n,t){if(1&n&&(l.TgZ(0,"tr",2)(1,"td",3),l._uU(2),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e.numCols),l.xp6(1),l.hij(" ",e.label," ")}}function dY(n,t){if(1&n&&(l.TgZ(0,"td",3),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e._firstRowOffset),l.xp6(1),l.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function hY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",7)(1,"button",8),l.NdJ("click",function(r){const u=l.CHM(e).$implicit;return l.oxw(2)._cellClicked(u,r)}),l.TgZ(2,"div",9),l._uU(3),l.qZA(),l._UZ(4,"div",10),l.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw().index,s=l.oxw();l.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),l.uIk("data-mat-row",r)("data-mat-col",i),l.xp6(1),l.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),l.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),l.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),l.xp6(1),l.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),l.xp6(1),l.hij(" ",e.displayValue," ")}}function fY(n,t){if(1&n&&(l.TgZ(0,"tr",4),l.YNc(1,dY,2,6,"td",5),l.YNc(2,hY,5,47,"td",6),l.qZA()),2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.xp6(1),l.Q6J("ngIf",0===i&&r._firstRowOffset),l.xp6(1),l.Q6J("ngForOf",e)}}function pY(n,t){if(1&n&&(l.TgZ(0,"th",5)(1,"span",6),l._uU(2),l.qZA(),l.TgZ(3,"span",7),l._uU(4),l.qZA()()),2&n){const e=t.$implicit;l.xp6(2),l.Oqu(e.long),l.xp6(2),l.Oqu(e.narrow)}}const mY=["*"];function gY(n,t){}function _Y(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-month-view",5),l.NdJ("activeDateChange",function(r){return l.CHM(e),l.oxw().activeDate=r})("_userSelection",function(r){return l.CHM(e),l.oxw()._dateSelected(r)}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function yY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-year-view",6),l.NdJ("activeDateChange",function(r){return l.CHM(e),l.oxw().activeDate=r})("monthSelected",function(r){return l.CHM(e),l.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return l.CHM(e),l.oxw()._goToDateInView(r,"month")}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function vY(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-multi-year-view",7),l.NdJ("activeDateChange",function(r){return l.CHM(e),l.oxw().activeDate=r})("yearSelected",function(r){return l.CHM(e),l.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return l.CHM(e),l.oxw()._goToDateInView(r,"year")}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function bY(n,t){}const wY=["button"];function CY(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"path",4),l.qZA())}const DY=[[["","matDatepickerToggleIcon",""]]],EY=["[matDatepickerToggleIcon]"];class JO{constructor(t,e,i,r,s={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=u,this.rawValue=h}}let u_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new l.vpe,this.previewChange=new l.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(si(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return e1(e,this.startValue,this.endValue)}_isRangeEnd(e){return t1(e,this.startValue,this.endValue)}_isInRange(e){return n1(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return e1(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const u=this.rows[i-1];s=u&&u[u.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const u=this.rows[i+1];s=u&&u[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return t1(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return n1(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return e1(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return t1(e,this.previewStart,this.previewEnd)}_isInPreview(e){return n1(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(qU(e)?i=e:qU(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[l.TTD],attrs:cY,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(l.YNc(0,uY,3,6,"tr",0),l.YNc(1,fY,3,2,"tr",1)),2&e&&(l.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),l.xp6(1),l.Q6J("ngForOf",i.rows))},directives:[hi,ri,_s],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function qU(n){return"TD"===n.nodeName}function e1(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function t1(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function n1(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class fs{constructor(t,e){this.start=t,this.end=e}}let Yu=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new St.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),IY=(()=>{class n extends Yu{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const WU={provide:Yu,deps:[[new l.FiY,new l.tp0,Yu],yr],useFactory:function MY(n,t){return n||new IY(t)}},yT=new l.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let YU=(()=>{class n{constructor(e,i,r,s,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=u,this._rerenderSubscription=Xn.w0.EMPTY,this.selectedChange=new l.vpe,this._userSelection=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ei(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(r,s,i);let h,m;this._selected instanceof fs?(h=this._getDateInCurrentMonth(this._selected.start),m=this._getDateInCurrentMonth(this._selected.end)):h=m=this._getDateInCurrentMonth(this._selected),(h!==i||m!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!If(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),m=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new JO(r+1,i[r],m,h,v,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof fs?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(Mf,8),l.Y36(yr,8),l.Y36(sc,8),l.Y36(yT,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&l.Gf(u_,5),2&e){let r;l.iGM(r=l.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[l.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l.YNc(3,pY,5,2,"th",2),l.qZA(),l.TgZ(4,"tr"),l._UZ(5,"th",3),l.qZA()(),l.TgZ(6,"tbody",4),l.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngForOf",i._weekdays),l.xp6(3),l.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[u_,ri],encapsulation:2,changeDetection:0}),n})(),ZU=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Xn.w0.EMPTY,this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),KU(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ei(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-$0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(u=>this._createCellForYear(u))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-$0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return $0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new JO(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof fs){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(yr,8),l.Y36(sc,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&l.Gf(u_,5),2&e){let r;l.iGM(r=l.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[u_],encapsulation:2,changeDetection:0}),n})();function KU(n,t,e,i,r){const s=n.getYear(t),u=n.getYear(e),h=QU(n,i,r);return Math.floor((s-h)/24)===Math.floor((u-h)/24)}function $0(n,t,e,i){return function kY(n,t){return(n%t+t)%t}(n.getYear(t)-QU(n,e,i),24)}function QU(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let XU=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Xn.w0.EMPTY,this.selectedChange=new l.vpe,this.monthSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ei(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new JO(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof fs?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(Mf,8),l.Y36(yr,8),l.Y36(sc,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&l.Gf(u_,5),2&e){let r;l.iGM(r=l.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[u_],encapsulation:2,changeDetection:0}),n})(),G0=(()=>{class n{constructor(){this.changes=new St.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RY=0,OY=(()=>{class n{constructor(e,i,r,s,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+RY++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-$0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):KU(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(G0),l.Y36((0,l.Gpc)(()=>o1)),l.Y36(yr,8),l.Y36(Mf,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:mY,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return i.currentPeriodClicked()}),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.O4$(),l.TgZ(5,"svg",3),l._UZ(6,"polygon",4),l.qZA()(),l.kcU(),l._UZ(7,"div",5),l.Hsn(8),l.TgZ(9,"button",6),l.NdJ("click",function(){return i.previousClicked()}),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return i.nextClicked()}),l.qZA()()()),2&e&&(l.xp6(2),l.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),l.xp6(1),l.uIk("id",i._buttonDescriptionId),l.xp6(1),l.Oqu(i.periodButtonText),l.xp6(1),l.ekj("mat-calendar-invert","month"!==i.calendar.currentView),l.xp6(4),l.Q6J("disabled",!i.previousEnabled()),l.uIk("aria-label",i.prevButtonLabel),l.xp6(1),l.Q6J("disabled",!i.nextEnabled()),l.uIk("aria-label",i.nextButtonLabel))},directives:[Af],encapsulation:2,changeDetection:0}),n})(),o1=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this._userSelection=new l.vpe,this.stateChanges=new St.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new A0(this.headerComponent||OY),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof fs||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(G0),l.Y36(yr,8),l.Y36(Mf,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(l.Gf(YU,5),l.Gf(XU,5),l.Gf(ZU,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.monthView=r.first),l.iGM(r=l.CRH())&&(i.yearView=r.first),l.iGM(r=l.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[l._Bn([WU]),l.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(l.YNc(0,gY,0,0,"ng-template",0),l.TgZ(1,"div",1),l.YNc(2,_Y,1,8,"mat-month-view",2),l.YNc(3,yY,1,6,"mat-year-view",3),l.YNc(4,vY,1,6,"mat-multi-year-view",4),l.qZA()),2&e&&(l.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),l.xp6(1),l.Q6J("ngSwitch",i.currentView),l.xp6(1),l.Q6J("ngSwitchCase","month"),l.xp6(1),l.Q6J("ngSwitchCase","year"),l.xp6(1),l.Q6J("ngSwitchCase","multi-year"))},directives:[YU,XU,ZU,XI,V4,Gi,Ai],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const JU={transformPanel:_r("transformPanel",[gn("void => enter-dropdown",In("120ms cubic-bezier(0, 0, 0.2, 1)",af([gt({opacity:0,transform:"scale(1, 0.8)"}),gt({opacity:1,transform:"scale(1, 1)"})]))),gn("void => enter-dialog",In("150ms cubic-bezier(0, 0, 0.2, 1)",af([gt({opacity:0,transform:"scale(0.7)"}),gt({transform:"none",opacity:1})]))),gn("* => void",In("100ms linear",gt({opacity:0})))]),fadeInCalendar:_r("fadeInCalendar",[wn("void",gt({opacity:0})),wn("enter",gt({opacity:1})),gn("void => *",In("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let PY=0;const eH=new l.OlP("mat-datepicker-scroll-strategy"),NY={provide:eH,deps:[oc],useFactory:function FY(n){return()=>n.scrollStrategies.reposition()}},LY=Tf(class{constructor(n){this._elementRef=n}});let BY=(()=>{class n extends LY{constructor(e,i,r,s,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=u,this._subscriptions=new Xn.w0,this._animationDone=new St.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof fs;if(s&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Yu),l.Y36(yr),l.Y36(yT,8),l.Y36(G0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&l.Gf(o1,5),2&e){let r;l.iGM(r=l.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&l.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(l.d8E("@transformPanel",i._animationState),l.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[l.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0)(1,"mat-calendar",1),l.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),l.qZA(),l.YNc(2,bY,0,0,"ng-template",2),l.TgZ(3,"button",3),l.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),l._uU(4),l.qZA()()),2&e){let r;l.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),l.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),l.xp6(1),l.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),l.xp6(1),l.Q6J("cdkPortalOutlet",i._actionsPortal),l.xp6(1),l.ekj("cdk-visually-hidden",!i._closeButtonFocused),l.Q6J("color",i.color||"primary"),l.xp6(1),l.Oqu(i._closeButtonText)}},directives:[o1,Af,O4,_s,XI],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[JU.transformPanel,JU.fadeInCalendar]},changeDetection:0}),n})(),tH=(()=>{class n{constructor(e,i,r,s,u,h,m){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=m,this._inputStateChanges=Xn.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this.openedStream=new l.vpe,this.closedStream=new l.vpe,this._opened=!1,this.id="mat-datepicker-"+PY++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new St.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=_n(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=_n(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=_n(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function cW(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){_n(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof k2&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=S0(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(si(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new A0(BY,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new wO({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const u=s.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(si(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",u="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,Wu.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Mn(i=>27===i.keyCode&&!If(i)||this.datepickerInput&&If(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(oc),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(eH),l.Y36(yr,8),l.Y36(sc,8),l.Y36(Yu))},n.\u0275dir=l.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[l.TTD]}),n})(),nH=(()=>{class n extends tH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[l._Bn([WU,{provide:tH,useExisting:n}]),l.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class vT{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let VY=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new l.vpe,this.dateInput=new l.vpe,this.stateChanges=new St.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Xn.w0.EMPTY,this._localeSubscription=Xn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=_n(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new vT(this,this._elementRef.nativeElement)),this.dateChange.emit(new vT(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function UY(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new vT(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new vT(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(yr,8),l.Y36(Mf,8))},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[l.TTD]}),n})();const HY={provide:ds,useExisting:(0,l.Gpc)(()=>bT),multi:!0},jY={provide:Hi,useExisting:(0,l.Gpc)(()=>bT),multi:!0};let bT=(()=>{class n extends VY{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Xn.w0.EMPTY,this._validator=Jo.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(yr,8),l.Y36(Mf,8),l.Y36(KO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(l.Ikx("disabled",i.disabled),l.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[l._Bn([HY,jY,{provide:zU,useExisting:n}]),l.qOj]}),n})(),zY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),iH=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Xn.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=_n(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Qe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Qe(),r=this.datepicker?(0,Wu.T)(this.datepicker.openedStream,this.datepicker.closedStream):Qe();this._stateChanges.unsubscribe(),this._stateChanges=(0,Wu.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(G0),l.Y36(l.sBO),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,zY,5),2&e){let s;l.iGM(s=l.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&l.Gf(wY,5),2&e){let r;l.iGM(r=l.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i._open(s)}),2&e&&(l.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),l.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[l.TTD],ngContentSelectors:EY,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(l.F$t(DY),l.TgZ(0,"button",0,1),l.YNc(2,CY,2,0,"svg",2),l.Hsn(3),l.qZA()),2&e&&(l.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),l.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),l.xp6(2),l.Q6J("ngIf",!i._customIcon))},directives:[Af,hi],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[G0,NY],imports:[[Fn,j0,i_,TO,k0,Lt],n_]}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fn,Lt,k0,Sf,P0,TO],Lt]}),n})(),YY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt],Lt]}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[tU,Sf,Lt,AO,Fn],tU,Lt,AO,YY]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[i_,k0,Fn,j0,Lt],Lt]}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),hH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sf,Lt,P0,dH],Lt,dH]}),n})(),a1=(()=>{class n{constructor(){this.changes=new St.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DZ={provide:a1,deps:[[new l.FiY,new l.tp0,a1]],useFactory:function CZ(n){return n||new a1}};let fH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[DZ],imports:[[Fn,Lt]]}),n})();const EZ=["primaryValueBar"],IZ=Tf(class{constructor(n){this._elementRef=n}},"primary"),TZ=new l.OlP("mat-progress-bar-location",{providedIn:"root",factory:function MZ(){const n=(0,l.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),SZ=new l.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let xZ=0,AZ=(()=>{class n extends IZ{constructor(e,i,r,s,u,h){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=h,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new l.vpe,this._animationEndSubscription=Xn.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+xZ++;const m=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${m}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(e){var i;this._value=pH(dO(e)||0),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){var i;this._bufferValue=pH(e||0),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=I0(e,"transitionend").pipe(Mn(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Xo,8),l.Y36(TZ,8),l.Y36(SZ,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&l.Gf(EZ,5),2&e){let r;l.iGM(r=l.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(l.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),l.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[l.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.O4$(),l.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),l._UZ(4,"circle",3),l.qZA()(),l._UZ(5,"rect",4),l.qZA(),l.kcU(),l._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),l.qZA()),2&e&&(l.xp6(3),l.Q6J("id",i.progressbarId),l.xp6(2),l.uIk("fill",i._rectangleFillValue),l.xp6(1),l.Q6J("ngStyle",i._bufferTransform()),l.xp6(1),l.Q6J("ngStyle",i._primaryTransform()))},directives:[Ff],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function pH(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let mH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fn,Lt],Lt]}),n})();const kZ=["thumbContainer"],RZ=["toggleBar"],OZ=["input"],PZ=function(n){return{enterDuration:n}},FZ=["*"],NZ=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let LZ=0;const BZ={provide:ds,useExisting:(0,l.Gpc)(()=>gH),multi:!0};class VZ{constructor(t,e){this.source=t,this.checked=e}}const UZ=J2(Tf(F0(MO(class{constructor(n){this._elementRef=n}}))));let gH=(()=>{class n extends UZ{constructor(e,i,r,s,u,h){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=u,this._onChange=m=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++LZ,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===h}get required(){return this._required}set required(e){this._required=_n(e)}get checked(){return this._checked}set checked(e){this._checked=_n(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new VZ(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(s_),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(NZ),l.Y36(Xo,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&(l.Gf(kZ,5),l.Gf(RZ,5),l.Gf(OZ,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._thumbEl=r.first),l.iGM(r=l.CRH())&&(i._thumbBarEl=r.first),l.iGM(r=l.CRH())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(l.Ikx("id",i.id),l.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),l.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[l._Bn([BZ]),l.qOj],ngContentSelectors:FZ,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(l.F$t(),l.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),l.NdJ("change",function(s){return i._onChangeEvent(s)})("click",function(s){return i._onInputClick(s)}),l.qZA(),l.TgZ(6,"span",6,7),l._UZ(8,"span",8),l.TgZ(9,"span",9),l._UZ(10,"span",10),l.qZA()()(),l.TgZ(11,"span",11,12),l.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),l.TgZ(13,"span",13),l._uU(14,"\xa0"),l.qZA(),l.Hsn(15),l.qZA()()),2&e){const r=l.MAs(1),s=l.MAs(12);l.uIk("for",i.inputId),l.xp6(2),l.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),l.xp6(2),l.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),l.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",l.VKq(18,PZ,i._noopAnimations?0:150))}},directives:[o_,EO],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_H,Sf,Lt,P0],_H,Lt]}),n})();const zZ=["*",[["mat-card-footer"]]],$Z=["*","mat-card-footer"],GZ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],qZ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let WZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),YZ=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),ZZ=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Xo,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:$Z,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(zZ),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),KZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:qZ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(l.F$t(GZ),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lt],Lt]}),n})();const QZ=[_U,dU,uU,kU,j0,BU,UU,z0,GU,rH,yH,hH,sH,aH,QO,lH,fH,mH,vH];let bH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fn,QZ],_U,dU,uU,kU,j0,BU,UU,z0,GU,rH,yH,hH,sH,aH,QO,lH,fH,mH,vH]}),n})(),XZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[y2,MB],imports:[[Fn,$V,$6,GV,Rl,bH]]}),n})(),JZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-not-found-page"]],decls:11,vars:0,consts:[[1,"container"],[1,"notfound"],[1,"notfound-404"],["mat-flat-button","","color","primary","routerLink","/",1,"btn"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l._uU(4,"404"),l.qZA()(),l.TgZ(5,"h2"),l._uU(6,"Oops! This Page Could Not Be Found"),l.qZA(),l.TgZ(7,"p"),l._uU(8,"Sorry but the page you are looking for does not exist, have been removed. name changed or is temporarily unavailable"),l.qZA(),l.TgZ(9,"button",3),l._uU(10,"Go back!"),l.qZA()()())},directives:[Af,xp],styles:[".container[_ngcontent-%COMP%]{padding:2rem 3rem 1rem;max-width:90rem;margin:0 auto;justify-content:center}.notfound[_ngcontent-%COMP%]{margin-top:20rem;text-align:center;font-size:1rem;line-height:1.5rem}.notfound[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;line-height:3rem}.notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:12rem;line-height:12rem;font-weight:700;color:#262626;text-transform:uppercase}.btn[_ngcontent-%COMP%]{display:block;margin:0 auto;font-size:1.5rem;line-height:3rem}"]}),n})(),wH=(()=>{class n{constructor(){this._destroy$=new St.x,this.destroy$=this._destroy$.asObservable()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eK=(()=>{class n{constructor(e){this.dialogRef=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(L0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-delete"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","true","color","primary"],["mat-button","","mat-dialog-close","false"]],template:function(e,i){1&e&&(l.TgZ(0,"h2",0),l._uU(1,"Delete student?"),l.qZA(),l.TgZ(2,"div",1)(3,"button",2),l._uU(4,"Yes"),l.qZA(),l.TgZ(5,"button",3),l._uU(6,"No"),l.qZA()())},directives:[b5,lU,Af,v5],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}"],changeDetection:0}),n})();function tK(n,t){1&n&&(l.TgZ(0,"h2"),l._uU(1,"Edit student"),l.qZA())}function nK(n,t){1&n&&(l.TgZ(0,"h2"),l._uU(1,"Add student"),l.qZA())}function iK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Student name is required "),l.qZA())}function rK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Student name must contain only characters "),l.qZA())}function sK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Maximum length of student name 20 characters "),l.qZA())}function oK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Student surname is required "),l.qZA())}function aK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Student surname must contain only characters "),l.qZA())}function lK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Maximum length of student surname 50 characters "),l.qZA())}function cK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Student exam day required "),l.qZA())}function uK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Score is required "),l.qZA())}function dK(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Value score should be in the range 1-100 "),l.qZA())}function hK(n,t){if(1&n&&(l.TgZ(0,"button",16),l._uU(1," Edit "),l.qZA()),2&n){const e=l.oxw();l.Q6J("disabled",e.formStudent.invalid)}}function fK(n,t){if(1&n&&(l.TgZ(0,"button",16),l._uU(1,"Add"),l.qZA()),2&n){const e=l.oxw();l.Q6J("disabled",e.formStudent.invalid)}}let CH=(()=>{class n extends wH{constructor(e,i){super(),this.data=e,this.dialogRef=i,this.formStudent=new b0({name:new yo(null,[Jo.required,Jo.maxLength(20),Jo.pattern("^[a-zA-Z ]*$")]),surname:new yo(null,[Jo.required,Jo.maxLength(50),Jo.pattern("^[a-zA-Z ]*$")]),dateExam:new yo(null,[Jo.required]),score:new yo(null,[Jo.required,Jo.pattern("[1-9]{1}$|^[1-9]{1}[0-9]{1}$|^100")]),id:new yo(null)})}ngOnInit(){this.data&&this.showInputs(this.data)}showInputs(e){var i,r,s,u,h;null===(i=this.formStudent.get("name"))||void 0===i||i.setValue(e.name),null===(r=this.formStudent.get("surname"))||void 0===r||r.setValue(e.surname),null===(s=this.formStudent.get("dateExam"))||void 0===s||s.setValue(new Date(1e3*Number(JSON.stringify(e.dateExam).split(",")[0].split(":")[1]))),null===(u=this.formStudent.get("score"))||void 0===u||u.setValue(e.score),null===(h=this.formStudent.get("id"))||void 0===h||h.setValue(e.id)}submit(){this.dialogRef.close(this.formStudent.value)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(oU),l.Y36(L0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-edit"]],features:[l.qOj],decls:43,vars:16,consts:[[1,"container"],["novalidate","",1,"form",3,"formGroup","ngSubmit"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"formItem"],["appearance","legacy"],["type","text","name","name","formControlName","name","matInput",""],[4,"ngIf"],["type","text","name","surname","formControlName","surname","matInput",""],["matInput","","formControlName","dateExam",3,"matDatepicker"],["matIconSuffix","",3,"for"],["dp",""],["type","text","name","score","matInput","","formControlName","score"],["type","submit","mat-raised-button","","color","primary",3,"disabled",4,"ngIf","ngIfElse"],["elseAdd",""],["mat-stroked-button","","type","button",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("ngSubmit",function(){return i.submit()}),l.YNc(2,tK,2,0,"h2",2),l.YNc(3,nK,2,0,"ng-template",null,3,l.W1O),l.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),l._uU(8,"Student name"),l.qZA(),l._UZ(9,"input",6),l.YNc(10,iK,2,0,"mat-error",7),l.YNc(11,rK,2,0,"mat-error",7),l.YNc(12,sK,2,0,"mat-error",7),l.qZA()(),l.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),l._uU(16,"Surname"),l.qZA(),l._UZ(17,"input",8),l.YNc(18,oK,2,0,"mat-error",7),l.YNc(19,aK,2,0,"mat-error",7),l.YNc(20,lK,2,0,"mat-error",7),l.qZA()(),l.TgZ(21,"div",4)(22,"mat-form-field",5)(23,"mat-label"),l._uU(24,"Student exam day"),l.qZA(),l._UZ(25,"input",9)(26,"mat-datepicker-toggle",10)(27,"mat-datepicker",null,11),l.YNc(29,cK,2,0,"mat-error",7),l.qZA()(),l.TgZ(30,"div",4)(31,"mat-form-field",5)(32,"mat-label"),l._uU(33,"Student score "),l.qZA(),l._UZ(34,"input",12),l.YNc(35,uK,2,0,"mat-error",7),l.YNc(36,dK,2,0,"mat-error",7),l.qZA()(),l.TgZ(37,"mat-dialog-actions"),l.YNc(38,hK,2,1,"button",13),l.YNc(39,fK,2,1,"ng-template",null,14,l.W1O),l.TgZ(41,"button",15),l.NdJ("click",function(){return i.dialogRef.close()}),l._uU(42," Cancel "),l.qZA()()()()),2&e){const r=l.MAs(4),s=l.MAs(28),u=l.MAs(40);let h,m,v,D,T,k,P,U,Q;l.xp6(1),l.Q6J("formGroup",i.formStudent),l.xp6(1),l.Q6J("ngIf",i.data)("ngIfElse",r),l.xp6(8),l.Q6J("ngIf",null==(h=i.formStudent.get("name"))?null:h.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==(m=i.formStudent.get("name"))?null:m.hasError("pattern")),l.xp6(1),l.Q6J("ngIf",null==(v=i.formStudent.get("name"))?null:v.hasError("maxLength")),l.xp6(6),l.Q6J("ngIf",null==(D=i.formStudent.get("surname"))?null:D.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==(T=i.formStudent.get("surname"))?null:T.hasError("pattern")),l.xp6(1),l.Q6J("ngIf",null==(k=i.formStudent.get("surname"))?null:k.hasError("maxLength")),l.xp6(5),l.Q6J("matDatepicker",s),l.xp6(1),l.Q6J("for",s),l.xp6(3),l.Q6J("ngIf",null==(P=i.formStudent.get("dateExam"))?null:P.hasError("required")),l.xp6(6),l.Q6J("ngIf",null==(U=i.formStudent.get("score"))?null:U.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==(Q=i.formStudent.get("score"))?null:Q.hasError("pattern")),l.xp6(2),l.Q6J("ngIf",i.data)("ngIfElse",u)}},directives:[QR,VR,Jg,hi,NU,_T,g0,$U,BR,GI,A8,bT,iH,nH,lU,Af],styles:[".container[_ngcontent-%COMP%]{min-width:25rem;margin:0 auto}.formItem[_ngcontent-%COMP%]{margin-bottom:1rem}.formItem[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{text-align:center}.form[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}"]}),n})();function pK(n,t){1&n&&l._UZ(0,"mat-progress-bar",24)}function mK(n,t){1&n&&(l.TgZ(0,"th",36),l._uU(1,"\u2116"),l.qZA())}function gK(n,t){if(1&n&&(l.TgZ(0,"td",37),l._uU(1),l.qZA()),2&n){const e=t.index;l.xp6(1),l.Oqu(e+1)}}function _K(n,t){1&n&&(l.TgZ(0,"th",36),l._uU(1,"Name"),l.qZA())}function yK(n,t){if(1&n&&(l.TgZ(0,"td",37),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.name)}}function vK(n,t){1&n&&(l.TgZ(0,"th",36),l._uU(1,"Surname"),l.qZA())}function bK(n,t){if(1&n&&(l.TgZ(0,"td",37),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.surname)}}function wK(n,t){1&n&&(l.TgZ(0,"th",36),l._uU(1,"Exam day"),l.qZA())}function CK(n,t){if(1&n&&(l.TgZ(0,"td",37),l._uU(1),l.ALo(2,"date"),l.ALo(3,"dateConv"),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.lcZ(3,3,e.dateExam)))}}function DK(n,t){1&n&&(l.TgZ(0,"th",36),l._uU(1,"Score"),l.qZA())}function EK(n,t){if(1&n&&(l.TgZ(0,"td",37),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.score)}}function IK(n,t){1&n&&l._UZ(0,"th",36)}function TK(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",37)(1,"button",38),l.NdJ("click",function(){const s=l.CHM(e).$implicit;return l.oxw(2).editStudent(s)}),l.TgZ(2,"mat-icon",39),l._uU(3,"mode_edit"),l.qZA()(),l.TgZ(4,"button",38),l.NdJ("click",function(){const s=l.CHM(e).$implicit;return l.oxw(2).deleteStudent(s)}),l.TgZ(5,"mat-icon",39),l._uU(6,"delete"),l.qZA()()()}}function MK(n,t){1&n&&l._UZ(0,"tr",40)}const SK=function(n){return{background__valid:n}};function xK(n,t){if(1&n&&l._UZ(0,"tr",41),2&n){const e=t.$implicit,i=l.oxw(2);l.Q6J("ngClass",l.VKq(1,SK,i.validScore&&e.score>50))}}function AK(n,t){if(1&n&&(l.TgZ(0,"table",25),l.ynx(1,26),l.YNc(2,mK,2,0,"th",27),l.YNc(3,gK,2,1,"td",28),l.BQk(),l.ynx(4,29),l.YNc(5,_K,2,0,"th",27),l.YNc(6,yK,2,1,"td",28),l.BQk(),l.ynx(7,30),l.YNc(8,vK,2,0,"th",27),l.YNc(9,bK,2,1,"td",28),l.BQk(),l.ynx(10,31),l.YNc(11,wK,2,0,"th",27),l.YNc(12,CK,4,5,"td",28),l.BQk(),l.ynx(13,32),l.YNc(14,DK,2,0,"th",27),l.YNc(15,EK,2,1,"td",28),l.BQk(),l.ynx(16,33),l.YNc(17,IK,1,0,"th",27),l.YNc(18,TK,7,0,"td",28),l.BQk(),l.YNc(19,MK,1,0,"tr",34),l.YNc(20,xK,1,3,"tr",35),l.qZA()),2&n){const e=l.oxw();l.Q6J("dataSource",e.studentsTable),l.xp6(19),l.Q6J("matHeaderRowDef",e.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",e.displayedColumns)}}const kK=[{path:"",component:(()=>{class n extends wH{constructor(e,i,r){super(),this.service=e,this.cdr=i,this.dialogMode=r,this.validScore=!1,this.filterForm=new b0({name:new yo(""),dateMin:new yo(""),dateMax:new yo(""),minScore:new yo(""),maxScore:new yo("")}),this.displayedColumns=["position","name","surname","dateExam","score","delete"]}ngOnInit(){this.service.getStudents().subscribe(e=>{this.studentsTable=new RU(JSON.parse(JSON.stringify(e))),this.clearStudentsTable=new RU(JSON.parse(JSON.stringify(e))),this.cdr.detectChanges()})}addStudent(){this.dialogMode.open(CH,{}).afterClosed().subscribe(i=>{i&&this.service.addStudent(i)})}deleteStudent(e){this.dialogMode.open(eK,{}).afterClosed().subscribe(r=>{"true"==r&&this.service.deleteStudent(e.id)})}editStudent(e){this.dialogMode.open(CH,{data:e}).afterClosed().subscribe(r=>{r&&this.service.editStudent(r)})}nameFilter(e){this.studentsTable.filter=e.trim().toLocaleLowerCase()}scoreFilter(e,i){i&&i&&(this.studentsTable.data=this.clearStudentsTable.data,this.studentsTable.data=this.studentsTable.data.filter(r=>r.score>=+e&&r.score<=+i))}dateFilter(e,i){if(e&&i){this.studentsTable.data=this.clearStudentsTable.data;const r=new Date(e),s=new Date(i);this.studentsTable.data=this.studentsTable.data.filter(u=>{const h=new Date(1e3*Number(JSON.stringify(u.dateExam).split(",")[0].split(":")[1]));return h.getTime()>=r.getTime()&&h.getTime()<=s.getTime()})}}clearFilters(){this.studentsTable.data=this.clearStudentsTable.data,this.filterForm.reset(),this.validScore=!1}isvalidScore(){this.validScore=!this.validScore}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(y2),l.Y36(l.sBO),l.Y36(rT))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-table"]],features:[l.qOj],decls:58,vars:8,consts:[[1,"container"],[1,"form",3,"formGroup"],[1,"search"],["matInput","","type","text","formControlName","name",3,"keyup"],["studentName",""],["cellspacing","0",1,"fields"],["matInput","","formControlName","dateMin",3,"matDatepicker","dateChange"],["dateMin",""],["matIconSuffix","",3,"for"],["dp1",""],["matInput","","formControlName","dateMax",3,"matDatepicker","dateChange"],["dateMax",""],["dp2",""],["type","text","matInput","","placeholder","","value","0","formControlName","minScore",3,"keyup"],["minScore",""],["type","text","matInput","","placeholder","","value","100","formControlName","maxScore",3,"keyup"],["maxScore",""],["min","0","max","1",1,"valid_score",3,"checked","toggleChange"],["mat-raised-button","","color","primary",3,"click"],[1,"title"],[1,"demo-button-container"],["mat-raised-button","",3,"click"],["mode","indeterminate",4,"ngIf","ngIfElse"],["elseBlock",""],["mode","indeterminate"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","surname"],["matColumnDef","dateExam"],["matColumnDef","score"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-mini-fab","","color","primary",1,"btn",3,"click"],[1,"icon"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){if(1&e){const r=l.EpF();l.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),l._uU(4,"Filters"),l.qZA()(),l.TgZ(5,"mat-card-actions")(6,"form",1)(7,"mat-form-field",2)(8,"mat-label"),l._uU(9,"Search student"),l.qZA(),l.TgZ(10,"input",3,4),l.NdJ("keyup",function(){l.CHM(r);const u=l.MAs(11);return i.nameFilter(u.value)}),l.qZA()(),l.TgZ(12,"table",5)(13,"tr")(14,"td")(15,"mat-form-field")(16,"mat-label"),l._uU(17,"Start date exam"),l.qZA(),l.TgZ(18,"input",6,7),l.NdJ("dateChange",function(){l.CHM(r);const u=l.MAs(19),h=l.MAs(28);return i.dateFilter(u.value,h.value)}),l.qZA(),l._UZ(20,"mat-datepicker-toggle",8)(21,"mat-datepicker",null,9),l.qZA()(),l.TgZ(23,"td")(24,"mat-form-field")(25,"mat-label"),l._uU(26,"End date exam"),l.qZA(),l.TgZ(27,"input",10,11),l.NdJ("dateChange",function(){l.CHM(r);const u=l.MAs(19),h=l.MAs(28);return i.dateFilter(u.value,h.value)}),l.qZA(),l._UZ(29,"mat-datepicker-toggle",8)(30,"mat-datepicker",null,12),l.qZA()()(),l.TgZ(32,"tr")(33,"td")(34,"mat-form-field")(35,"mat-label"),l._uU(36,"Min score"),l.qZA(),l.TgZ(37,"input",13,14),l.NdJ("keyup",function(){l.CHM(r);const u=l.MAs(38),h=l.MAs(44);return i.scoreFilter(u.value,h.value)}),l.qZA()()(),l.TgZ(39,"td")(40,"mat-form-field")(41,"mat-label"),l._uU(42,"Max score"),l.qZA(),l.TgZ(43,"input",15,16),l.NdJ("keyup",function(){l.CHM(r);const u=l.MAs(38),h=l.MAs(44);return i.scoreFilter(u.value,h.value)}),l.qZA()()()(),l.TgZ(45,"tr")(46,"mat-slide-toggle",17),l.NdJ("toggleChange",function(){return i.isvalidScore()}),l._uU(47,"Valid score"),l.qZA(),l.TgZ(48,"button",18),l.NdJ("click",function(){return i.clearFilters()}),l._uU(49,"Clear filters"),l.qZA()()()()()(),l.TgZ(50,"h1",19),l._uU(51,"Student Table"),l.qZA(),l.TgZ(52,"div",20)(53,"button",21),l.NdJ("click",function(){return i.addStudent()}),l._uU(54," Add student "),l.qZA()(),l.YNc(55,pK,1,0,"mat-progress-bar",22),l.YNc(56,AK,21,3,"ng-template",null,23,l.W1O),l.qZA()}if(2&e){const r=l.MAs(22),s=l.MAs(31),u=l.MAs(57);l.xp6(6),l.Q6J("formGroup",i.filterForm),l.xp6(12),l.Q6J("matDatepicker",r),l.xp6(2),l.Q6J("for",r),l.xp6(7),l.Q6J("matDatepicker",s),l.xp6(2),l.Q6J("for",s),l.xp6(17),l.Q6J("checked",i.validScore),l.xp6(9),l.Q6J("ngIf",!i.studentsTable)("ngIfElse",u)}},directives:[ZZ,KZ,WZ,YZ,QR,VR,Jg,NU,_T,$U,g0,BR,GI,bT,iH,nH,gH,Af,hi,AZ,TU,qO,GO,WO,$O,YO,k5,MU,xU,SU,AU,_s],pipes:[d_,MB],styles:[".container[_ngcontent-%COMP%]{padding:2rem 3rem 1rem;max-width:90rem;margin:0 auto;justify-content:center}.demo-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-elevation-z8[_ngcontent-%COMP%]{margin:auto;width:100%;padding:0 3rem}.fields[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:space-around}.search[_ngcontent-%COMP%]{display:block;margin:auto;width:70%;text-align:center}.title[_ngcontent-%COMP%]{margin:1.5rem 0}.mat-elevation-z8[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mat-elevation-z8[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{margin:.5rem}.fields[_ngcontent-%COMP%]{width:100%}.valid_score[_ngcontent-%COMP%]{margin:1rem 0}.background__valid[_ngcontent-%COMP%]{background-color:#72e68b80}@media (max-width: 768px){.btn[_ngcontent-%COMP%]{width:2rem;height:2rem}.icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-top:-.5rem}}"],changeDetection:0}),n})()},{path:"404",component:JZ},{path:"**",redirectTo:"/404"}],RK=Rl.forRoot(kK);let OK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[nM]}),n.\u0275inj=l.cJS({providers:[{provide:ea.Dh,useValue:uv.firebase}],imports:[[bc,Rw,XZ,bH,GV,$V,RK,lv(()=>yS(uv.firebase)),A$(()=>k$()),A6,Q4]]}),n})();uv.production&&(0,l.G48)(),g_().bootstrapModule(OK).catch(n=>console.error(n))},8306:(rt,_e,F)=>{F.d(_e,{y:()=>G});var l=F(930),j=F(727),N=F(8822),oe=F(4671);var ce=F(2416),fe=F(576),ke=F(2806);let G=(()=>{class Se{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const te=new Se;return te.source=this,te.operator=Oe,te}subscribe(Oe,te,Ce){const He=function Ve(Se){return Se&&Se instanceof l.Lv||function ee(Se){return Se&&(0,fe.m)(Se.next)&&(0,fe.m)(Se.error)&&(0,fe.m)(Se.complete)}(Se)&&(0,j.Nn)(Se)}(Oe)?Oe:new l.Hp(Oe,te,Ce);return(0,ke.x)(()=>{const{operator:Ge,source:Me}=this;He.add(Ge?Ge.call(He,Me):Me?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(te){Oe.error(te)}}forEach(Oe,te){return new(te=$(te))((Ce,He)=>{const Ge=new l.Hp({next:Me=>{try{Oe(Me)}catch(me){He(me),Ge.unsubscribe()}},error:He,complete:Ce});this.subscribe(Ge)})}_subscribe(Oe){var te;return null===(te=this.source)||void 0===te?void 0:te.subscribe(Oe)}[N.L](){return this}pipe(...Oe){return function we(Se){return 0===Se.length?oe.y:1===Se.length?Se[0]:function(Oe){return Se.reduce((te,Ce)=>Ce(te),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=$(Oe))((te,Ce)=>{let He;this.subscribe(Ge=>He=Ge,Ge=>Ce(Ge),()=>te(He))})}}return Se.create=Be=>new Se(Be),Se})();function $(Se){var Be;return null!==(Be=null!=Se?Se:ce.v.Promise)&&void 0!==Be?Be:Promise}},7579:(rt,_e,F)=>{F.d(_e,{x:()=>ce});var l=F(8306),j=F(727);const oe=(0,F(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=F(8737),we=F(2806);let ce=(()=>{class ke extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ee=new fe(this,this);return ee.operator=$,ee}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next($)}})}error($){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ee}=this;for(;ee.length;)ee.shift().error($)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ee,isStopped:Ve,observers:Se}=this;return ee||Ve?j.Lc:(this.currentObservers=null,Se.push($),new j.w0(()=>{this.currentObservers=null,(0,De.P)(Se,$)}))}_checkFinalizedStatuses($){const{hasError:ee,thrownError:Ve,isStopped:Se}=this;ee?$.error(Ve):Se&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return ke.create=(G,$)=>new fe(G,$),ke})();class fe extends ce{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ee||ee.call($,G)}error(G){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ee||ee.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,ee;return null!==(ee=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==ee?ee:j.Lc}}},930:(rt,_e,F)=>{F.d(_e,{Hp:()=>Oe,Lv:()=>ee});var l=F(576),j=F(727),N=F(2416),oe=F(7849),De=F(5032);const we=ke("C",void 0,void 0);function ke(Me,me,de){return{kind:Me,value:me,error:de}}var G=F(3410),$=F(2806);class ee extends j.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,j.Nn)(me)&&me.add(this)):this.destination=Ge}static create(me,de,Ne){return new Oe(me,de,Ne)}next(me){this.isStopped?He(function fe(Me){return ke("N",Me,void 0)}(me),this):this._next(me)}error(me){this.isStopped?He(function ce(Me){return ke("E",void 0,Me)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?He(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(Me,me){return Ve.call(Me,me)}class Be{constructor(me){this.partialObserver=me}next(me){const{partialObserver:de}=this;if(de.next)try{de.next(me)}catch(Ne){te(Ne)}}error(me){const{partialObserver:de}=this;if(de.error)try{de.error(me)}catch(Ne){te(Ne)}else te(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(de){te(de)}}}class Oe extends ee{constructor(me,de,Ne){let X;if(super(),(0,l.m)(me)||!me)X={next:null!=me?me:void 0,error:null!=de?de:void 0,complete:null!=Ne?Ne:void 0};else{let ie;this&&N.v.useDeprecatedNextContext?(ie=Object.create(me),ie.unsubscribe=()=>this.unsubscribe(),X={next:me.next&&Se(me.next,ie),error:me.error&&Se(me.error,ie),complete:me.complete&&Se(me.complete,ie)}):X=me}this.destination=new Be(X)}}function te(Me){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Me):(0,oe.h)(Me)}function He(Me,me){const{onStoppedNotification:de}=N.v;de&&G.z.setTimeout(()=>de(Me,me))}const Ge={closed:!0,next:De.Z,error:function Ce(Me){throw Me},complete:De.Z}},727:(rt,_e,F)=>{F.d(_e,{Lc:()=>we,w0:()=>De,Nn:()=>ce});var l=F(576);const N=(0,F(3888).d)(ke=>function($){ke(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ee,Ve)=>`${Ve+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=F(8737);class De{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Se of $)Se.remove(this);else $.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Se){G=Se instanceof N?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{fe(Se)}catch(Be){G=null!=G?G:[],Be instanceof N?G=[...G,...Be.errors]:G.push(Be)}}if(G)throw new N(G)}}add(G){var $;if(G&&G!==this)if(this.closed)fe(G);else{if(G instanceof De){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,oe.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,oe.P)($,G),G instanceof De&&G._removeParent(this)}}De.EMPTY=(()=>{const ke=new De;return ke.closed=!0,ke})();const we=De.EMPTY;function ce(ke){return ke instanceof De||ke&&"closed"in ke&&(0,l.m)(ke.remove)&&(0,l.m)(ke.add)&&(0,l.m)(ke.unsubscribe)}function fe(ke){(0,l.m)(ke)?ke():ke.unsubscribe()}},2416:(rt,_e,F)=>{F.d(_e,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,_e,F)=>{F.d(_e,{E:()=>j});const j=new(F(8306).y)(De=>De.complete())},8996:(rt,_e,F)=>{F.d(_e,{D:()=>me});var l=F(8421),j=F(5363),N=F(9468),we=F(8306),fe=F(2202),ke=F(576),G=F(9672);function ee(de,Ne){if(!de)throw new Error("Iterable cannot be null");return new we.y(X=>{(0,G.f)(X,Ne,()=>{const ie=de[Symbol.asyncIterator]();(0,G.f)(X,Ne,()=>{ie.next().then(pe=>{pe.done?X.complete():X.next(pe.value)})},0,!0)})})}var Ve=F(3670),Se=F(8239),Be=F(1144),Oe=F(6495),te=F(2206),Ce=F(4532),He=F(3260);function me(de,Ne){return Ne?function Me(de,Ne){if(null!=de){if((0,Ve.c)(de))return function oe(de,Ne){return(0,l.Xf)(de).pipe((0,N.R)(Ne),(0,j.Q)(Ne))}(de,Ne);if((0,Be.z)(de))return function ce(de,Ne){return new we.y(X=>{let ie=0;return Ne.schedule(function(){ie===de.length?X.complete():(X.next(de[ie++]),X.closed||this.schedule())})})}(de,Ne);if((0,Se.t)(de))return function De(de,Ne){return(0,l.Xf)(de).pipe((0,N.R)(Ne),(0,j.Q)(Ne))}(de,Ne);if((0,te.D)(de))return ee(de,Ne);if((0,Oe.T)(de))return function $(de,Ne){return new we.y(X=>{let ie;return(0,G.f)(X,Ne,()=>{ie=de[fe.h](),(0,G.f)(X,Ne,()=>{let pe,je;try{({value:pe,done:je}=ie.next())}catch(nt){return void X.error(nt)}je?X.complete():X.next(pe)},0,!0)}),()=>(0,ke.m)(null==ie?void 0:ie.return)&&ie.return()})}(de,Ne);if((0,He.L)(de))return function Ge(de,Ne){return ee((0,He.Q)(de),Ne)}(de,Ne)}throw(0,Ce.z)(de)}(de,Ne):(0,l.Xf)(de)}},8421:(rt,_e,F)=>{F.d(_e,{Xf:()=>Ve});var l=F(655),j=F(1144),N=F(8239),oe=F(8306),De=F(3670),we=F(2206),ce=F(4532),fe=F(6495),ke=F(3260),G=F(576),$=F(7849),ee=F(8822);function Ve(Me){if(Me instanceof oe.y)return Me;if(null!=Me){if((0,De.c)(Me))return function Se(Me){return new oe.y(me=>{const de=Me[ee.L]();if((0,G.m)(de.subscribe))return de.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,j.z)(Me))return function Be(Me){return new oe.y(me=>{for(let de=0;de<Me.length&&!me.closed;de++)me.next(Me[de]);me.complete()})}(Me);if((0,N.t)(Me))return function Oe(Me){return new oe.y(me=>{Me.then(de=>{me.closed||(me.next(de),me.complete())},de=>me.error(de)).then(null,$.h)})}(Me);if((0,we.D)(Me))return Ce(Me);if((0,fe.T)(Me))return function te(Me){return new oe.y(me=>{for(const de of Me)if(me.next(de),me.closed)return;me.complete()})}(Me);if((0,ke.L)(Me))return function He(Me){return Ce((0,ke.Q)(Me))}(Me)}throw(0,ce.z)(Me)}function Ce(Me){return new oe.y(me=>{(function Ge(Me,me){var de,Ne,X,ie;return(0,l.mG)(this,void 0,void 0,function*(){try{for(de=(0,l.KL)(Me);!(Ne=yield de.next()).done;)if(me.next(Ne.value),me.closed)return}catch(pe){X={error:pe}}finally{try{Ne&&!Ne.done&&(ie=de.return)&&(yield ie.call(de))}finally{if(X)throw X.error}}me.complete()})})(Me,me).catch(de=>me.error(de))})}},6451:(rt,_e,F)=>{F.d(_e,{T:()=>we});var l=F(8189),j=F(8421),N=F(515),oe=F(184),De=F(8996);function we(...ce){const fe=(0,oe.yG)(ce),ke=(0,oe._6)(ce,1/0),G=ce;return G.length?1===G.length?(0,j.Xf)(G[0]):(0,l.J)(ke)((0,De.D)(G,fe)):N.E}},5403:(rt,_e,F)=>{F.d(_e,{x:()=>j});var l=F(930);function j(oe,De,we,ce,fe){return new N(oe,De,we,ce,fe)}class N extends l.Lv{constructor(De,we,ce,fe,ke,G){super(De),this.onFinalize=ke,this.shouldUnsubscribe=G,this._next=we?function($){try{we($)}catch(ee){De.error(ee)}}:super._next,this._error=fe?function($){try{fe($)}catch(ee){De.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch($){De.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},4004:(rt,_e,F)=>{F.d(_e,{U:()=>N});var l=F(4482),j=F(5403);function N(oe,De){return(0,l.e)((we,ce)=>{let fe=0;we.subscribe((0,j.x)(ce,ke=>{ce.next(oe.call(De,ke,fe++))}))})}},8189:(rt,_e,F)=>{F.d(_e,{J:()=>N});var l=F(5577),j=F(4671);function N(oe=1/0){return(0,l.z)(j.y,oe)}},5577:(rt,_e,F)=>{F.d(_e,{z:()=>fe});var l=F(4004),j=F(8421),N=F(4482),oe=F(9672),De=F(5403),ce=F(576);function fe(ke,G,$=1/0){return(0,ce.m)(G)?fe((ee,Ve)=>(0,l.U)((Se,Be)=>G(ee,Se,Ve,Be))((0,j.Xf)(ke(ee,Ve))),$):("number"==typeof G&&($=G),(0,N.e)((ee,Ve)=>function we(ke,G,$,ee,Ve,Se,Be,Oe){const te=[];let Ce=0,He=0,Ge=!1;const Me=()=>{Ge&&!te.length&&!Ce&&G.complete()},me=Ne=>Ce<ee?de(Ne):te.push(Ne),de=Ne=>{Se&&G.next(Ne),Ce++;let X=!1;(0,j.Xf)($(Ne,He++)).subscribe((0,De.x)(G,ie=>{null==Ve||Ve(ie),Se?me(ie):G.next(ie)},()=>{X=!0},void 0,()=>{if(X)try{for(Ce--;te.length&&Ce<ee;){const ie=te.shift();Be?(0,oe.f)(G,Be,()=>de(ie)):de(ie)}Me()}catch(ie){G.error(ie)}}))};return ke.subscribe((0,De.x)(G,me,()=>{Ge=!0,Me()})),()=>{null==Oe||Oe()}}(ee,Ve,ke,$)))}},5363:(rt,_e,F)=>{F.d(_e,{Q:()=>oe});var l=F(9672),j=F(4482),N=F(5403);function oe(De,we=0){return(0,j.e)((ce,fe)=>{ce.subscribe((0,N.x)(fe,ke=>(0,l.f)(fe,De,()=>fe.next(ke),we),()=>(0,l.f)(fe,De,()=>fe.complete(),we),ke=>(0,l.f)(fe,De,()=>fe.error(ke),we)))})}},3099:(rt,_e,F)=>{F.d(_e,{B:()=>De});var l=F(8421),j=F(7579),N=F(930),oe=F(4482);function De(ce={}){const{connector:fe=(()=>new j.x),resetOnError:ke=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=ce;return ee=>{let Ve,Se,Be,Oe=0,te=!1,Ce=!1;const He=()=>{null==Se||Se.unsubscribe(),Se=void 0},Ge=()=>{He(),Ve=Be=void 0,te=Ce=!1},Me=()=>{const me=Ve;Ge(),null==me||me.unsubscribe()};return(0,oe.e)((me,de)=>{Oe++,!Ce&&!te&&He();const Ne=Be=null!=Be?Be:fe();de.add(()=>{Oe--,0===Oe&&!Ce&&!te&&(Se=we(Me,$))}),Ne.subscribe(de),!Ve&&Oe>0&&(Ve=new N.Hp({next:X=>Ne.next(X),error:X=>{Ce=!0,He(),Se=we(Ge,ke,X),Ne.error(X)},complete:()=>{te=!0,He(),Se=we(Ge,G),Ne.complete()}}),(0,l.Xf)(me).subscribe(Ve))})(ee)}}function we(ce,fe,...ke){if(!0===fe)return void ce();if(!1===fe)return;const G=new N.Hp({next:()=>{G.unsubscribe(),ce()}});return fe(...ke).subscribe(G)}},9468:(rt,_e,F)=>{F.d(_e,{R:()=>j});var l=F(4482);function j(N,oe=0){return(0,l.e)((De,we)=>{we.add(N.schedule(()=>De.subscribe(we),oe))})}},3410:(rt,_e,F)=>{F.d(_e,{z:()=>l});const l={setTimeout(j,N,...oe){const{delegate:De}=l;return(null==De?void 0:De.setTimeout)?De.setTimeout(j,N,...oe):setTimeout(j,N,...oe)},clearTimeout(j){const{delegate:N}=l;return((null==N?void 0:N.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(rt,_e,F)=>{F.d(_e,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,_e,F)=>{F.d(_e,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},184:(rt,_e,F)=>{F.d(_e,{jO:()=>oe,yG:()=>De,_6:()=>we});var l=F(576),j=F(3532);function N(ce){return ce[ce.length-1]}function oe(ce){return(0,l.m)(N(ce))?ce.pop():void 0}function De(ce){return(0,j.K)(N(ce))?ce.pop():void 0}function we(ce,fe){return"number"==typeof N(ce)?ce.pop():fe}},8737:(rt,_e,F)=>{function l(j,N){if(j){const oe=j.indexOf(N);0<=oe&&j.splice(oe,1)}}F.d(_e,{P:()=>l})},3888:(rt,_e,F)=>{function l(j){const oe=j(De=>{Error.call(De),De.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(_e,{d:()=>l})},2806:(rt,_e,F)=>{F.d(_e,{x:()=>N,O:()=>oe});var l=F(2416);let j=null;function N(De){if(l.v.useDeprecatedSynchronousErrorHandling){const we=!j;if(we&&(j={errorThrown:!1,error:null}),De(),we){const{errorThrown:ce,error:fe}=j;if(j=null,ce)throw fe}}else De()}function oe(De){l.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=De)}},9672:(rt,_e,F)=>{function l(j,N,oe,De=0,we=!1){const ce=N.schedule(function(){oe(),we?j.add(this.schedule(null,De)):this.unsubscribe()},De);if(j.add(ce),!we)return ce}F.d(_e,{f:()=>l})},4671:(rt,_e,F)=>{function l(j){return j}F.d(_e,{y:()=>l})},1144:(rt,_e,F)=>{F.d(_e,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(rt,_e,F)=>{F.d(_e,{D:()=>j});var l=F(576);function j(N){return Symbol.asyncIterator&&(0,l.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(rt,_e,F)=>{function l(j){return"function"==typeof j}F.d(_e,{m:()=>l})},3670:(rt,_e,F)=>{F.d(_e,{c:()=>N});var l=F(8822),j=F(576);function N(oe){return(0,j.m)(oe[l.L])}},6495:(rt,_e,F)=>{F.d(_e,{T:()=>N});var l=F(2202),j=F(576);function N(oe){return(0,j.m)(null==oe?void 0:oe[l.h])}},8239:(rt,_e,F)=>{F.d(_e,{t:()=>j});var l=F(576);function j(N){return(0,l.m)(null==N?void 0:N.then)}},3260:(rt,_e,F)=>{F.d(_e,{Q:()=>N,L:()=>oe});var l=F(655),j=F(576);function N(De){return(0,l.FC)(this,arguments,function*(){const ce=De.getReader();try{for(;;){const{value:fe,done:ke}=yield(0,l.qq)(ce.read());if(ke)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{ce.releaseLock()}})}function oe(De){return(0,j.m)(null==De?void 0:De.getReader)}},3532:(rt,_e,F)=>{F.d(_e,{K:()=>j});var l=F(576);function j(N){return N&&(0,l.m)(N.schedule)}},4482:(rt,_e,F)=>{F.d(_e,{A:()=>j,e:()=>N});var l=F(576);function j(oe){return(0,l.m)(null==oe?void 0:oe.lift)}function N(oe){return De=>{if(j(De))return De.lift(function(we){try{return oe(we,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,_e,F)=>{function l(){}F.d(_e,{Z:()=>l})},7849:(rt,_e,F)=>{F.d(_e,{h:()=>N});var l=F(2416),j=F(3410);function N(oe){j.z.setTimeout(()=>{const{onUnhandledError:De}=l.v;if(!De)throw oe;De(oe)})}},4532:(rt,_e,F)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(_e,{z:()=>l})},655:(rt,_e,F)=>{function oe(q,se){var ue={};for(var Ee in q)Object.prototype.hasOwnProperty.call(q,Ee)&&se.indexOf(Ee)<0&&(ue[Ee]=q[Ee]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(Ee=Object.getOwnPropertySymbols(q);Te<Ee.length;Te++)se.indexOf(Ee[Te])<0&&Object.prototype.propertyIsEnumerable.call(q,Ee[Te])&&(ue[Ee[Te]]=q[Ee[Te]])}return ue}function ee(q,se,ue,Ee){return new(ue||(ue=Promise))(function(ge,at){function Ot(ft){try{Ke(Ee.next(ft))}catch(wt){at(wt)}}function Un(ft){try{Ke(Ee.throw(ft))}catch(wt){at(wt)}}function Ke(ft){ft.done?ge(ft.value):function Te(ge){return ge instanceof ue?ge:new ue(function(at){at(ge)})}(ft.value).then(Ot,Un)}Ke((Ee=Ee.apply(q,se||[])).next())})}function Me(q){return this instanceof Me?(this.v=q,this):new Me(q)}function me(q,se,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Ee=ue.apply(q,se||[]),ge=[];return Te={},at("next"),at("throw"),at("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function at(Pt){Ee[Pt]&&(Te[Pt]=function(yn){return new Promise(function(vi,tn){ge.push([Pt,yn,vi,tn])>1||Ot(Pt,yn)})})}function Ot(Pt,yn){try{!function Un(Pt){Pt.value instanceof Me?Promise.resolve(Pt.value.v).then(Ke,ft):wt(ge[0][2],Pt)}(Ee[Pt](yn))}catch(vi){wt(ge[0][3],vi)}}function Ke(Pt){Ot("next",Pt)}function ft(Pt){Ot("throw",Pt)}function wt(Pt,yn){Pt(yn),ge.shift(),ge.length&&Ot(ge[0][0],ge[0][1])}}function Ne(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,se=q[Symbol.asyncIterator];return se?se.call(q):(q=function Oe(q){var se="function"==typeof Symbol&&Symbol.iterator,ue=se&&q[se],Ee=0;if(ue)return ue.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&Ee>=q.length&&(q=void 0),{value:q&&q[Ee++],done:!q}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ue={},Ee("next"),Ee("throw"),Ee("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Ee(ge){ue[ge]=q[ge]&&function(at){return new Promise(function(Ot,Un){!function Te(ge,at,Ot,Un){Promise.resolve(Un).then(function(Ke){ge({value:Ke,done:Ot})},at)}(Ot,Un,(at=q[ge](at)).done,at.value)})}}}F.d(_e,{_T:()=>oe,mG:()=>ee,qq:()=>Me,FC:()=>me,KL:()=>Ne})},5e3:(rt,_e,F)=>{F.d(_e,{deG:()=>w_,tb:()=>wu,AFp:()=>kh,ip1:()=>Ua,CZH:()=>Ns,hGG:()=>wE,z2F:()=>Bs,sBO:()=>hE,Sil:()=>eE,_Vd:()=>Ul,EJc:()=>Bx,SBq:()=>Bm,qLn:()=>Ip,vpe:()=>po,tBr:()=>ns,XFs:()=>vt,OlP:()=>On,zs3:()=>Br,ZZ4:()=>Nn,aQg:()=>Ze,soG:()=>ub,YKP:()=>FD,h0i:()=>hu,PXZ:()=>qn,R0b:()=>Ls,FiY:()=>Lo,Lbi:()=>bu,g9A:()=>Oh,n_E:()=>Ym,Qsj:()=>fx,FYo:()=>OD,JOm:()=>so,q3G:()=>Zt,tp0:()=>Cl,Rgc:()=>gh,dDg:()=>rE,q4F:()=>gx,GfV:()=>mx,s_b:()=>yh,ifc:()=>$t,eFA:()=>cE,G48:()=>vg,Gpc:()=>$,f3M:()=>Js,X6Q:()=>wb,_c5:()=>gi,VLi:()=>Fh,c2e:()=>cb,zSh:()=>uC,wAp:()=>Dt,vHH:()=>Be,EiD:()=>Vc,mCW:()=>Ea,qzn:()=>As,JVY:()=>Td,pB0:()=>xd,eBb:()=>vp,L6k:()=>Md,LAX:()=>Sd,cg1:()=>dD,kL8:()=>FS,yhl:()=>to,dqk:()=>Wt,sIi:()=>Fl,CqO:()=>qC,QGY:()=>GC,F4k:()=>aS,RDi:()=>id,AaK:()=>fe,z3N:()=>Or,qOj:()=>Vy,TTD:()=>nl,_Bn:()=>Lm,xp6:()=>Op,uIk:()=>Jd,ekj:()=>cr,Suo:()=>Kv,Xpm:()=>Mt,lG2:()=>J,Yz7:()=>Ke,cJS:()=>wt,oAB:()=>B,Yjl:()=>xe,Y36:()=>eu,_UZ:()=>zC,GkF:()=>$C,BQk:()=>iv,ynx:()=>tu,qZA:()=>hm,TgZ:()=>dm,EpF:()=>oS,n5z:()=>Tc,Ikx:()=>cD,LFG:()=>Pn,$8M:()=>si,$Z:()=>nv,NdJ:()=>WC,CRH:()=>$D,kcU:()=>tw,O4$:()=>v_,oxw:()=>QC,ALo:()=>ph,lcZ:()=>Wm,Hsn:()=>mm,F$t:()=>XC,Q6J:()=>Fs,VKq:()=>LD,iGM:()=>jD,MAs:()=>am,CHM:()=>ad,LSH:()=>ro,Udp:()=>iD,WFA:()=>fm,d8E:()=>uD,YNc:()=>om,W1O:()=>Xv,_uU:()=>dv,Oqu:()=>oh,hij:()=>ah,Gf:()=>zD});var l=F(7579),j=F(727),N=F(8306),oe=F(6451),De=F(3099);function we(o){for(let a in o)if(o[a]===we)return a;throw Error("Could not find renamed property on target object.")}function ce(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function fe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(fe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ke(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const G=we({__forward_ref__:we});function $(o){return o.__forward_ref__=$,o.toString=function(){return fe(this())},o}function ee(o){return Ve(o)?o():o}function Ve(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===$}class Be extends Error{constructor(a,c){super(function Oe(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function te(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():te(o)}function me(o,a){const c=a?` in ${a}`:"";throw new Be(-201,`No provider for ${Ce(o)} found${c}`)}function Te(o,a){null==o&&function ge(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Ke(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function wt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Pt(o){return yn(o,ci)||yn(o,ji)}function yn(o,a){return o.hasOwnProperty(a)?o[a]:null}function bi(o){return o&&(o.hasOwnProperty(vr)||o.hasOwnProperty($s))?o[vr]:null}const ci=we({\u0275prov:we}),vr=we({\u0275inj:we}),ji=we({ngInjectableDef:we}),$s=we({ngInjectorDef:we});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let nr;function un(o){const a=nr;return nr=o,a}function zi(o,a,c){const d=Pt(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&vt.Optional?null:void 0!==a?a:void me(fe(o),"Injector")}function ir(o){return{toString:o}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),$t=(()=>{return(o=$t||($t={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",$t;var o})();const ht="undefined"!=typeof globalThis&&globalThis,Xe="undefined"!=typeof window&&window,Sr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=ht||"undefined"!=typeof global&&global||Xe||Sr,dn={},_t=[],rr=we({\u0275cmp:we}),Yt=we({\u0275dir:we}),ui=we({\u0275pipe:we}),ze=we({\u0275mod:we}),he=we({\u0275fac:we}),Ue=we({__NG_ELEMENT_ID__:we});let Ct=0;function Mt(o){return ir(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||_t,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||$t.Emulated,id:"c",styles:o.styles||_t,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,p=o.features,y=o.pipes;return d.id+=Ct++,d.inputs=L(o.inputs,c),d.outputs=L(o.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(H):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(V):null,d})}function H(o){return qe(o)||function mt(o){return o[Yt]||null}(o)}function V(o){return function xt(o){return o[ui]||null}(o)}const W={};function B(o){return ir(()=>{const a={type:o.type,bootstrap:o.bootstrap||_t,declarations:o.declarations||_t,imports:o.imports||_t,exports:o.exports||_t,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(W[o.id]=o.type),a})}function L(o,a){if(null==o)return dn;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,a&&(a[f]=p)}return c}const J=Mt;function xe(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function qe(o){return o[rr]||null}function Je(o,a){const c=o[ze]||null;if(!c&&!0===a)throw new Error(`Type ${fe(o)} does not have '\u0275mod' property.`);return c}function Gi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ai(o){return Array.isArray(o)&&!0===o[1]}function Ju(o){return 0!=(8&o.flags)}function Ja(o){return 2==(2&o.flags)}function el(o){return 1==(1&o.flags)}function sr(o){return null!==o.template}function Ff(o){return 0!=(512&o[2])}function Cr(o,a){return o.hasOwnProperty(he)?o[he]:null}class tl{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function nl(){return hc}function hc(o){return o.type.prototype.ngOnChanges&&(o.setInput=J0),h_}function h_(){const o=td(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===dn)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function J0(o,a,c,d){const f=td(o)||function fc(o,a){return o[Fn]=a}(o,{previous:dn,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new tl(E&&E.currentValue,a,y===dn),o[d]=a}nl.ngInherit=!0;const Fn="__ngSimpleChanges__";function td(o){return o[Fn]||null}let mc;function id(o){mc=o}function vn(o){return!!o.listen}const gc={createRenderer:(o,a)=>function rd(){return void 0!==mc?mc:"undefined"!=typeof document?document:void 0}()};function mn(o){for(;Array.isArray(o);)o=o[0];return o}function rl(o,a){return mn(a[o])}function Ri(o,a){return mn(a[o.index])}function sl(o,a){return o.data[a]}function bs(o,a){return o[a]}function Oi(o,a){const c=a[o];return Gi(c)?c:c[0]}function ra(o){return 4==(4&o[2])}function Ws(o){return 128==(128&o[2])}function Ar(o,a){return null==a?null:o[a]}function sa(o){o[18]=0}function oa(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const bt={lFrame:Io(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zf(){return bt.bindingsEnabled}function ve(){return bt.lFrame.lView}function Gt(){return bt.lFrame.tView}function ad(o){return bt.lFrame.contextLView=o,o[8]}function An(){let o=aa();for(;null!==o&&64===o.type;)o=o.parent;return o}function aa(){return bt.lFrame.currentTNode}function or(o,a){const c=bt.lFrame;c.currentTNode=o,c.isParent=a}function ld(){return bt.lFrame.isParent}function cd(){bt.lFrame.isParent=!1}function vc(){return bt.isInCheckNoChangesMode}function la(o){bt.isInCheckNoChangesMode=o}function Di(){const o=bt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ys(){return bt.lFrame.bindingIndex++}function dd(o,a){const c=bt.lFrame;c.bindingIndex=c.bindingRootIndex=o,ll(a)}function ll(o){bt.lFrame.currentDirectiveIndex=o}function bc(o){const a=bt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function hd(){return bt.lFrame.currentQueryIndex}function fd(o){bt.lFrame.currentQueryIndex=o}function ew(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function ep(o,a,c){if(c&vt.SkipSelf){let f=a,p=o;for(;!(f=f.parent,null!==f||c&vt.Host||(f=ew(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;a=f,o=p}const d=bt.lFrame=tp();return d.currentTNode=a,d.lView=o,!0}function ca(o){const a=tp(),c=o[1];bt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function tp(){const o=bt.lFrame,a=null===o?null:o.child;return null===a?Io(o):a}function Io(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function np(){const o=bt.lFrame;return bt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const __=np;function cl(){const o=np();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pi(){return bt.lFrame.selectedIndex}function Cs(o){bt.lFrame.selectedIndex=o}function Tn(){const o=bt.lFrame;return sl(o.tView,o.selectedIndex)}function v_(){bt.lFrame.currentNamespace="svg"}function tw(){!function nw(){bt.lFrame.currentNamespace=null}()}function ul(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:S}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),E&&(o.viewHooks||(o.viewHooks=[])).push(-c,E),I&&((o.viewHooks||(o.viewHooks=[])).push(c,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,I)),null!=S&&(o.destroyHooks||(o.destroyHooks=[])).push(c,S)}}function Ds(o,a,c){b_(o,a,3,c)}function dl(o,a,c,d){(3&o[2])===c&&b_(o,a,c,d)}function pd(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function b_(o,a,c,d){const p=null!=d?d:-1,y=a.length-1;let w=0;for(let E=void 0!==d?65535&o[18]:0;E<y;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=d&&w>=d)break}else a[E]<0&&(o[18]+=65536),(w<p||-1==p)&&(rw(o,c,a,E),o[18]=(4294901760&o[18])+E+2),E++}function rw(o,a,c,d){const f=c[d]<0,p=c[d+1],w=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class ua{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Qe(o,a,c){const d=vn(o);let f=0;for(;f<c.length;){const p=c[f];if("number"==typeof p){if(0!==p)break;f++;const y=c[f++],w=c[f++],E=c[f++];d?o.setAttribute(a,w,E,y):a.setAttributeNS(y,w,E)}else{const y=p,w=c[++f];jn(y)?d&&o.setProperty(a,y,w):d?o.setAttribute(a,y,w):a.setAttribute(y,w),f++}}return f}function St(o){return 3===o||4===o||6===o}function jn(o){return 64===o.charCodeAt(0)}function zn(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||sp(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function sp(o,a,c,d,f){let p=0,y=o.length;if(-1===a)y=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[p+1]=f));if(d===o[p+1])return void(o[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(o.splice(y,0,a),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==f&&o.splice(p++,0,f)}function da(o){return-1!==o}function ha(o){return 32767&o}function Mo(o,a){let c=function Qn(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let hl=!0;function Es(o){const a=hl;return hl=o,a}let Dc=0;function fn(o,a){const c=Xr(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,Ec(d.data,o),Ec(a,null),Ec(d.blueprint,null));const f=So(o,a),p=o.injectorIndex;if(da(f)){const y=ha(f),w=Mo(f,a),E=w[1].data;for(let I=0;I<8;I++)a[p+I]=w[y+I]|E[y+I]}return a[p+8]=f,p}function Ec(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Xr(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function So(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){const p=f[1],y=p.type;if(d=2===y?p.declTNode:1===y?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function fl(o,a,c){!function lp(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ue)&&(d=c[Ue]),null==d&&(d=c[Ue]=Dc++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function xo(o,a,c){if(c&vt.Optional)return o;me(a,"NodeInjector")}function Ic(o,a,c,d){if(c&vt.Optional&&void 0===d&&(d=null),0==(c&(vt.Self|vt.Host))){const f=o[9],p=un(void 0);try{return f?f.get(a,d,c&vt.Optional):zi(a,d,c&vt.Optional)}finally{un(p)}}return xo(d,a,c)}function pl(o,a,c,d=vt.Default,f){if(null!==o){const p=function Is(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ue)?o[Ue]:void 0;return"number"==typeof a?a>=0?255&a:cp:a}(c);if("function"==typeof p){if(!ep(a,o,d))return d&vt.Host?xo(f,c,d):Ic(a,c,d,f);try{const y=p(d);if(null!=y||d&vt.Optional)return y;me(c)}finally{__()}}else if("number"==typeof p){let y=null,w=Xr(o,a),E=-1,I=d&vt.Host?a[16][6]:null;for((-1===w||d&vt.SkipSelf)&&(E=-1===w?So(o,a):a[w+8],-1!==E&&Jn(d,!1)?(y=a[1],w=ha(E),a=Mo(E,a)):w=-1);-1!==w;){const S=a[1];if(Xn(p,w,S.data)){const O=md(w,a,c,y,d,I);if(O!==Ao)return O}E=a[w+8],-1!==E&&Jn(d,a[1].data[w+8]===I)&&Xn(p,w,a)?(y=S,w=ha(E),a=Mo(E,a)):w=-1}}}return Ic(a,c,d,f)}const Ao={};function cp(){return new ko(An(),ve())}function md(o,a,c,d,f,p){const y=a[1],w=y.data[o+8],S=Jr(w,y,c,null==d?Ja(w)&&hl:d!=y&&0!=(3&w.type),f&vt.Host&&p===w);return null!==S?fa(a,y,S,w):Ao}function Jr(o,a,c,d,f){const p=o.providerIndexes,y=a.data,w=1048575&p,E=o.directiveStart,S=p>>20,z=f?w+S:o.directiveEnd;for(let Z=d?w:w+S;Z<z;Z++){const le=y[Z];if(Z<E&&c===le||Z>=E&&le.type===c)return Z}if(f){const Z=y[E];if(Z&&sr(Z)&&Z.type===c)return E}return null}function fa(o,a,c,d){let f=o[c];const p=a.data;if(function ip(o){return o instanceof ua}(f)){const y=f;y.resolving&&function He(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Be(-200,`Circular dependency in DI detected for ${o}${c}`)}(Ce(p[c]));const w=Es(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?un(y.injectImpl):null;ep(o,d,vt.Default);try{f=o[c]=y.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function iw(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(d){const y=hc(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],a)}finally{null!==E&&un(E),Es(w),y.resolving=!1,__()}}return f}function Xn(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Jn(o,a){return!(o&vt.Self||o&vt.Host&&a)}class ko{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return pl(this._tNode,this._lView,a,d,c)}}function Tc(o){return ir(()=>{const a=o.prototype.constructor,c=a[he]||fi(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const p=f[he]||fi(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function fi(o){return Ve(o)?()=>{const a=fi(ee(o));return a&&a()}:Cr(o)}function si(o){return function Fi(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(St(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}(An(),o)}const pa="__parameters__";function Rn(o,a,c){return ir(()=>{const d=function Rr(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,I,S){const O=E.hasOwnProperty(pa)?E[pa]:Object.defineProperty(E,pa,{value:[]})[pa];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class On{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ke({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const w_=new On("AnalyzeForEntryComponents");function Wi(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Wi(d,a)):a!==o&&a.push(d)}return a}function ar(o,a){o.forEach(c=>Array.isArray(c)?ar(c,a):a(c))}function vl(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function bl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Oo(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Gn(o,a,c){let d=Qs(o,a);return d>=0?o[1|d]=c:(d=~d,function gd(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function wl(o,a){const c=Qs(o,a);if(c>=0)return o[1|c]}function Qs(o,a){return function Mc(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=o[p<<c];if(a===y)return p<<c;y>a?f=p:d=p+1}return~(f<<c)}(o,a,1)}const Fo={},_a="__NG_DI_FLAG__",No="ngTempTokenPath",_d=/\n/gm,Ac="__source",mp=we({provide:String,useValue:we});let Xs;function ts(o){const a=Xs;return Xs=o,a}function qt(o,a=vt.Default){if(void 0===Xs)throw new Be(203,"");return null===Xs?zi(o,void 0,a):Xs.get(o,a&vt.Optional?null:void 0,a)}function Pn(o,a=vt.Default){return(function Cn(){return nr}()||qt)(ee(o),a)}const Js=Pn;function yd(o){const a=[];for(let c=0;c<o.length;c++){const d=ee(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Be(900,"");let f,p=vt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=gp(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}a.push(Pn(f,p))}else a.push(Pn(d))}return a}function eo(o,a){return o[_a]=a,o.prototype[_a]=a,o}function gp(o){return o[_a]}const ns=eo(Rn("Inject",o=>({token:o})),-1),Lo=eo(Rn("Optional"),8),Cl=eo(Rn("SkipSelf"),4);let Ss;function Vo(o){var a;return(null===(a=function Oc(){if(void 0===Ss&&(Ss=null,Wt.trustedTypes))try{Ss=Wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ss}())||void 0===a?void 0:a.createHTML(o))||o}class xs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fc extends xs{getTypeName(){return"HTML"}}class O_ extends xs{getTypeName(){return"Style"}}class Tl extends xs{getTypeName(){return"Script"}}class P_ extends xs{getTypeName(){return"URL"}}class F_ extends xs{getTypeName(){return"ResourceURL"}}function Or(o){return o instanceof xs?o.changingThisBreaksApplicationSecurity:o}function As(o,a){const c=to(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function to(o){return o instanceof xs&&o.getTypeName()||null}function Td(o){return new Fc(o)}function Md(o){return new O_(o)}function vp(o){return new Tl(o)}function Sd(o){return new P_(o)}function xd(o){return new F_(o)}class bp{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Vo(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class N_{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Vo(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Vo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Nc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ea(o){return(o=String(o)).match(Nc)||o.match(kd)?o:"unsafe:"+o}function is(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function b(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const g=is("area,br,col,hr,img,wbr"),_=is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=is("rp,rt"),be=b(g,b(_,is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),b(C,is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),b(C,_)),We=is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ut=is("srcset"),Ni=b(We,ut,is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),no=is("script,style,template");class io{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!be.hasOwnProperty(c))return this.sanitizedSomething=!0,!no.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!Ni.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;We[w]&&(E=Ea(E)),ut[w]&&(o=E,E=(o=String(o)).split(",").map(a=>Ea(a.trim())).join(", ")),this.buf.push(" ",y,'="',Bc(E),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();be.hasOwnProperty(c)&&!g.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Bc(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Lc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Od=/([^\#-~ |!])/g;function Bc(o){return o.replace(/&/g,"&amp;").replace(Lc,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Od,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ia;function Vc(o,a){let c=null;try{Ia=Ia||function Ad(o){const a=new N_(o);return function wp(){try{return!!(new window.DOMParser).parseFromString(Vo(""),"text/html")}catch(o){return!1}}()?new bp(a):a}(o);let d=a?String(a):"";c=Ia.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=Ia.getInertBodyElement(d)}while(d!==p);return Vo((new io).sanitizeChildren(Uc(c)||c))}finally{if(c){const d=Uc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Uc(o){return"content"in o&&function Hc(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Zt=(()=>((Zt=Zt||{})[Zt.NONE=0]="NONE",Zt[Zt.HTML=1]="HTML",Zt[Zt.STYLE=2]="STYLE",Zt[Zt.SCRIPT=3]="SCRIPT",Zt[Zt.URL=4]="URL",Zt[Zt.RESOURCE_URL=5]="RESOURCE_URL",Zt))();function ro(o){const a=function Ta(){const o=ve();return o&&o[12]}();return a?a.sanitize(Zt.URL,o)||"":As(o,"URL")?Or(o):Ea(te(o))}const hw="__ngContext__";function Zi(o,a){o[hw]=a}function B_(o){const a=function Fd(o){return o[hw]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Al(o){return o.ngOriginalError}function NT(o,...a){o.error(...a)}class Ip{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function FT(o){return o&&o.ngErrorLogger||NT}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Al(a);for(;c&&Al(c);)c=Al(c);return c||null}}const GT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function ks(o){return o instanceof Function?o():o}var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();function Tp(o,a){return undefined(o,a)}function Ld(o){const a=o[3];return Ai(a)?a[3]:a}function Bd(o){return Cw(o[13])}function Sp(o){return Cw(o[4])}function Cw(o){for(;null!==o&&!Ai(o);)o=o[4];return o}function jc(o,a,c,d,f){if(null!=d){let p,y=!1;Ai(d)?p=d:Gi(d)&&(y=!0,d=d[0]);const w=mn(d);0===o&&null!==c?null==f?Y_(a,c,w):Fr(a,c,w,f||null,!0):1===o&&null!==c?Fr(a,c,w,f||null,!0):2===o?function X_(o,a,c){const d=Rl(o,a);d&&function JT(o,a,c,d){vn(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}(a,w,y):3===o&&a.destroyNode(w),null!=p&&function nM(o,a,c,d,f){const p=c[7];p!==mn(c)&&jc(a,o,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];Rp(E[1],E,o,a,d,p)}}(a,o,p,c,f)}}function z_(o,a,c){if(vn(o))return o.createElement(a,c);{const d=null!==c?function pc(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function Ew(o,a){const c=o[9],d=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,oa(f,-1)),c.splice(d,1)}function G_(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&Ew(f,d),a>0&&(o[c-1][4]=d[4]);const p=bl(o,10+a);!function Pr(o,a){Rp(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function q_(o,a){if(!(256&a[2])){const c=a[11];vn(c)&&c.destroyNode&&Rp(o,a,c,3,null,null),function xp(o){let a=o[13];if(!a)return W_(o[1],o);for(;a;){let c=null;if(Gi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)Gi(a)&&W_(a[1],a),a=a[3];null===a&&(a=o),Gi(a)&&W_(a[1],a),c=a&&a[4]}a=c}}(a)}}function W_(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Tw(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof ua)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(o,a),function Iw(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(a):mn(a[y]),E=d[f=c[p+2]],I=c[p+3];"boolean"==typeof I?w.removeEventListener(c[p],E,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)d[p]();a[7]=null}}(o,a),1===a[1].type&&vn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&Ai(a[3])){c!==a[3]&&Ew(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function Ap(o,a,c){return function XT(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===$t.None||f===$t.Emulated)return null}return Ri(d,c)}(o,a.parent,c)}function Fr(o,a,c,d,f){vn(o)?o.insertBefore(a,c,d,f):a.insertBefore(c,d,f)}function Y_(o,a,c){vn(o)?o.appendChild(a,c):a.appendChild(c)}function Mw(o,a,c,d,f){null!==d?Fr(o,a,c,d,f):Y_(o,a,c)}function Rl(o,a){return vn(o)?o.parentNode(a):a.parentNode}function Sw(o,a,c){return Z_(o,a,c)}let Z_=function xw(o,a,c){return 40&o.type?Ri(o,c):null};function kp(o,a,c,d){const f=Ap(o,d,a),p=a[11],w=Sw(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Mw(p,f,c[E],w,!1);else Mw(p,f,c,w,!1)}function $c(o,a){if(null!==a){const c=a.type;if(3&c)return Ri(a,o);if(4&c)return Q_(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return $c(o,d);{const f=o[a.index];return Ai(f)?Q_(-1,f):mn(f)}}if(32&c)return Tp(a,o)()||mn(o[a.index]);{const d=kw(o,a);return null!==d?Array.isArray(d)?d[0]:$c(Ld(o[16]),d):$c(o,a.next)}}return null}function kw(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Q_(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return $c(d,f)}return a[7]}function J_(o,a,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===a&&(w&&Zi(mn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)J_(o,a,c.child,d,f,p,!1),jc(a,o,f,w,p);else if(32&E){const I=Tp(c,d);let S;for(;S=I();)jc(a,o,f,S,p);jc(a,o,f,w,p)}else 16&E?Rw(o,a,d,c,f,p):jc(a,o,f,w,p);c=y?c.projectionNext:c.next}}function Rp(o,a,c,d,f,p){J_(c,d,o.firstChild,a,f,p,!1)}function Rw(o,a,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)jc(a,o,f,E[I],p);else J_(o,a,E,y[3],f,p,!0)}function Ow(o,a,c){vn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function ey(o,a,c){vn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function Y(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=a.length;if(f+p===d||o.charCodeAt(f+p)<=32)return f}c=f+1}}const rs="ng-template";function Rs(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==Y(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Ol(o){return 4===o.type&&o.value!==rs}function Pw(o,a,c){return a===(4!==o.type||c?o.value:rs)}function ty(o,a,c){let d=4;const f=o.attrs||[],p=function rM(o){for(let a=0;a<o.length;a++)if(St(o[a]))return a;return o.length}(f);let y=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!Pw(o,E,c)||""===E&&1===a.length){if(ss(d))return!1;y=!0}}else{const I=8&d?E:a[++w];if(8&d&&null!==o.attrs){if(!Rs(o.attrs,I,c)){if(ss(d))return!1;y=!0}continue}const O=Fw(8&d?"class":E,f,Ol(o),c);if(-1===O){if(ss(d))return!1;y=!0;continue}if(""!==I){let z;z=O>p?"":f[O+1].toLowerCase();const Z=8&d?z:null;if(Z&&-1!==Y(Z,I,0)||2&d&&I!==z){if(ss(d))return!1;y=!0}}}}else{if(!y&&!ss(d)&&!ss(E))return!1;if(y&&ss(E))continue;y=!1,d=E|1&d}}return ss(d)||y}function ss(o){return 0==(1&o)}function Fw(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let p=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function sM(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function ny(o,a,c=!1){for(let d=0;d<a.length;d++)if(ty(o,a[d],c))return!0;return!1}function oM(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Nw(o,a){return o?":not("+a.trim()+")":a}function Uo(o){let a=o[0],c=1,d=2,f="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const w=o[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ss(y)&&(a+=Nw(p,f),f=""),d=y,p=p||!ss(d);c++}return""!==f&&(a+=Nw(p,f)),a}const kt={};function Op(o){Pp(Gt(),ve(),Pi()+o,vc())}function Pp(o,a,c,d){if(!d)if(3==(3&a[2])){const p=o.preOrderCheckHooks;null!==p&&Ds(a,p,c)}else{const p=o.preOrderHooks;null!==p&&dl(a,p,0,c)}Cs(c)}function Vd(o,a){return o<<17|a<<2}function Nr(o){return o>>17&32767}function sy(o){return 2|o}function Ho(o){return(131068&o)>>2}function Ud(o,a){return-131069&o|a<<2}function ay(o){return 1|o}function Zw(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=o.data[p];fd(f),y.contentQueries(2,a[p],p)}}}function Gd(o,a,c,d,f,p,y,w,E,I){const S=a.blueprint.slice();return S[0]=f,S[2]=140|d,sa(S),S[3]=S[15]=o,S[8]=c,S[10]=y||o&&o[10],S[11]=w||o&&o[11],S[12]=E||o&&o[12]||null,S[9]=I||o&&o[9]||null,S[6]=p,S[16]=2==a.type?o[16]:S,S}function qc(o,a,c,d,f){let p=o.data[a];if(null===p)p=function fy(o,a,c,d,f){const p=aa(),y=ld(),E=o.data[a]=function my(o,a,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(o,a,c,d,f),function ud(){return bt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function al(){const o=bt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return or(p,!0),p}function Wc(o,a,c,d){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function qd(o,a,c){ca(a);try{const d=o.viewQuery;null!==d&&Dy(1,d,c);const f=o.template;null!==f&&$p(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Zw(o,a),o.staticViewQueries&&Dy(2,o.viewQuery,c);const p=o.components;null!==p&&function Kw(o,a){for(let c=0;c<a.length;c++)EM(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,cl()}}function xa(o,a,c,d){const f=a[2];if(256==(256&f))return;ca(a);const p=vc();try{sa(a),function Xf(o){return bt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&$p(o,a,c,2,d);const y=3==(3&f);if(!p)if(y){const I=o.preOrderCheckHooks;null!==I&&Ds(a,I,null)}else{const I=o.preOrderHooks;null!==I&&dl(a,I,0,null),pd(a,0)}if(function CM(o){for(let a=Bd(o);null!==a;a=Sp(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(1024&f[2])&&oa(p,1),f[2]|=1024}}}(a),function wM(o){for(let a=Bd(o);null!==a;a=Sp(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];Ws(d)&&xa(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&Zw(o,a),!p)if(y){const I=o.contentCheckHooks;null!==I&&Ds(a,I)}else{const I=o.contentHooks;null!==I&&dl(a,I,1),pd(a,1)}!function Yw(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Cs(~f);else{const p=f,y=c[++d],w=c[++d];dd(y,p),w(2,a[p])}}}finally{Cs(-1)}}(o,a);const w=o.components;null!==w&&function hy(o,a){for(let c=0;c<a.length;c++)DM(o,a[c])}(a,w);const E=o.viewQuery;if(null!==E&&Dy(2,E,d),!p)if(y){const I=o.viewCheckHooks;null!==I&&Ds(a,I)}else{const I=o.viewHooks;null!==I&&dl(a,I,2),pd(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,oa(a[3],-1))}finally{cl()}}function hM(o,a,c,d){const f=a[10],p=!vc(),y=ra(a);try{p&&!y&&f.begin&&f.begin(),y&&qd(o,a,d),xa(o,a,c,d)}finally{p&&!y&&f.end&&f.end()}}function $p(o,a,c,d,f){const p=Pi(),y=2&d;try{Cs(-1),y&&a.length>20&&Pp(o,a,20,vc()),c(d,f)}finally{Cs(p)}}function Qw(o,a,c){if(Ju(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Wd(o,a,c){!Zf()||(function eC(o,a,c,d){const f=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||fn(c,a),Zi(d,a);const y=c.initialInputs;for(let w=f;w<p;w++){const E=o.data[w],I=sr(E);I&&D1(a,c,E);const S=fa(a,o,w,c);Zi(S,a),null!==y&&E1(0,w-f,S,E,0,y),I&&(Oi(c.index,a)[8]=S)}}(o,a,c,Ri(c,a)),128==(128&c.flags)&&function vM(o,a,c){const d=c.directiveStart,f=c.directiveEnd,y=c.index,w=function g_(){return bt.lFrame.currentDirectiveIndex}();try{Cs(y);for(let E=d;E<f;E++){const I=o.data[E],S=a[E];ll(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Yp(I,S)}}finally{Cs(-1),ll(w)}}(o,a,c))}function py(o,a,c=Ri){const d=a.localNames;if(null!==d){let f=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(a,o):o[y];o[f++]=w}}}function Gp(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=qp(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function qp(o,a,c,d,f,p,y,w,E,I){const S=20+d,O=S+f,z=function v1(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:kt);return c}(S,O),Z="function"==typeof I?I():I;return z[1]={type:o,blueprint:z,template:c,queries:null,viewQuery:w,declTNode:a,data:z.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1}}function Xw(o,a,c,d){const f=AM(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&Xp(o).push(d,f.length-1))}function gy(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function Lr(o,a,c,d,f,p,y,w){const E=Ri(a,c);let S,I=a.inputs;!w&&null!=I&&(S=I[d])?(aC(o,c,S,d,f),Ja(a)&&function gM(o,a){const c=Oi(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function mM(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,a.value||"",d):f,vn(p)?p.setProperty(E,d,f):jn(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function vy(o,a,c,d){let f=!1;if(Zf()){const p=function C1(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];ny(c,y.selectors,!1)&&(f||(f=[]),fl(fn(c,a),o,y.type),sr(y)?(tC(o,c),f.unshift(y)):f.push(y))}return f}(o,a,c),y=null===d?null:{"":-1};if(null!==p){f=!0,nC(c,o.data.length,p.length);for(let S=0;S<p.length;S++){const O=p[S];O.providersResolver&&O.providersResolver(O)}let w=!1,E=!1,I=Wc(o,a,p.length,null);for(let S=0;S<p.length;S++){const O=p[S];c.mergedAttrs=zn(c.mergedAttrs,O.hostAttrs),Zp(o,c,a,I,O),bM(I,O,y),null!==O.contentQueries&&(c.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=128);const z=O.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),I++}!function pM(o,a){const d=a.directiveEnd,f=o.data,p=a.attrs,y=[];let w=null,E=null;for(let I=a.directiveStart;I<d;I++){const S=f[I],O=S.inputs,z=null===p||Ol(a)?null:Kp(O,p);y.push(z),w=gy(O,I,w),E=gy(S.outputs,I,E)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=E}(o,c)}y&&function by(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new Be(-301,!1);d.push(a[f],p)}}}(c,d,y)}return c.mergedAttrs=zn(c.mergedAttrs,c.attrs),f}function Jw(o,a,c,d,f,p){const y=p.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const E=~a.index;(function yM(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function Yp(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function tC(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function bM(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;sr(a)&&(c[""]=o)}}function nC(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function Zp(o,a,c,d,f){o.data[d]=f;const p=f.factory||(f.factory=Cr(f.type)),y=new ua(p,sr(f),null);o.blueprint[d]=y,c[d]=y,Jw(o,a,0,d,Wc(o,c,f.hostVars,kt),f)}function D1(o,a,c){const d=Ri(a,o),f=Gp(c),p=o[10],y=Qp(o,Gd(o,f,null,c.onPush?64:16,d,a,p,p.createRenderer(d,c),null,null));o[a.index]=y}function zo(o,a,c,d,f,p){const y=Ri(o,a);!function iC(o,a,c,d,f,p,y){if(null==p)vn(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const w=null==y?te(p):y(p,d||"",f);vn(o)?o.setAttribute(a,f,w,c):c?a.setAttributeNS(c,f,w):a.setAttribute(f,w)}}(a[11],y,p,o.value,c,d,f)}function E1(o,a,c,d,f,p){const y=p[a];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const I=y[E++],S=y[E++],O=y[E++];null!==w?d.setInput(c,O,I,S):c[S]=O}}}function Kp(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function rC(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function DM(o,a){const c=Oi(a,o);if(Ws(c)){const d=c[1];80&c[2]?xa(d,c,d.template,c[8]):c[5]>0&&wy(c)}}function wy(o){for(let d=Bd(o);null!==d;d=Sp(d))for(let f=10;f<d.length;f++){const p=d[f];if(1024&p[2]){const y=p[1];xa(y,p,y.template,p[8])}else p[5]>0&&wy(p)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Oi(c[d],o);Ws(f)&&f[5]>0&&wy(f)}}function EM(o,a){const c=Oi(a,o),d=c[1];(function IM(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),qd(d,c,c[8])}function Qp(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Cy(o){for(;o;){o[2]|=64;const a=Ld(o);if(Ff(o)&&!a)return o;o=a}return null}function $o(o,a,c){const d=a[10];d.begin&&d.begin();try{xa(o,a,o.template,c)}catch(f){throw Jp(a,f),f}finally{d.end&&d.end()}}function sC(o){!function Yc(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=B_(c),f=d[1];hM(f,d,f.template,c)}}(o[8])}function Dy(o,a,c){fd(0),a(o,c)}const xM=(()=>Promise.resolve(null))();function AM(o){return o[7]||(o[7]=[])}function Xp(o){return o.cleanup||(o.cleanup=[])}function oC(o,a,c){return(null===o||sr(o))&&(c=function qf(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}function Jp(o,a){const c=o[9],d=c?c.get(Ip,null):null;d&&d.handleError(a)}function aC(o,a,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=a[y],I=o.data[y];null!==I.setInput?I.setInput(E,f,d,w):E[w]=f}}function Go(o,a,c){const d=rl(a,o);!function j_(o,a,c){vn(o)?o.setValue(a,c):a.textContent=c}(o[11],d,c)}function Yd(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?p=w:1==p?f=ke(f,w):2==p&&(d=ke(d,w+": "+a[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}const Ey=new On("INJECTOR",-1);class cC{get(a,c=Fo){if(c===Fo){const d=new Error(`NullInjectorError: No provider for ${fe(a)}!`);throw d.name="NullInjectorError",d}return c}}const uC=new On("Set Injector scope."),ao={},qo={};let Iy;function em(){return void 0===Iy&&(Iy=new cC),Iy}function dC(o,a=null,c=null,d){const f=Ty(o,a,c,d);return f._resolveInjectorDefTypes(),f}function Ty(o,a=null,c=null,d){return new RM(o,c,a||em(),d)}class RM{constructor(a,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&ar(c,w=>this.processProvider(w,a,c)),ar([a],w=>this.processInjectorType(w,[],p)),this.records.set(Ey,os(void 0,this));const y=this.records.get(uC);this.scope=null!=y?y.value:null,this.source=f||("object"==typeof a?null:fe(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Fo,d=vt.Default){this.assertNotDestroyed();const f=ts(this),p=un(void 0);try{if(!(d&vt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const E=function Ay(o){return"function"==typeof o||"object"==typeof o&&o instanceof On}(a)&&Pt(a);w=E&&this.injectableDefInScope(E)?os(Zd(a),ao):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&vt.Self?em():this.parent).get(a,c=d&vt.Optional&&c===Fo?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[No]=y[No]||[]).unshift(fe(a)),f)throw y;return function vd(o,a,c,d){const f=o[No];throw a[Ac]&&f.unshift(a[Ac]),o.message=function ya(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=fe(a);if(Array.isArray(a))f=a.map(fe).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(_d,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[No]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{un(p),ts(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(fe(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(a,c,d){if(!(a=ee(a)))return!1;let f=bi(a);const p=null==f&&a.ngModule||void 0,y=void 0===p?a:p,w=-1!==d.indexOf(y);if(void 0!==p&&(f=bi(p)),null==f)return!1;if(null!=f.imports&&!w){let S;d.push(y);try{ar(f.imports,O=>{this.processInjectorType(O,c,d)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:z,providers:Z}=S[O];ar(Z,le=>this.processProvider(le,z,Z||_t))}}this.injectorDefTypes.add(y);const E=Cr(y)||(()=>new y);this.records.set(y,os(E,ao));const I=f.providers;if(null!=I&&!w){const S=a;ar(I,O=>this.processProvider(O,S,I))}return void 0!==p&&void 0!==a.providers}processProvider(a,c,d){let f=Aa(a=ee(a))?a:ee(a&&a.provide);const p=function PM(o,a,c){return tm(o)?os(void 0,o.useValue):os(hC(o),ao)}(a);if(Aa(a)||!0!==a.multi)this.records.get(f);else{let y=this.records.get(f);y||(y=os(void 0,ao,!0),y.factory=()=>yd(y.multi),this.records.set(f,y)),f=a,y.multi.push(a)}this.records.set(f,p)}hydrate(a,c){return c.value===ao&&(c.value=qo,c.value=c.factory()),"object"==typeof c.value&&c.value&&function FM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ee(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Zd(o){const a=Pt(o),c=null!==a?a.factory:Cr(o);if(null!==c)return c;if(o instanceof On)throw new Be(204,!1);if(o instanceof Function)return function OM(o){const a=o.length;if(a>0)throw Oo(a,"?"),new Be(204,!1);const c=function vi(o){const a=o&&(o[ci]||o[ji]);if(a){const c=function tn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Be(204,!1)}function hC(o,a,c){let d;if(Aa(o)){const f=ee(o);return Cr(f)||Zd(f)}if(tm(o))d=()=>ee(o.useValue);else if(function fC(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...yd(o.deps||[]));else if(function My(o){return!(!o||!o.useExisting)}(o))d=()=>Pn(ee(o.useExisting));else{const f=ee(o&&(o.useClass||o.provide));if(!function xy(o){return!!o.deps}(o))return Cr(f)||Zd(f);d=()=>new f(...yd(o.deps))}return d}function os(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function tm(o){return null!==o&&"object"==typeof o&&mp in o}function Aa(o){return"function"==typeof o}let Br=(()=>{class o{static create(c,d){var f;if(Array.isArray(c))return dC({name:""},d,c,"");{const p=null!==(f=c.name)&&void 0!==f?f:"";return dC({name:p},c.parent,c.providers,p)}}}return o.THROW_IF_NOT_FOUND=Fo,o.NULL=new cC,o.\u0275prov=Ke({token:o,providedIn:"any",factory:()=>Pn(Ey)}),o.__NG_ELEMENT_ID__=-1,o})();function UM(o,a){ul(B_(o)[1],An())}function Vy(o){let a=function By(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(sr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Be(903,"");f=a.\u0275dir}if(f){if(c){d.push(f);const y=o;y.inputs=Hy(o.inputs),y.declaredInputs=Hy(o.declaredInputs),y.outputs=Hy(o.outputs);const w=f.hostBindings;w&&HM(o,w);const E=f.viewQuery,I=f.contentQueries;if(E&&DC(o,E),I&&jy(o,I),ce(o.inputs,f.inputs),ce(o.declaredInputs,f.declaredInputs),ce(o.outputs,f.outputs),sr(f)&&f.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(o),w===Vy&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Uy(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=zn(f.hostAttrs,c=zn(c,f.hostAttrs))}}(d)}function Hy(o){return o===dn?{}:o===_t?[]:o}function DC(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function jy(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,p)=>{a(d,f,p),c(d,f,p)}:a}function HM(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let Qd=null;function ka(){if(!Qd){const o=Wt.Symbol;if(o&&o.iterator)Qd=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Qd=d)}}}return Qd}function Fl(o){return!!Xd(o)&&(Array.isArray(o)||!(o instanceof Map)&&ka()in o)}function Xd(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ki(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Jd(o,a,c,d){const f=ve();return Ki(f,Ys(),a)&&(Gt(),zo(Tn(),f,o,a,c,d)),Jd}function om(o,a,c,d,f,p,y,w){const E=ve(),I=Gt(),S=o+20,O=I.firstCreatePass?function qM(o,a,c,d,f,p,y,w,E){const I=a.consts,S=qc(a,o,4,y||null,Ar(I,w));vy(a,c,S,Ar(I,E)),ul(a,S);const O=S.tViews=qp(2,S,d,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,S),O.queries=a.queries.embeddedTView(S)),S}(S,I,E,a,c,d,f,p,y):I.data[S];or(O,!1);const z=E[11].createComment("");kp(I,E,z,O),Zi(z,E),Qp(E,E[S]=rC(z,E,z,O)),el(O)&&Wd(I,E,O),null!=y&&py(E,O,w)}function am(o){return bs(function Qf(){return bt.lFrame.contextLView}(),20+o)}function eu(o,a=vt.Default){const c=ve();return null===c?Pn(o,a):pl(An(),c,ee(o),a)}function nv(){throw new Error("invalid")}function Fs(o,a,c){const d=ve();return Ki(d,Ys(),a)&&Lr(Gt(),Tn(),d,o,a,d[11],c,!1),Fs}function sh(o,a,c,d,f){const y=f?"class":"style";aC(o,c,a.inputs[y],y,d)}function dm(o,a,c,d){const f=ve(),p=Gt(),y=20+o,w=f[11],E=f[y]=z_(w,a,function DT(){return bt.lFrame.currentNamespace}()),I=p.firstCreatePass?function A1(o,a,c,d,f,p,y){const w=a.consts,I=qc(a,o,2,f,Ar(w,p));return vy(a,c,I,Ar(w,y)),null!==I.attrs&&Yd(I,I.attrs,!1),null!==I.mergedAttrs&&Yd(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,p,f,0,a,c,d):p.data[y];or(I,!0);const S=I.mergedAttrs;null!==S&&Qe(w,E,S);const O=I.classes;null!==O&&ey(w,E,O);const z=I.styles;return null!==z&&Ow(w,E,z),64!=(64&I.flags)&&kp(p,f,E,I),0===function ol(){return bt.lFrame.elementDepthCount}()&&Zi(E,f),function Yf(){bt.lFrame.elementDepthCount++}(),el(I)&&(Wd(p,f,I),Qw(p,I,f)),null!==d&&py(f,I),dm}function hm(){let o=An();ld()?cd():(o=o.parent,or(o,!1));const a=o;!function sd(){bt.lFrame.elementDepthCount--}();const c=Gt();return c.firstCreatePass&&(ul(c,o),Ju(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function rp(o){return 0!=(16&o.flags)}(a)&&sh(c,a,ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ow(o){return 0!=(32&o.flags)}(a)&&sh(c,a,ve(),a.stylesWithoutHost,!1),hm}function zC(o,a,c,d){return dm(o,a,c,d),hm(),zC}function tu(o,a,c){const d=ve(),f=Gt(),p=o+20,y=f.firstCreatePass?function sS(o,a,c,d,f){const p=a.consts,y=Ar(p,d),w=qc(a,o,8,"ng-container",y);return null!==y&&Yd(w,y,!0),vy(a,c,w,Ar(p,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,f,d,a,c):f.data[p];or(y,!0);const w=d[p]=d[11].createComment("");return kp(f,d,w,y),Zi(w,d),el(y)&&(Wd(f,d,y),Qw(f,y,d)),null!=c&&py(d,y),tu}function iv(){let o=An();const a=Gt();return ld()?cd():(o=o.parent,or(o,!1)),a.firstCreatePass&&(ul(a,o),Ju(o)&&a.queries.elementEnd(o)),iv}function $C(o,a,c){return tu(o,a,c),iv(),$C}function oS(){return ve()}function GC(o){return!!o&&"function"==typeof o.then}function aS(o){return!!o&&"function"==typeof o.subscribe}const qC=aS;function WC(o,a,c,d){const f=ve(),p=Gt(),y=An();return ZC(p,f,f[11],y,o,a,!!c,d),WC}function fm(o,a){const c=An(),d=ve(),f=Gt();return ZC(f,d,oC(bc(f.data),c,d),c,o,a,!1),fm}function ZC(o,a,c,d,f,p,y,w){const E=el(d),S=o.firstCreatePass&&Xp(o),O=a[8],z=AM(a);let Z=!0;if(3&d.type||w){const Le=Ri(d,a),et=w?w(Le):Le,ye=z.length,tt=w?zt=>w(mn(zt[d.index])):d.index;if(vn(c)){let zt=null;if(!w&&E&&(zt=function YC(o,a,c,d){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=a[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(o,a,f,d.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=p,zt.__ngLastListenerFn__=p,Z=!1;else{p=nu(d,a,O,p,!1);const on=c.listen(et,f,p);z.push(p,on),S&&S.push(f,tt,ye,ye+1)}}else p=nu(d,a,O,p,!0),et.addEventListener(f,p,y),z.push(p),S&&S.push(f,tt,ye,y)}else p=nu(d,a,O,p,!1);const le=d.outputs;let Re;if(Z&&null!==le&&(Re=le[f])){const Le=Re.length;if(Le)for(let et=0;et<Le;et+=2){const Ir=a[Re[et]][Re[et+1]].subscribe(p),Tr=z.length;z.push(p,Ir),S&&S.push(f,d.index,Tr,-(Tr+1))}}}function KC(o,a,c,d){try{return!1!==c(d)}catch(f){return Jp(o,f),!1}}function nu(o,a,c,d,f){return function p(y){if(y===Function)return d;const w=2&o.flags?Oi(o.index,a):a;0==(32&a[2])&&Cy(w);let E=KC(a,0,d,y),I=p.__ngNextListenerFn__;for(;I;)E=KC(a,0,I,y)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function QC(o=1){return function Zs(o){return(bt.lFrame.contextLView=function y_(o,a){for(;o>0;)a=a[15],o--;return a}(o,bt.lFrame.contextLView))[8]}(o)}function pm(o,a){let c=null;const d=function iM(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===d?ny(o,p,!0):oM(d,p))return f}else c=f}return c}function XC(o){const a=ve()[16][6];if(!a.projection){const d=a.projection=Oo(o?o.length:1,null),f=d.slice();let p=a.child;for(;null!==p;){const y=o?pm(p,o):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function mm(o,a=0,c){const d=ve(),f=Gt(),p=qc(f,20+o,16,null,c||null);null===p.projection&&(p.projection=a),cd(),64!=(64&p.flags)&&function tM(o,a,c){Rw(a[11],0,a,c,Ap(o,c,a),Sw(c.parent||a[6],c,a))}(f,d,p)}function _m(o,a,c,d,f){const p=o[c+1],y=null===a;let w=d?Nr(p):Ho(p),E=!1;for(;0!==w&&(!1===E||y);){const S=o[w+1];ov(o[w],a)&&(E=!0,o[w+1]=d?ay(S):sy(S)),w=d?Nr(S):Ho(S)}E&&(o[c+1]=d?sy(p):ay(p))}function ov(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Qs(o,a)>=0}function iD(o,a,c){return as(o,a,c,!1),iD}function cr(o,a){return as(o,a,null,!0),cr}function as(o,a,c,d){const f=ve(),p=Gt(),y=function ws(o){const a=bt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}(2);p.firstUpdatePass&&function wm(o,a,c,d){const f=o.data;if(null===f[c+1]){const p=f[Pi()],y=function sD(o,a){return a>=o.expandoStartIndex}(o,c);(function wS(o,a){return 0!=(o.flags&(a?16:32))})(p,d)&&null===a&&!y&&(a=!1),a=function fS(o,a,c,d){const f=bc(o);let p=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Cm(c=lv(null,o,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(c=lv(f,o,a,c,d),null===p){let E=function pS(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Ho(d))return o[Nr(d)]}(o,a,d);void 0!==E&&Array.isArray(E)&&(E=lv(null,o,a,E[1],d),E=Cm(E,a.attrs,d),function mS(o,a,c,d){o[Nr(c?a.classBindings:a.styleBindings)]=d}(o,a,d,E))}else p=function gS(o,a,c){let d;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)d=Cm(d,o[p].hostAttrs,c);return Cm(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,d),function rv(o,a,c,d,f,p){let y=p?a.classBindings:a.styleBindings,w=Nr(y),E=Ho(y);o[d]=c;let S,I=!1;if(Array.isArray(c)){const O=c;S=O[1],(null===S||Qs(O,S)>0)&&(I=!0)}else S=c;if(f)if(0!==E){const z=Nr(o[w+1]);o[d+1]=Vd(z,w),0!==z&&(o[z+1]=Ud(o[z+1],d)),o[w+1]=function aM(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Vd(w,0),0!==w&&(o[w+1]=Ud(o[w+1],d)),w=d;else o[d+1]=Vd(E,0),0===w?w=d:o[E+1]=Ud(o[E+1],d),E=d;I&&(o[d+1]=sy(o[d+1])),_m(o,S,d,!0),_m(o,S,d,!1),function sv(o,a,c,d,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&Qs(p,a)>=0&&(c[d+1]=ay(c[d+1]))}(a,S,o,d,p),y=Vd(w,E),p?a.classBindings=y:a.styleBindings=y}(f,p,a,c,y,d)}}(p,o,y,d),a!==kt&&Ki(f,y,a)&&function vS(o,a,c,d,f,p,y,w){if(!(3&a.type))return;const E=o.data,I=E[w+1];cv(function oy(o){return 1==(1&o)}(I)?bS(E,a,c,f,Ho(I),y):void 0)||(cv(p)||function Fp(o){return 2==(2&o)}(I)&&(p=bS(E,null,c,f,w,y)),function Kt(o,a,c,d,f){const p=vn(o);if(a)f?p?o.addClass(c,d):c.classList.add(d):p?o.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:so.DashCase;if(null==f)p?o.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),y|=so.Important),p?o.setStyle(c,d,f,y):c.style.setProperty(d,f,w?"important":"")}}}(d,y,rl(Pi(),c),f,p))}(p,p.data[Pi()],f,f[11],o,f[y+1]=function uv(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=fe(Or(o)))),o}(a,c),d,y)}function lv(o,a,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=a[w],d=Cm(d,p.hostAttrs,f),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Cm(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Gn(o,y,!!c||a[++p]))}return void 0===o?null:o}function bS(o,a,c,d,f,p){const y=null===a;let w;for(;f>0;){const E=o[f],I=Array.isArray(E),S=I?E[1]:E,O=null===S;let z=c[f+1];z===kt&&(z=O?_t:void 0);let Z=O?wl(z,d):S===d?z:void 0;if(I&&!cv(Z)&&(Z=wl(E,d)),cv(Z)&&(w=Z,y))return w;const le=o[f+1];f=y?Nr(le):Ho(le)}if(null!==a){let E=p?a.residualClasses:a.residualStyles;null!=E&&(w=wl(E,d))}return w}function cv(o){return void 0!==o}function dv(o,a=""){const c=ve(),d=Gt(),f=o+20,p=d.firstCreatePass?qc(d,f,1,a,null):d.data[f],y=c[f]=function H_(o,a){return vn(o)?o.createText(a):o.createTextNode(a)}(c[11],a);kp(d,c,y,p),or(p,!1)}function oh(o){return ah("",o,""),oh}function ah(o,a,c){const d=ve(),f=function Ra(o,a,c,d){return Ki(o,Ys(),c)?a+te(c)+d:kt}(d,o,a,c);return f!==kt&&Go(d,Pi(),f),ah}function cD(o,a,c){const d=ve();return Ki(d,Ys(),a)&&Lr(Gt(),Tn(),d,o,a,d[11],c,!0),cD}function uD(o,a,c){const d=ve();if(Ki(d,Ys(),a)){const p=Gt(),y=Tn();Lr(p,y,d,o,a,oC(bc(p.data),y,d),c,!0)}return uD}const au=void 0;var eP=["en",[["a","p"],["AM","PM"],au],[["AM","PM"],au,au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",au,"{1} 'at' {0}",au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function J1(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let lh={};function dD(o){const a=function tP(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=NS(a);if(c)return c;const d=a.split("-")[0];if(c=NS(d),c)return c;if("en"===d)return eP;throw new Error(`Missing locale data for the locale "${o}".`)}function FS(o){return dD(o)[Dt.PluralCase]}function NS(o){return o in lh||(lh[o]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[o]),lh[o]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const hv="en-US";let LS=hv;function Pm(o,a,c,d,f){if(o=ee(o),Array.isArray(o))for(let p=0;p<o.length;p++)Pm(o[p],a,c,d,f);else{const p=Gt(),y=ve();let w=Aa(o)?o:ee(o.provide),E=hC(o);const I=An(),S=1048575&I.providerIndexes,O=I.directiveStart,z=I.providerIndexes>>20;if(Aa(o)||!o.multi){const Z=new ua(E,f,eu),le=Nm(w,a,f?S:S+z,O);-1===le?(fl(fn(I,y),p,w),Fm(p,o,a.length),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(Z),y.push(Z)):(c[le]=Z,y[le]=Z)}else{const Z=Nm(w,a,S+z,O),le=Nm(w,a,S,S+z),Re=Z>=0&&c[Z],Le=le>=0&&c[le];if(f&&!Le||!f&&!Re){fl(fn(I,y),p,w);const et=function cP(o,a,c,d,f){const p=new ua(o,c,eu);return p.multi=[],p.index=a,p.componentProviders=0,Av(p,f,d&&!c),p}(f?ux:lP,c.length,f,d,E);!f&&Le&&(c[le].providerFactory=et),Fm(p,o,a.length,0),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(et),y.push(et)}else Fm(p,o,Z>-1?Z:le,Av(c[f?le:Z],E,!f&&d));!f&&d&&Le&&c[le].componentProviders++}}}function Fm(o,a,c,d){const f=Aa(a),p=function Sy(o){return!!o.useClass}(a);if(f||p){const E=(p?ee(a.useClass):a).prototype.ngOnDestroy;if(E){const I=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const S=I.indexOf(c);-1===S?I.push(c,[d,E]):I[S+1].push(d,E)}else I.push(c,E)}}}function Av(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Nm(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function lP(o,a,c,d){return xD(this.multi,[])}function ux(o,a,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=fa(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),xD(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],xD(f,p);return p}function xD(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Lm(o,a=[]){return c=>{c.providersResolver=(d,f)=>function SD(o,a,c){const d=Gt();if(d.firstCreatePass){const f=sr(o);Pm(c,d.data,d.blueprint,f,!0),Pm(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class AD{}class kv{resolveComponentFactory(a){throw function kD(o){const a=Error(`No component factory found for ${fe(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ul=(()=>{class o{}return o.NULL=new kv,o})();function dP(){return Va(An(),ve())}function Va(o,a){return new Bm(Ri(o,a))}let Bm=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=dP,o})();function hx(o){return o instanceof Bm?o.nativeElement:o}class OD{}let fx=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function fP(){const o=ve(),c=Oi(An().index,o);return function hP(o){return o[11]}(Gi(c)?c:o)}(),o})(),px=(()=>{class o{}return o.\u0275prov=Ke({token:o,providedIn:"root",factory:()=>null}),o})();class mx{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const gx=new mx("13.2.7"),PD={};function Rv(o,a,c,d,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(mn(p)),Ai(p))for(let w=10;w<p.length;w++){const E=p[w],I=E[1].firstChild;null!==I&&Rv(E[1],E,I,d)}const y=c.type;if(8&y)Rv(o,a,c.child,d);else if(32&y){const w=Tp(c,a);let E;for(;E=w();)d.push(E)}else if(16&y){const w=kw(a,c);if(Array.isArray(w))d.push(...w);else{const E=Ld(a[16]);Rv(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Vm{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Rv(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ai(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(G_(a,d),bl(c,d))}this._attachedToViewContainer=!1}q_(this._lView[1],this._lView)}onDestroy(a){Xw(this._lView[1],this._lView,null,a)}markForCheck(){Cy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$o(this._lView[1],this._lView,this.context)}checkNoChanges(){!function MM(o,a,c){la(!0);try{$o(o,a,c)}finally{la(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dw(o,a){Rp(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=a}}class _x extends Vm{constructor(a){super(a),this._view=a}detectChanges(){sC(this._view)}checkNoChanges(){!function SM(o){la(!0);try{sC(o)}finally{la(!1)}}(this._view)}get context(){return null}}class uo extends Ul{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=qe(a);return new du(c,this.ngModule)}}function lt(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class du extends AD{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Lw(o){return o.map(Uo).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return lt(this.componentDef.inputs)}get outputs(){return lt(this.componentDef.outputs)}create(a,c,d,f){const p=(f=f||this.ngModule)?function Rt(o,a){return{get:(c,d,f)=>{const p=o.get(c,PD,f);return p!==PD||d===PD?p:a.get(c,d,f)}}}(a,f.injector):a,y=p.get(OD,gc),w=p.get(px,null),E=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=d?function fM(o,a,c){if(vn(o))return o.selectRootElement(a,c===$t.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(E,d,this.componentDef.encapsulation):z_(y.createRenderer(null,this.componentDef),I,function Ov(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(I)),O=this.componentDef.onPush?576:528,z=function CC(o,a){return{components:[],scheduler:o||GT,clean:xM,playerHandler:a||null,flags:0}}(),Z=qp(0,null,null,1,0,null,null,null,null,null),le=Gd(null,Z,z,O,null,null,y,E,w,p);let Re,Le;ca(le);try{const et=function Ly(o,a,c,d,f,p){const y=c[1];c[20]=o;const E=qc(y,20,2,"#host",null),I=E.mergedAttrs=a.hostAttrs;null!==I&&(Yd(E,I,!0),null!==o&&(Qe(f,o,I),null!==E.classes&&ey(f,o,E.classes),null!==E.styles&&Ow(f,o,E.styles)));const S=d.createRenderer(o,a),O=Gd(c,Gp(a),null,a.onPush?64:16,c[20],E,d,S,p||null,null);return y.firstCreatePass&&(fl(fn(E,c),y,a.type),tC(y,E),nC(E,c.length,1)),Qp(c,O),c[20]=O}(S,this.componentDef,le,y,E);if(S)if(d)Qe(E,S,["ng-version",gx.full]);else{const{attrs:ye,classes:tt}=function iy(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===f?""!==p&&a.push(p,o[++d]):8===f&&c.push(p);else{if(!ss(f))break;f=p}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);ye&&Qe(E,S,ye),tt&&tt.length>0&&ey(E,S,tt.join(" "))}if(Le=sl(Z,20),void 0!==c){const ye=Le.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const zt=c[tt];ye.push(null!=zt?Array.from(zt):null)}}Re=function wC(o,a,c,d,f){const p=c[1],y=function Er(o,a,c){const d=An();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Zp(o,d,a,Wc(o,a,1,null),c));const f=fa(a,o,d.directiveStart,d);Zi(f,a);const p=Ri(d,a);return p&&Zi(p,a),f}(p,c,a);if(d.components.push(y),o[8]=y,f&&f.forEach(E=>E(y,a)),a.contentQueries){const E=An();a.contentQueries(1,y,E.directiveStart)}const w=An();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Cs(w.index),Jw(c[1],w,0,w.directiveStart,w.directiveEnd,a),Yp(a,y)),y}(et,this.componentDef,le,z,[UM]),qd(Z,le,null)}finally{cl()}return new yx(this.componentType,Re,Va(Le,le),le,Le)}}class yx extends class uP{}{constructor(a,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new _x(f),this.componentType=a}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class hu{}class FD{}const fu=new Map;class jm extends hu{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uo(this);const d=Je(a);this._bootstrapComponents=ks(d.bootstrap),this._r3Injector=Ty(a,c,[{provide:hu,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],fe(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Br.THROW_IF_NOT_FOUND,d=vt.Default){return a===Br||a===hu||a===Ey?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class zm extends FD{constructor(a){super(),this.moduleType=a,null!==Je(a)&&function Bi(o){const a=new Set;!function c(d){const f=Je(d,!0),p=f.id;null!==p&&(function fh(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${fe(a)} vs ${fe(a.name)}`)}(p,fu.get(p),d),fu.set(p,d));const y=ks(f.imports);for(const w of y)a.has(w)||(a.add(w),c(w))}(o)}(a)}create(a){return new jm(this.moduleType,a)}}function LD(o,a,c,d){return Lv(ve(),Di(),o,a,c,d)}function Lv(o,a,c,d,f,p){const y=a+c;return Ki(o,y,f)?function Ps(o,a,c){return o[a]=c}(o,y+1,p?d.call(p,f):d(f)):function fo(o,a){const c=o[a];return c===kt?void 0:c}(o,y+1)}function ph(o,a){const c=Gt();let d;const f=o+20;c.firstCreatePass?(d=function Uv(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const p=d.factory||(d.factory=Cr(d.type)),y=un(eu);try{const w=Es(!1),E=p();return Es(w),function WM(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,ve(),f,E),E}finally{un(y)}}function Wm(o,a,c){const d=o+20,f=ve(),p=bs(f,d);return function pu(o,a){return o[1].data[a].pure}(f,d)?Lv(f,Di(),a,p.transform,c,p):p.transform(c)}function jl(o){return a=>{setTimeout(o,void 0,a)}}const po=class Ex extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var f,p,y;let w=a,E=c||(()=>null),I=d;if(a&&"object"==typeof a){const O=a;w=null===(f=O.next)||void 0===f?void 0:f.bind(O),E=null===(p=O.error)||void 0===p?void 0:p.bind(O),I=null===(y=O.complete)||void 0===y?void 0:y.bind(O)}this.__isAsync&&(E=jl(E),w&&(w=jl(w)),I&&(I=jl(I)));const S=super.subscribe({next:w,error:E,complete:I});return a instanceof j.w0&&a.add(S),S}};function mh(){return this._results[ka()]()}class Ym{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ka(),d=Ym.prototype;d[c]||(d[c]=mh)}get changes(){return this._changes||(this._changes=new po)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Wi(a);(this._changesDetected=!function E_(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],p=a[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let gh=(()=>{class o{}return o.__NG_ELEMENT_ID__=UD,o})();const Zm=gh,zv=class extends Zm{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=Gd(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),qd(c,d,a),new Vm(d)}};function UD(){return _h(An(),ve())}function _h(o,a){return 4&o.type?new zv(a,o,Va(o,a)):null}let yh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Km,o})();function Km(){return Gv(An(),ve())}const $v=yh,Qm=class extends $v{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const a=So(this._hostTNode,this._hostLView);if(da(a)){const c=Mo(a,this._hostLView),d=ha(a);return new ko(c[1].data[d+8],c)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Xm(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const f=a.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(a,c,d,f,p){const y=a&&!function yl(o){return"function"==typeof o}(a);let w;if(y)w=c;else{const O=c||{};w=O.index,d=O.injector,f=O.projectableNodes,p=O.ngModuleRef}const E=y?a:new du(qe(a)),I=d||this.parentInjector;if(!p&&null==E.ngModule){const z=(y?I:this.parentInjector).get(hu,null);z&&(p=z)}const S=E.create(I,f,void 0,p);return this.insert(S.hostView,w),S}insert(a,c){const d=a._lView,f=d[1];if(function Wf(o){return Ai(o[3])}(d)){const S=this.indexOf(a);if(-1!==S)this.detach(S);else{const O=d[3],z=new Qm(O,O[6],O[3]);z.detach(z.indexOf(a))}}const p=this._adjustIndex(c),y=this._lContainer;!function $_(o,a,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=a),d<p-10?(a[4]=c[f],vl(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function zc(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,d,y,p);const w=Q_(p,y),E=d[11],I=Rl(E,y[7]);return null!==I&&function QT(o,a,c,d,f,p){d[0]=f,d[6]=a,Rp(o,d,c,1,f,p)}(f,y[6],E,d,I,w),a.attachToViewContainerRef(),vl(vh(y),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Xm(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=G_(this._lContainer,c);d&&(bl(vh(this._lContainer),c),q_(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=G_(this._lContainer,c);return d&&null!=bl(vh(this._lContainer),c)?new Vm(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function Xm(o){return o[8]}function vh(o){return o[8]||(o[8]=[])}function Gv(o,a){let c;const d=a[o.index];if(Ai(d))c=d;else{let f;if(8&o.type)f=mn(d);else{const p=a[11];f=p.createComment("");const y=Ri(o,a);Fr(p,Rl(p,y),f,function eM(o,a){return vn(o)?o.nextSibling(a):a.nextSibling}(p,y),!1)}a[o.index]=c=rC(d,a,f,o),Qp(a,c)}return new Qm(c,o,a)}class Jm{constructor(a){this.queryList=a,this.matches=null}clone(){return new Jm(this.queryList)}setDirty(){this.queryList.setDirty()}}class bh{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new bh(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==tg(a,c).matches&&this.queries[c].setDirty()}}class qv{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Wv{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Wv(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class wh{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new wh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(a,c,Yv(c,p)),this.matchTNodeWithReadOption(a,c,Jr(c,a,p,!1,!1))}else d===gh?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Jr(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Bm||f===yh||f===gh&&4&c.type)this.addMatch(c.index,-2);else{const p=Jr(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Yv(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Ti(o,a,c,d){return-1===c?function Zv(o,a){return 11&o.type?Va(o,a):4&o.type?_h(o,a):null}(a,o):-2===c?function Vi(o,a,c){return c===Bm?Va(a,o):c===gh?_h(a,o):c===yh?Gv(a,o):void 0}(o,a,d):fa(o,o[1],c,a)}function Ch(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const p=o.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const I=y[E];w.push(I<0?null:Ti(a,p[I],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function Dh(o,a,c,d){const f=o.queries.getByIndex(c),p=f.matches;if(null!==p){const y=Ch(o,a,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const I=p[w+1],S=a[-E];for(let O=10;O<S.length;O++){const z=S[O];z[17]===z[3]&&Dh(z[1],z,I,d)}if(null!==S[9]){const O=S[9];for(let z=0;z<O.length;z++){const Z=O[z];Dh(Z[1],Z,I,d)}}}}}return d}function jD(o){const a=ve(),c=Gt(),d=hd();fd(d+1);const f=tg(c,d);if(o.dirty&&ra(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?Dh(c,a,d,[]):Ch(c,a,f,d);o.reset(p,hx),o.notifyOnChanges()}return!0}return!1}function zD(o,a,c){const d=Gt();d.firstCreatePass&&(eg(d,new qv(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Qv(d,ve(),a)}function Kv(o,a,c,d){const f=Gt();if(f.firstCreatePass){const p=An();eg(f,new qv(a,c,d),p.index),function Sx(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}Qv(f,ve(),c)}function $D(){return function Mx(o,a){return o[19].queries[a].queryList}(ve(),hd())}function Qv(o,a,c){const d=new Ym(4==(4&c));Xw(o,a,d,d.destroy),null===a[19]&&(a[19]=new bh),a[19].queries.push(new Jm(d))}function eg(o,a,c){null===o.queries&&(o.queries=new Wv),o.queries.track(new wh(a,c))}function tg(o,a){return o.queries.getByIndex(a)}function Xv(o,a){return _h(o,a)}function Ah(...o){}const Ua=new On("Application Initializer");let Ns=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Ah,this.reject=Ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(GC(p))c.push(p);else if(qC(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Pn(Ua,8))},o.\u0275prov=Ke({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const kh=new On("AppId",{providedIn:"root",factory:function Rh(){return`${Dn()}${Dn()}${Dn()}`}});function Dn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Oh=new On("Platform Initializer"),bu=new On("Platform ID"),wu=new On("appBootstrapListener");let cb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ke({token:o,factory:o.\u0275fac}),o})();const ub=new On("LocaleId",{providedIn:"root",factory:()=>Js(ub,vt.Optional|vt.SkipSelf)||function Lx(){return"undefined"!=typeof $localize&&$localize.locale||hv}()}),Bx=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class JD{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let eE=(()=>{class o{compileModuleSync(c){return new zm(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=ks(Je(c).declarations).reduce((y,w)=>{const E=qe(w);return E&&y.push(new du(E)),y},[]);return new JD(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ke({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Vx=(()=>Promise.resolve(0))();function db(o){"undefined"==typeof Zone?Vx.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ls{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new po(!1),this.onMicrotaskEmpty=new po(!1),this.onStable=new po(!1),this.onError=new po(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function nE(){let o=Wt.requestAnimationFrame,a=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function fb(o){const a=()=>{!function hb(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,fg(o),o.isCheckStableRunning=!0,hg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),fg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return pb(o),c.invokeTask(f,p,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),pg(o)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return pb(o),c.invoke(f,p,y,w,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),pg(o)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,fg(o),hg(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,iE,Ah,Ah);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const iE={};function hg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function fg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function pb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function pg(o){o._nesting--,hg(o)}class Ux{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po,this.onMicrotaskEmpty=new po,this.onStable=new po,this.onError=new po}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}let rE=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),db(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())db(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Pn(Ls))},o.\u0275prov=Ke({token:o,factory:o.\u0275fac}),o})(),sE=(()=>{class o{constructor(){this._applications=new Map,Cu.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Cu.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ke({token:o,factory:o.\u0275fac}),o})();class mg{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function Fh(o){Cu=o}let Hr,Cu=new mg;const aE=new On("AllowMultipleToken");class qn{constructor(a,c){this.name=a,this.token=c}}function cE(o,a,c=[]){const d=`Platform: ${a}`,f=new On(d);return(p=[])=>{let y=mb();if(!y||y.injector.get(aE,!1))if(o)o(c.concat(p).concat({provide:f,useValue:!0}));else{const w=c.concat(p).concat({provide:f,useValue:!0},{provide:uC,useValue:"platform"});!function lE(o){if(Hr&&!Hr.destroyed&&!Hr.injector.get(aE,!1))throw new Be(400,"");Hr=o.get(gb);const a=o.get(Oh,null);a&&a.forEach(c=>c())}(Br.create({providers:w,name:d}))}return function Hx(o){const a=mb();if(!a)throw new Be(401,"");return a}()}}function mb(){return Hr&&!Hr.destroyed?Hr:null}let gb=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function uE(o,a){let c;return c="noop"===o?new Ux:("zone.js"===o?void 0:o)||new Ls({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Ls,useValue:w}];return w.run(()=>{const I=Br.create({providers:E,parent:this.injector,name:c.moduleType.name}),S=c.create(I),O=S.injector.get(Ip,null);if(!O)throw new Be(402,"");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:Z=>{O.handleError(Z)}});S.onDestroy(()=>{yg(this._modules,S),z.unsubscribe()})}),function _g(o,a,c){try{const d=c();return GC(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(O,w,()=>{const z=S.injector.get(Ns);return z.runInitializers(),z.donePromise.then(()=>(function sP(o){Te(o,"Expected localeId to be defined"),"string"==typeof o&&(LS=o.toLowerCase().replace(/_/g,"-"))}(S.injector.get(ub,hv)||hv),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,d=[]){const f=_b({},d);return function oE(o,a,c){const d=new zm(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(Bs);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Be(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Pn(Br))},o.\u0275prov=Ke({token:o,factory:o.\u0275fac}),o})();function _b(o,a){return Array.isArray(a)?a.reduce(_b,o):Object.assign(Object.assign({},o),a)}let Bs=(()=>{class o{constructor(c,d,f,p,y){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new N.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new N.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),db(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,oe.T)(w,E.pipe((0,De.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Be(405,"");let f;f=c instanceof AD?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const p=function Nh(o){return o.isBoundToModule}(f)?void 0:this._injector.get(hu),w=f.create(Br.NULL,[],d||f.selector,p),E=w.location.nativeElement,I=w.injector.get(rE,null),S=I&&w.injector.get(sE);return I&&S&&S.registerApplication(E,I),w.onDestroy(()=>{this.detachView(w.hostView),yg(this.components,w),S&&S.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;yg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(wu,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(Pn(Ls),Pn(Br),Pn(Ip),Pn(Ul),Pn(Ns))},o.\u0275prov=Ke({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function yg(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let Du=!0,bb=!1;function wb(){return bb=!0,Du}function vg(){if(bb)throw new Error("Cannot enable prod mode after platform setup.");Du=!1}let hE=(()=>{class o{}return o.__NG_ELEMENT_ID__=Lh,o})();function Lh(o){return function fE(o,a,c){if(Ja(o)&&!c){const d=Oi(o.index,a);return new Vm(d,d)}return 47&o.type?new Vm(a[16],a):null}(An(),ve(),16==(16&o))}class Tb{constructor(){}supports(a){return Fl(a)}create(a){return new Cg(a)}}const Gx=(o,a)=>a;class Cg{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Gx}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<Wl(d,f,p)?c:d,w=Wl(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const I=w-f,S=E-f;if(I!=S){for(let z=0;z<I;z++){const Z=z<p.length?p[z]:p[z]=0,le=Z+z;S<=le&&le<I&&(p[z]=Z+1)}p[y.previousIndex]=S-I}}w!==E&&a(y,w,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Fl(a))throw new Be(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function GM(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[ka()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new qx(c,d),p,f),a}_verifyReinsertion(a,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new mi),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mi),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qx{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class mi{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new bE,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wl(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class Ko{constructor(){}supports(a){return a instanceof Map||Xd(a)}create(){return new Mb}}class Mb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Xd(a)))throw new Be(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new Wx(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Wx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ae(){return new Nn([new Tb])}let Nn=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Ae()),deps:[[o,new Cl,new Lo]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Be(901,"")}}return o.\u0275prov=Ke({token:o,providedIn:"root",factory:Ae}),o})();function Dg(){return new Ze([new Ko])}let Ze=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Dg()),deps:[[o,new Cl,new Lo]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Be(901,"")}}return o.\u0275prov=Ke({token:o,providedIn:"root",factory:Dg}),o})();const gi=cE(null,"core",[{provide:bu,useValue:"unknown"},{provide:gb,deps:[Br]},{provide:sE,deps:[]},{provide:cb,deps:[]}]);let wE=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Pn(Bs))},o.\u0275mod=B({type:o}),o.\u0275inj=wt({}),o})()},3942:(rt,_e,F)=>{F.d(_e,{Z:()=>Be});var l=F(2090),j=F(4859),N=F(9681),oe=F(1877);class De{constructor(te,Ce){this._delegate=te,this.firebase=Ce,(0,N._addComponent)(te,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this._delegate.automaticDataCollectionEnabled=te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(te=>{this._delegate.checkDestroyed(),te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(te,Ce=N._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(te);return!Ge.isInitialized()&&"EXPLICIT"===(null===(He=Ge.getComponent())||void 0===He?void 0:He.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ce})}_removeServiceInstance(te,Ce=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(te).clearInstance(Ce)}_addComponent(te){(0,N._addComponent)(this._delegate,te)}_addOrOverwriteComponent(te){(0,N._addOrOverwriteComponent)(this._delegate,te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ke(){const Oe=function fe(Oe){const te={},Ce={__esModule:!0,initializeApp:function Me(X,ie={}){const pe=N.initializeApp(X,ie);if((0,l.r3)(te,pe.name))return te[pe.name];const je=new Oe(pe,Ce);return te[pe.name]=je,je},app:Ge,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function de(X){const ie=X.name,pe=ie.replace("-compat","");if(N._registerComponent(X)&&"PUBLIC"===X.type){const je=(nt=Ge())=>{if("function"!=typeof nt[pe])throw ce.create("invalid-app-argument",{appName:ie});return nt[pe]()};void 0!==X.serviceProps&&(0,l.ZB)(je,X.serviceProps),Ce[pe]=je,Oe.prototype[pe]=function(...nt){return this._getService.bind(this,ie).apply(this,X.multipleInstances?nt:[])}}return"PUBLIC"===X.type?Ce[pe]:null},removeApp:function He(X){delete te[X]},useAsService:function Ne(X,ie){return"serverAuth"===ie?null:ie},modularAPIs:N}};function Ge(X){if(!(0,l.r3)(te,X=X||N._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:X});return te[X]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function me(){return Object.keys(te).map(X=>te[X])}}),Ge.App=Oe,Ce}(De);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function te(Ce){(0,l.ZB)(Oe,Ce)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Oe}(),$=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=G;!function Se(Oe){(0,N.registerVersion)("@firebase/app-compat","0.2.3",Oe)}()},9681:(rt,_e,F)=>{F.r(_e),F.d(_e,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ci,_DEFAULT_ENTRY_NAME:()=>Te,_addComponent:()=>Un,_addOrOverwriteComponent:()=>Ke,_apps:()=>at,_clearComponents:()=>yn,_components:()=>Ot,_getProvider:()=>wt,_registerComponent:()=>ft,_removeServiceInstance:()=>Pt,deleteApp:()=>vt,getApp:()=>ji,getApps:()=>$s,initializeApp:()=>vr,onLog:()=>un,registerVersion:()=>Cn,setLogLevel:()=>zi});var l=F(5861),j=F(4859),N=F(1877),oe=F(2090),De=F(8766);class we{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function ce(ze){const he=ze.getComponent();return"VERSION"===(null==he?void 0:he.type)}(Ue)){const Ct=Ue.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Ue=>Ue).join(" ")}}const fe="@firebase/app",G=new N.Yd("@firebase/app"),Te="[DEFAULT]",ge={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,Ot=new Map;function Un(ze,he){try{ze.container.addComponent(he)}catch(Ue){G.debug(`Component ${he.name} failed to register with FirebaseApp ${ze.name}`,Ue)}}function Ke(ze,he){ze.container.addOrOverwriteComponent(he)}function ft(ze){const he=ze.name;if(Ot.has(he))return G.debug(`There were multiple attempts to register component ${he}.`),!1;Ot.set(he,ze);for(const Ue of at.values())Un(Ue,ze);return!0}function wt(ze,he){const Ue=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),ze.container.getProvider(he)}function Pt(ze,he,Ue=Te){wt(ze,he).clearInstance(Ue)}function yn(){Ot.clear()}const tn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bi{constructor(he,Ue,Ct){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}const ci="9.17.1";function vr(ze,he={}){let Ue=ze;"object"!=typeof he&&(he={name:he});const Ct=Object.assign({name:Te,automaticDataCollectionEnabled:!1},he),Mt=Ct.name;if("string"!=typeof Mt||!Mt)throw tn.create("bad-app-name",{appName:String(Mt)});if(Ue||(Ue=(0,oe.aH)()),!Ue)throw tn.create("no-options");const nn=at.get(Mt);if(nn){if((0,oe.vZ)(Ue,nn.options)&&(0,oe.vZ)(Ct,nn.config))return nn;throw tn.create("duplicate-app",{appName:Mt})}const H=new j.H0(Mt);for(const W of Ot.values())H.addComponent(W);const V=new bi(Ue,Ct,H);return at.set(Mt,V),V}function ji(ze=Te){const he=at.get(ze);if(!he&&ze===Te)return vr();if(!he)throw tn.create("no-app",{appName:ze});return he}function $s(){return Array.from(at.values())}function vt(ze){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(ze){const he=ze.name;at.has(he)&&(at.delete(he),yield Promise.all(ze.container.getProviders().map(Ue=>Ue.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function Cn(ze,he,Ue){var Ct;let Mt=null!==(Ct=ge[ze])&&void 0!==Ct?Ct:ze;Ue&&(Mt+=`-${Ue}`);const nn=Mt.match(/\s|\//),H=he.match(/\s|\//);if(nn||H){const V=[`Unable to register library "${Mt}" with version "${he}":`];return nn&&V.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),nn&&H&&V.push("and"),H&&V.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void G.warn(V.join(" "))}ft(new j.wA(`${Mt}-version`,()=>({library:Mt,version:he}),"VERSION"))}function un(ze,he){if(null!==ze&&"function"!=typeof ze)throw tn.create("invalid-log-argument");(0,N.Am)(ze,he)}function zi(ze){(0,N.Ub)(ze)}const xn="firebase-heartbeat-store";let wi=null;function ps(){return wi||(wi=(0,De.X3)("firebase-heartbeat-database",1,{upgrade:(ze,he)=>{0===he&&ze.createObjectStore(xn)}}).catch(ze=>{throw tn.create("idb-open",{originalErrorMessage:ze.message})})),wi}function ht(){return(ht=(0,l.Z)(function*(ze){try{return(yield ps()).transaction(xn).objectStore(xn).get(br(ze))}catch(he){if(he instanceof oe.ZR)G.warn(he.message);else{const Ue=tn.create("idb-get",{originalErrorMessage:null==he?void 0:he.message});G.warn(Ue.message)}}})).apply(this,arguments)}function Xe(ze,he){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(ze,he){try{const Ct=(yield ps()).transaction(xn,"readwrite");return yield Ct.objectStore(xn).put(he,br(ze)),Ct.done}catch(Ue){if(Ue instanceof oe.ZR)G.warn(Ue.message);else{const Ct=tn.create("idb-set",{originalErrorMessage:null==Ue?void 0:Ue.message});G.warn(Ct.message)}}})).apply(this,arguments)}function br(ze){return`${ze.name}!${ze.options.appId}`}class Hn{constructor(he){this.container=he,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new rr(Ue),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var he=this;return(0,l.Z)(function*(){const Ct=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=dn();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!he._heartbeatsCache.heartbeats.some(nn=>nn.date===Mt))return he._heartbeatsCache.heartbeats.push({date:Mt,agent:Ct}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(nn=>{const H=new Date(nn.date).valueOf();return Date.now()-H<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,l.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const Ue=dn(),{heartbeatsToSend:Ct,unsentEntries:Mt}=function _t(ze,he=1024){const Ue=[];let Ct=ze.slice();for(const Mt of ze){const nn=Ue.find(H=>H.agent===Mt.agent);if(nn){if(nn.dates.push(Mt.date),Yt(Ue)>he){nn.dates.pop();break}}else if(Ue.push({agent:Mt.agent,dates:[Mt.date]}),Yt(Ue)>he){Ue.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:Ct}}(he._heartbeatsCache.heartbeats),nn=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ct}));return he._heartbeatsCache.lastSentHeartbeatDate=Ue,Mt.length>0?(he._heartbeatsCache.heartbeats=Mt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),nn})()}}function dn(){return(new Date).toISOString().substring(0,10)}class rr{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,l.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function $t(ze){return ht.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var Ue=this;return(0,l.Z)(function*(){var Ct;if(yield Ue._canUseIndexedDBPromise){const nn=yield Ue.read();return Xe(Ue.app,{lastSentHeartbeatDate:null!==(Ct=he.lastSentHeartbeatDate)&&void 0!==Ct?Ct:nn.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Ue=this;return(0,l.Z)(function*(){var Ct;if(yield Ue._canUseIndexedDBPromise){const nn=yield Ue.read();return Xe(Ue.app,{lastSentHeartbeatDate:null!==(Ct=he.lastSentHeartbeatDate)&&void 0!==Ct?Ct:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...he.heartbeats]})}})()}}function Yt(ze){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function ui(ze){ft(new j.wA("platform-logger",he=>new we(he),"PRIVATE")),ft(new j.wA("heartbeat",he=>new Hn(he),"PRIVATE")),Cn(fe,"0.9.3",ze),Cn(fe,"0.9.3","esm2017"),Cn("fire-js","")}("")},4859:(rt,_e,F)=>{F.d(_e,{wA:()=>N,H0:()=>fe});var l=F(5861),j=F(2090);class N{constructor(G,$,ee){this.name=G,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const oe="[DEFAULT]";class De{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const ee=new j.BH;if(this.instancesDeferred.set($,ee),this.isInitialized($)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:$});Ve&&ee.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const ee=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ve=null!==($=null==G?void 0:G.optional)&&void 0!==$&&$;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ce(ke){return"EAGER"===ke.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:oe})}catch($){}for(const[$,ee]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier($);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});ee.resolve(Se)}catch(Se){}}}}clearInstance(G=oe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...$.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=oe){return this.instances.has(G)}getOptions(G=oe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,ee=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(const[Se,Be]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Se)&&Be.resolve(Ve);return Ve}onInit(G,$){var ee;const Ve=this.normalizeInstanceIdentifier($),Se=null!==(ee=this.onInitCallbacks.get(Ve))&&void 0!==ee?ee:new Set;Se.add(G),this.onInitCallbacks.set(Ve,Se);const Be=this.instances.get(Ve);return Be&&G(Be,Ve),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,$){const ee=this.onInitCallbacks.get($);if(ee)for(const Ve of ee)try{Ve(G,$)}catch(Se){}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let ee=this.instances.get(G);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=G,ke===oe?void 0:ke),options:$}),this.instances.set(G,ee),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(ee,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ee)}catch(Ve){}var ke;return ee||null}normalizeInstanceIdentifier(G=oe){return this.component?this.component.multipleInstances?G:oe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new De(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,_e,F)=>{F.d(_e,{in:()=>j,Yd:()=>ce,Ub:()=>fe,Am:()=>ke});const l=[];var j=(()=>{return(G=j||(j={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",j;var G})();const N={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,De={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},we=(G,$,...ee)=>{if($<G.logLevel)return;const Ve=(new Date).toISOString(),Se=De[$];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Se](`[${Ve}]  ${G.name}:`,...ee)};class ce{constructor($){this.name=$,this._logLevel=oe,this._logHandler=we,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in j))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...$),this._logHandler(this,j.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...$),this._logHandler(this,j.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,j.INFO,...$),this._logHandler(this,j.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,j.WARN,...$),this._logHandler(this,j.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...$),this._logHandler(this,j.ERROR,...$)}}function fe(G){l.forEach($=>{$.setLogLevel(G)})}function ke(G,$){for(const ee of l){let Ve=null;$&&$.level&&(Ve=N[$.level]),ee.userLogHandler=null===G?null:(Se,Be,...Oe)=>{const te=Oe.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(He){return null}}).filter(Ce=>Ce).join(" ");Be>=(null!=Ve?Ve:Se.logLevel)&&G({level:j[Be].toLowerCase(),message:te,args:Oe,type:Se.name})}}}},9260:(rt,_e,F)=>{F.d(_e,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(rt,_e,F)=>{F.r(_e);var l=F(5861),j=F(3942),N=F(2722),oe=F(2090),ce=(F(9681),F(1877),F(4859));function fe(){return window}function $(){return($=(0,l.Z)(function*(B,x,L){var J;const{BuildInfo:xe}=fe();(0,N.ap)(x.sessionId,"AuthEvent did not contain a session ID");const qe=yield Ce(x.sessionId),mt={};return(0,N.aq)()?mt.ibi=xe.packageName:(0,N.ar)()?mt.apn=xe.packageName:(0,N.as)(B,"operation-not-supported-in-this-environment"),xe.displayName&&(mt.appDisplayName=xe.displayName),mt.sessionId=qe,(0,N.at)(B,L,x.type,void 0,null!==(J=x.eventId)&&void 0!==J?J:void 0,mt)})).apply(this,arguments)}function Ve(){return(Ve=(0,l.Z)(function*(B){const{BuildInfo:x}=fe(),L={};(0,N.aq)()?L.iosBundleId=x.packageName:(0,N.ar)()?L.androidPackageName=x.packageName:(0,N.as)(B,"operation-not-supported-in-this-environment"),yield(0,N.au)(B,L)})).apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(B,x,L){const{cordova:J}=fe();let xe=()=>{};try{yield new Promise((qe,mt)=>{let xt=null;function Je(){var Ut;qe();const Ci=null===(Ut=J.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Ci&&Ci(),"function"==typeof(null==L?void 0:L.close)&&L.close()}function rn(){xt||(xt=window.setTimeout(()=>{mt((0,N.aw)(B,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===(null==document?void 0:document.visibilityState)&&rn()}x.addPassiveListener(Je),document.addEventListener("resume",rn,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",Yn,!1),xe=()=>{x.removePassiveListener(Je),document.removeEventListener("resume",rn,!1),document.removeEventListener("visibilitychange",Yn,!1),xt&&window.clearTimeout(xt)}})}finally{xe()}})).apply(this,arguments)}function Ce(B){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(B){const x=Ge(B),L=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(L)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(B){if((0,N.ap)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(B);const x=new ArrayBuffer(B.length),L=new Uint8Array(x);for(let J=0;J<B.length;J++)L[J]=B.charCodeAt(J);return L}class me extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(x)),super.onEvent(x)}initialized(){var x=this;return(0,l.Z)(function*(){yield x.initPromise})()}}function X(B){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(B){const x=yield nt()._get(ot(B));return x&&(yield nt()._remove(ot(B))),x})).apply(this,arguments)}function je(){const B=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const J=Math.floor(Math.random()*x.length);B.push(x.charAt(J))}return B.join("")}function nt(){return(0,N.az)(N.b)}function ot(B){return(0,N.aA)("authEvent",B.config.apiKey,B.name)}function se(B){if(!(null==B?void 0:B.includes("?")))return{};const[x,...L]=B.split("?");return(0,oe.zd)(L.join("?"))}function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function ft(){var B;return(null===(B=null==self?void 0:self.location)||void 0===B?void 0:B.protocol)||null}function Pt(B=(0,oe.z$)()){return!("file:"!==ft()&&"ionic:"!==ft()&&"capacitor:"!==ft()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function ci(){try{const B=self.localStorage,x=N.aI();if(B)return B.setItem(x,"1"),B.removeItem(x),!function bi(B=(0,oe.z$)()){return function vi(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tn(B=(0,oe.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,oe.hl)()}catch(B){return vr()&&(0,oe.hl)()}return!1}function vr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ji(){return(function wt(){return"http:"===ft()||"https:"===ft()}()||(0,oe.ru)()||Pt())&&!function yn(){return(0,oe.b$)()||(0,oe.UG)()}()&&ci()&&!vr()}function $s(){return Pt()&&"undefined"!=typeof document}function nr(){return(nr=(0,l.Z)(function*(){return!!$s()&&new Promise(B=>{const x=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),B(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},zi=N.ax,Mr="persistence";function xn(B){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(B){yield B._initializationPromise;const x=$t(),L=N.aA(Mr,B.config.apiKey,B.name);x&&x.setItem(L,B._getPersistence())})).apply(this,arguments)}function $t(){var B;try{return(null===(B=function Cn(){return"undefined"!=typeof window?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch(x){return null}}const ht=N.ax;class Xe{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(class Ee{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(x){var L=this;return(0,l.Z)(function*(){const J=x._key();let xe=L.eventManagers.get(J);return xe||(xe=new me(x),L.eventManagers.set(J,xe),L.attachCallbackListeners(x,xe)),xe})()}_openPopup(x){(0,N.as)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,L,J,xe){var qe=this;return(0,l.Z)(function*(){!function te(B){var x,L,J,xe,qe,mt,xt,Je,rn,Yn;const Ut=fe();(0,N.ax)("function"==typeof(null===(x=null==Ut?void 0:Ut.universalLinks)||void 0===x?void 0:x.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(void 0!==(null===(L=null==Ut?void 0:Ut.BuildInfo)||void 0===L?void 0:L.packageName),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(qe=null===(xe=null===(J=null==Ut?void 0:Ut.cordova)||void 0===J?void 0:J.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===qe?void 0:qe.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Je=null===(xt=null===(mt=null==Ut?void 0:Ut.cordova)||void 0===mt?void 0:mt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===Je?void 0:Je.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Yn=null===(rn=null==Ut?void 0:Ut.cordova)||void 0===rn?void 0:rn.InAppBrowser)||void 0===Yn?void 0:Yn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const mt=yield qe._initialize(x);yield mt.initialized(),mt.resetRedirect(),(0,N.aD)(),yield qe._originValidation(x);const xt=function de(B,x,L=null){return{type:x,eventId:L,urlResponse:null,sessionId:je(),postBody:null,tenantId:B.tenantId,error:(0,N.aw)(B,"no-auth-event")}}(x,J,xe);yield function Ne(B,x){return nt()._set(ot(B),x)}(x,xt);const Je=yield function G(B,x,L){return $.apply(this,arguments)}(x,xt,L),rn=yield function Se(B){const{cordova:x}=fe();return new Promise(L=>{x.plugins.browsertab.isAvailable(J=>{let xe=null;J?x.plugins.browsertab.openUrl(B):xe=x.InAppBrowser.open(B,(0,N.av)()?"_blank":"_system","location=yes"),L(xe)})})}(Je);return function Be(B,x,L){return Oe.apply(this,arguments)}(x,mt,rn)})()}_isIframeWebStorageSupported(x,L){throw new Error("Method not implemented.")}_originValidation(x){const L=x._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function ee(B){return Ve.apply(this,arguments)}(x)),this.originValidationPromises[L]}attachCallbackListeners(x,L){const{universalLinks:J,handleOpenURL:xe,BuildInfo:qe}=fe(),mt=setTimeout((0,l.Z)(function*(){yield X(x),L.onEvent(ge())}),500),xt=function(){var Yn=(0,l.Z)(function*(Ut){clearTimeout(mt);const Ci=yield X(x);let xr=null;Ci&&(null==Ut?void 0:Ut.url)&&(xr=function pe(B,x){var L,J;const xe=function q(B){const x=se(B),L=x.link?decodeURIComponent(x.link):void 0,J=se(L).link,xe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return se(xe).link||xe||J||L||B}(x);if(xe.includes("/__/auth/callback")){const qe=se(xe),mt=qe.firebaseError?function Ft(B){try{return JSON.parse(B)}catch(x){return null}}(decodeURIComponent(qe.firebaseError)):null,xt=null===(J=null===(L=null==mt?void 0:mt.code)||void 0===L?void 0:L.split("auth/"))||void 0===J?void 0:J[1],Je=xt?(0,N.aw)(xt):null;return Je?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:xe,postBody:null}}return null}(Ci,Ut.url)),L.onEvent(xr||ge())});return function(Ci){return Yn.apply(this,arguments)}}();void 0!==J&&"function"==typeof J.subscribe&&J.subscribe(null,xt);const Je=xe,rn=`${qe.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var Yn=(0,l.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(rn)&&xt({url:Ut}),"function"==typeof Je)try{Je(Ut)}catch(Ci){console.error(Ci)}});return function(Ut){return Yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(x){var L=this;return(0,l.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,L,J,xe){var qe=this;return(0,l.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openPopup(x,L,J,xe)})()}_openRedirect(x,L,J,xe){var qe=this;return(0,l.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openRedirect(x,L,J,xe)})()}_isIframeWebStorageSupported(x,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,L)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return $s()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,l.Z)(function*(){if(x.underlyingResolver)return;const L=yield function vt(){return nr.apply(this,arguments)}();x.underlyingResolver=L?x.cordovaResolver:x.browserResolver})()}}function Sr(B){return B.unwrap()}function Wt(B){return Hn(B)}function Hn(B){const{_tokenResponse:x}=B instanceof oe.ZR?B.customData:B;if(!x)return null;if(!(B instanceof oe.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return N.P.credentialFromResult(B);const L=x.providerId;if(!L||L===N.o.PASSWORD)return null;let J;switch(L){case N.o.GOOGLE:J=N.Q;break;case N.o.FACEBOOK:J=N.N;break;case N.o.GITHUB:J=N.T;break;case N.o.TWITTER:J=N.W;break;default:const{oauthIdToken:xe,oauthAccessToken:qe,oauthTokenSecret:mt,pendingToken:xt,nonce:Je}=x;return qe||mt||xe||xt?xt?L.startsWith("saml.")?N.aL._create(L,xt):N.J._fromParams({providerId:L,signInMethod:L,pendingToken:xt,idToken:xe,accessToken:qe}):new N.U(L).credential({idToken:xe,accessToken:qe,rawNonce:Je}):null}return B instanceof oe.ZR?J.credentialFromError(B):J.credentialFromResult(B)}function dn(B,x){return x.catch(L=>{throw L instanceof oe.ZR&&function ms(B,x){var L;const J=null===(L=x.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===(null==x?void 0:x.code))x.resolver=new Yt(B,N.an(B,x));else if(J){const xe=Hn(x),qe=x;xe&&(qe.credential=xe,qe.tenantId=J.tenantId||void 0,qe.email=J.email||void 0,qe.phoneNumber=J.phoneNumber||void 0)}}(B,L),L}).then(L=>{const xe=L.user;return{operationType:L.operationType,credential:Wt(L),additionalUserInfo:N.al(L),user:ui.getOrCreate(xe)}})}function _t(B,x){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(B,x){const L=yield x;return{verificationId:L.verificationId,confirm:J=>dn(B,L.confirm(J))}})).apply(this,arguments)}class Yt{constructor(x,L){this.resolver=L,this.auth=function br(B){return B.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return dn(Sr(this.auth),this.resolver.resolveSignIn(x))}}class ui{constructor(x){this._delegate=x,this.multiFactor=N.ao(x)}static getOrCreate(x){return ui.USER_MAP.has(x)||ui.USER_MAP.set(x,new ui(x)),ui.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var L=this;return(0,l.Z)(function*(){return dn(L.auth,N.Z(L._delegate,x))})()}linkWithPhoneNumber(x,L){var J=this;return(0,l.Z)(function*(){return _t(J.auth,N.l(J._delegate,x,L))})()}linkWithPopup(x){var L=this;return(0,l.Z)(function*(){return dn(L.auth,N.d(L._delegate,x,Xe))})()}linkWithRedirect(x){var L=this;return(0,l.Z)(function*(){return yield xn(N.aE(L.auth)),N.g(L._delegate,x,Xe)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var L=this;return(0,l.Z)(function*(){return dn(L.auth,N._(L._delegate,x))})()}reauthenticateWithPhoneNumber(x,L){return _t(this.auth,N.r(this._delegate,x,L))}reauthenticateWithPopup(x){return dn(this.auth,N.e(this._delegate,x,Xe))}reauthenticateWithRedirect(x){var L=this;return(0,l.Z)(function*(){return yield xn(N.aE(L.auth)),N.h(L._delegate,x,Xe)})()}sendEmailVerification(x){return N.ab(this._delegate,x)}unlink(x){var L=this;return(0,l.Z)(function*(){return yield N.ak(L._delegate,x),L})()}updateEmail(x){return N.ag(this._delegate,x)}updatePassword(x){return N.ah(this._delegate,x)}updatePhoneNumber(x){return N.u(this._delegate,x)}updateProfile(x){return N.af(this._delegate,x)}verifyBeforeUpdateEmail(x,L){return N.ac(this._delegate,x,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ui.USER_MAP=new WeakMap;const ze=N.ax;let he=(()=>{class B{constructor(L,J){if(this.app=L,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=L.options;ze(xe,"invalid-api-key",{appName:L.name}),ze(xe,"invalid-api-key",{appName:L.name});const qe="undefined"!=typeof window?Xe:void 0;this._delegate=J.initialize({options:{persistence:Ct(xe,L.name),popupRedirectResolver:qe}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,J){N.G(this._delegate,L,J)}applyActionCode(L){return N.a2(this._delegate,L)}checkActionCode(L){return N.a3(this._delegate,L)}confirmPasswordReset(L,J){return N.a1(this._delegate,L,J)}createUserWithEmailAndPassword(L,J){var xe=this;return(0,l.Z)(function*(){return dn(xe._delegate,N.a5(xe._delegate,L,J))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return N.aa(this._delegate,L)}isSignInWithEmailLink(L){return N.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,l.Z)(function*(){ze(ji(),L._delegate,"operation-not-supported-in-this-environment");const J=yield N.j(L._delegate,Xe);return J?dn(L._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function at(B,x){(0,N.aE)(B)._logFramework(x)}(this._delegate,L)}onAuthStateChanged(L,J,xe){const{next:qe,error:mt,complete:xt}=Ue(L,J,xe);return this._delegate.onAuthStateChanged(qe,mt,xt)}onIdTokenChanged(L,J,xe){const{next:qe,error:mt,complete:xt}=Ue(L,J,xe);return this._delegate.onIdTokenChanged(qe,mt,xt)}sendSignInLinkToEmail(L,J){return N.a7(this._delegate,L,J)}sendPasswordResetEmail(L,J){return N.a0(this._delegate,L,J||void 0)}setPersistence(L){var J=this;return(0,l.Z)(function*(){let xe;switch(function ir(B,x){zi(Object.values(un).includes(x),B,"invalid-persistence-type"),(0,oe.b$)()?zi(x!==un.SESSION,B,"unsupported-persistence-type"):(0,oe.UG)()?zi(x===un.NONE,B,"unsupported-persistence-type"):vr()?zi(x===un.NONE||x===un.LOCAL&&(0,oe.hl)(),B,"unsupported-persistence-type"):zi(x===un.NONE||ci(),B,"unsupported-persistence-type")}(J._delegate,L),L){case un.SESSION:xe=N.a;break;case un.LOCAL:xe=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case un.NONE:xe=N.L;break;default:return N.as("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return dn(this._delegate,N.X(this._delegate))}signInWithCredential(L){return dn(this._delegate,N.Y(this._delegate,L))}signInWithCustomToken(L){return dn(this._delegate,N.$(this._delegate,L))}signInWithEmailAndPassword(L,J){return dn(this._delegate,N.a6(this._delegate,L,J))}signInWithEmailLink(L,J){return dn(this._delegate,N.a9(this._delegate,L,J))}signInWithPhoneNumber(L,J){return _t(this._delegate,N.s(this._delegate,L,J))}signInWithPopup(L){var J=this;return(0,l.Z)(function*(){return ze(ji(),J._delegate,"operation-not-supported-in-this-environment"),dn(J._delegate,N.c(J._delegate,L,Xe))})()}signInWithRedirect(L){var J=this;return(0,l.Z)(function*(){return ze(ji(),J._delegate,"operation-not-supported-in-this-environment"),yield xn(J._delegate),N.f(J._delegate,L,Xe)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return N.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=un,B})();function Ue(B,x,L){let J=B;"function"!=typeof B&&({next:J,error:x,complete:L}=B);const xe=J;return{next:mt=>xe(mt&&ui.getOrCreate(mt)),error:x,complete:L}}function Ct(B,x){const L=function ps(B,x){const L=$t();if(!L)return[];const J=N.aA(Mr,B,x);switch(L.getItem(J)){case un.NONE:return[N.L];case un.LOCAL:return[N.i,N.a];case un.SESSION:return[N.a];default:return[]}}(B,x);if("undefined"!=typeof self&&!L.includes(N.i)&&L.push(N.i),"undefined"!=typeof window)for(const J of[N.b,N.a])L.includes(J)||L.push(J);return L.includes(N.L)||L.push(N.L),L}class Mt{constructor(){this.providerId="phone",this._delegate=new N.P(Sr(j.Z.auth()))}static credential(x,L){return N.P.credential(x,L)}verifyPhoneNumber(x,L){return this._delegate.verifyPhoneNumber(x,L)}unwrap(){return this._delegate}}Mt.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Mt.PROVIDER_ID=N.P.PROVIDER_ID;const nn=N.ax;class H{constructor(x,L,J=j.Z.app()){var xe;nn(null===(xe=J.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new N.R(x,L,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W(B){B.INTERNAL.registerComponent(new ce.wA("auth-compat",x=>{const L=x.getProvider("app-compat").getImmediate(),J=x.getProvider("auth");return new he(L,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:Mt,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:H,TwitterAuthProvider:N.W,Auth:he,AuthCredential:N.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.3.3")}(j.Z)},8766:(rt,_e,F)=>{F.d(_e,{Lj:()=>Me,X3:()=>Ge});var l=F(5861);let N,oe;const ce=new WeakMap,fe=new WeakMap,ke=new WeakMap,G=new WeakMap,$=new WeakMap;let Se={get(ie,pe,je){if(ie instanceof IDBTransaction){if("done"===pe)return fe.get(ie);if("objectStoreNames"===pe)return ie.objectStoreNames||ke.get(ie);if("store"===pe)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return Ce(ie[pe])},set:(ie,pe,je)=>(ie[pe]=je,!0),has:(ie,pe)=>ie instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in ie};function te(ie){return"function"==typeof ie?function Oe(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...pe){return ie.apply(He(this),pe),Ce(ce.get(this))}:function(...pe){return Ce(ie.apply(He(this),pe))}:function(pe,...je){const nt=ie.call(He(this),pe,...je);return ke.set(nt,pe.sort?pe.sort():[pe]),Ce(nt)}}(ie):(ie instanceof IDBTransaction&&function Ve(ie){if(fe.has(ie))return;const pe=new Promise((je,nt)=>{const ot=()=>{ie.removeEventListener("complete",Ft),ie.removeEventListener("error",q),ie.removeEventListener("abort",q)},Ft=()=>{je(),ot()},q=()=>{nt(ie.error||new DOMException("AbortError","AbortError")),ot()};ie.addEventListener("complete",Ft),ie.addEventListener("error",q),ie.addEventListener("abort",q)});fe.set(ie,pe)}(ie),((ie,pe)=>pe.some(je=>ie instanceof je))(ie,function De(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Se):ie)}function Ce(ie){if(ie instanceof IDBRequest)return function ee(ie){const pe=new Promise((je,nt)=>{const ot=()=>{ie.removeEventListener("success",Ft),ie.removeEventListener("error",q)},Ft=()=>{je(Ce(ie.result)),ot()},q=()=>{nt(ie.error),ot()};ie.addEventListener("success",Ft),ie.addEventListener("error",q)});return pe.then(je=>{je instanceof IDBCursor&&ce.set(je,ie)}).catch(()=>{}),$.set(pe,ie),pe}(ie);if(G.has(ie))return G.get(ie);const pe=te(ie);return pe!==ie&&(G.set(ie,pe),$.set(pe,ie)),pe}const He=ie=>$.get(ie);function Ge(ie,pe,{blocked:je,upgrade:nt,blocking:ot,terminated:Ft}={}){const q=indexedDB.open(ie,pe),se=Ce(q);return nt&&q.addEventListener("upgradeneeded",ue=>{nt(Ce(q.result),ue.oldVersion,ue.newVersion,Ce(q.transaction))}),je&&q.addEventListener("blocked",()=>je()),se.then(ue=>{Ft&&ue.addEventListener("close",()=>Ft()),ot&&ue.addEventListener("versionchange",()=>ot())}).catch(()=>{}),se}function Me(ie,{blocked:pe}={}){const je=indexedDB.deleteDatabase(ie);return pe&&je.addEventListener("blocked",()=>pe()),Ce(je).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],Ne=new Map;function X(ie,pe){if(!(ie instanceof IDBDatabase)||pe in ie||"string"!=typeof pe)return;if(Ne.get(pe))return Ne.get(pe);const je=pe.replace(/FromIndex$/,""),nt=pe!==je,ot=de.includes(je);if(!(je in(nt?IDBIndex:IDBObjectStore).prototype)||!ot&&!me.includes(je))return;const Ft=function(){var q=(0,l.Z)(function*(se,...ue){const Ee=this.transaction(se,ot?"readwrite":"readonly");let Te=Ee.store;return nt&&(Te=Te.index(ue.shift())),(yield Promise.all([Te[je](...ue),ot&&Ee.done]))[0]});return function(ue){return q.apply(this,arguments)}}();return Ne.set(pe,Ft),Ft}!function Be(ie){Se=ie(Se)}(ie=>AH(xH({},ie),{get:(pe,je,nt)=>X(pe,je)||ie.get(pe,je,nt),has:(pe,je)=>!!X(pe,je)||ie.has(pe,je)}))},5861:(rt,_e,F)=>{function l(N,oe,De,we,ce,fe,ke){try{var G=N[fe](ke),$=G.value}catch(ee){return void De(ee)}G.done?oe($):Promise.resolve($).then(we,ce)}function j(N){return function(){var oe=this,De=arguments;return new Promise(function(we,ce){var fe=N.apply(oe,De);function ke($){l(fe,we,ce,ke,G,"next",$)}function G($){l(fe,we,ce,ke,G,"throw",$)}ke(void 0)})}}F.d(_e,{Z:()=>j})}},rt=>{rt(rt.s=3269)}]);